var Hs=Object.defineProperty;var Ws=(c,p,f)=>p in c?Hs(c,p,{enumerable:!0,configurable:!0,writable:!0,value:f}):c[p]=f;var xe=(c,p,f)=>Ws(c,typeof p!="symbol"?p+"":p,f);(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))k(x);new MutationObserver(x=>{for(const w of x)if(w.type==="childList")for(const F of w.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&k(F)}).observe(document,{childList:!0,subtree:!0});function f(x){const w={};return x.integrity&&(w.integrity=x.integrity),x.referrerPolicy&&(w.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?w.credentials="include":x.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function k(x){if(x.ep)return;x.ep=!0;const w=f(x);fetch(x.href,w)}})();const js="modulepreload",Vs=function(c){return"/Calculation-of-Compressor-Efficiency-pro/"+c},fn={},Gs=function(p,f,k){let x=Promise.resolve();if(f&&f.length>0){document.getElementsByTagName("link");const F=document.querySelector("meta[property=csp-nonce]"),$=(F==null?void 0:F.nonce)||(F==null?void 0:F.getAttribute("nonce"));x=Promise.allSettled(f.map(I=>{if(I=Vs(I),I in fn)return;fn[I]=!0;const M=I.endsWith(".css"),O=M?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${I}"]${O}`))return;const D=document.createElement("link");if(D.rel=M?"stylesheet":js,M||(D.as="script"),D.crossOrigin="",D.href=I,$&&D.setAttribute("nonce",$),document.head.appendChild(D),M)return new Promise((L,j)=>{D.addEventListener("load",L),D.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${I}`)))})}))}function w(F){const $=new Event("vite:preloadError",{cancelable:!0});if($.payload=F,window.dispatchEvent($),!$.defaultPrevented)throw F}return x.then(F=>{for(const $ of F||[])$.status==="rejected"&&w($.reason);return p().catch(w)})};async function qs(c={}){var sn,ln,dn;var p,f=c,k=typeof window=="object",x=typeof WorkerGlobalScope<"u",w=typeof process=="object"&&((sn=process.versions)==null?void 0:sn.node)&&process.type!="renderer",F=!k&&!w&&!x;if(w){const{createRequire:e}=await Gs(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);var $=e(import.meta.url)}var I="./this.program",M=import.meta.url,O="";function D(e){return f.locateFile?f.locateFile(e,O):O+e}var L,j;if(w){if(!(typeof process=="object"&&((ln=process.versions)==null?void 0:ln.node)&&process.type!="renderer"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var ie=process.versions.node,Y=ie.split(".").slice(0,3);if(Y=Y[0]*1e4+Y[1]*100+Y[2].split("-")[0]*1,Y<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+ie+")");var ee=$("fs");M.startsWith("file:")&&(O=$("path").dirname($("url").fileURLToPath(M))+"/"),j=t=>{t=J(t)?new URL(t):t;var r=ee.readFileSync(t);return S(Buffer.isBuffer(r)),r},L=async(t,r=!0)=>{t=J(t)?new URL(t):t;var n=ee.readFileSync(t,r?void 0:"utf8");return S(r?Buffer.isBuffer(n):typeof n=="string"),n},process.argv.length>1&&(I=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2)}else if(F){if(typeof process=="object"&&((dn=process.versions)==null?void 0:dn.node)&&process.type!="renderer"||typeof window=="object"||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(k||x){try{O=new URL(".",M).href}catch{}if(!(typeof window=="object"||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");x&&(j=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),L=async e=>{if(J(e))return new Promise((r,n)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){r(o.response);return}n(o.status)},o.onerror=n,o.send(null)});var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)}}else throw new Error("environment detection error");var te=console.log.bind(console),B=console.error.bind(console);S(!F,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var ae;typeof WebAssembly!="object"&&B("no native wasm support detected");var X=!1;function S(e,t){e||se("Assertion failed"+(t?": "+t:""))}var J=e=>e.startsWith("file://");function V(){var e=Vt();S((e&3)==0),e==0&&(e+=4),C[e>>2]=34821223,C[e+4>>2]=2310721022,C[0]=1668509029}function re(){if(!X){var e=Vt();e==0&&(e+=4);var t=C[e>>2],r=C[e+4>>2];(t!=34821223||r!=2310721022)&&se(`Stack overflow! Stack cookie has been overwritten at ${Ve(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Ve(r)} ${Ve(t)}`),C[0]!=1668509029&&se("Runtime error: The application has corrupted its heap memory area (address zero)!")}}class m extends Error{}class ve extends m{constructor(t){super(t),this.excPtr=t;const r=Gr(t);this.name=r[0],this.message=r[1]}}(()=>{var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,t[0]!==115||t[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();function ue(e){Object.getOwnPropertyDescriptor(f,e)||Object.defineProperty(f,e,{configurable:!0,set(){se(`Attempt to set \`Module.${e}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function z(e){return()=>S(!1,`call to '${e}' via reference taken before Wasm module initialization`)}function Q(e){Object.getOwnPropertyDescriptor(f,e)&&se(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function fe(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function me(e,t){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get(){t()}})}function ne(e,t){me(e,()=>{Fe(`\`${e}\` is not longer defined by emscripten. ${t}`)})}ne("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),ne("asm","Please use wasmExports instead");function Se(e){me(e,()=>{var t=`\`${e}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,r=e;r.startsWith("_")||(r="$"+e),t+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${r}')`,fe(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Fe(t)}),ur(e)}function ur(e){Object.getOwnPropertyDescriptor(f,e)||Object.defineProperty(f,e,{configurable:!0,get(){var t=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;fe(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),se(t)}})}var st,lt,Xe,de,we,ke,We,U,C,pr,vr,ce,mr,Qe=!1;function _r(){var e=Xe.buffer;de=new Int8Array(e),ke=new Int16Array(e),we=new Uint8Array(e),We=new Uint16Array(e),U=new Int32Array(e),C=new Uint32Array(e),pr=new Float32Array(e),vr=new Float64Array(e),ce=new BigInt64Array(e),mr=new BigUint64Array(e)}S(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support");function hn(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)$n(f.preRun.shift());ue("preRun"),hr(wr)}function yn(){S(!Qe),Qe=!0,re(),!f.noFSInit&&!s.initialized&&s.init(),Le.__wasm_call_ctors(),s.ignorePermissions=!1}function wn(){if(re(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)Pn(f.postRun.shift());ue("postRun"),hr(yr)}var Ae=0,Ze=null,je={},Ie=null;function gr(e){var t;Ae++,(t=f.monitorRunDependencies)==null||t.call(f,Ae),e?(S(!je[e]),je[e]=1,Ie===null&&typeof setInterval<"u"&&(Ie=setInterval(()=>{if(X){clearInterval(Ie),Ie=null;return}var r=!1;for(var n in je)r||(r=!0,B("still waiting on run dependencies:")),B(`dependency: ${n}`);r&&B("(end of list)")},1e4))):B("warning: run dependency added without ID")}function $t(e){var r;if(Ae--,(r=f.monitorRunDependencies)==null||r.call(f,Ae),e?(S(je[e]),delete je[e]):B("warning: run dependency removed without ID"),Ae==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),Ze)){var t=Ze;Ze=null,t()}}function se(e){var r;(r=f.onAbort)==null||r.call(f,e),e="Aborted("+e+")",B(e),X=!0;var t=new WebAssembly.RuntimeError(e);throw lt==null||lt(t),t}function _e(e,t){return(...r)=>{S(Qe,`native function \`${e}\` called before runtime initialization`);var n=Le[e];return S(n,`exported native function \`${e}\` not found`),S(r.length<=t,`native function \`${e}\` called with ${r.length} args but expects ${t}`),n(...r)}}var et;function bn(){return f.locateFile?D("coolprop.wasm"):new URL("coolprop.wasm",import.meta.url).href}function En(e){if(e==et&&ae)return new Uint8Array(ae);if(j)return j(e);throw"both async and sync fetching of the wasm failed"}async function xn(e){if(!ae)try{var t=await L(e);return new Uint8Array(t)}catch{}return En(e)}async function Sn(e,t){try{var r=await xn(e),n=await WebAssembly.instantiate(r,t);return n}catch(o){B(`failed to asynchronously prepare wasm: ${o}`),J(et)&&B(`warning: Loading from a file URI (${et}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),se(o)}}async function kn(e,t,r){if(!e&&!J(t)&&!w)try{var n=fetch(t,{credentials:"same-origin"}),o=await WebAssembly.instantiateStreaming(n,r);return o}catch(i){B(`wasm streaming compile failed: ${i}`),B("falling back to ArrayBuffer instantiation")}return Sn(t,r)}function Fn(){return{env:on,wasi_snapshot_preview1:on}}async function Tn(){function e(a,l){return Le=a.exports,Xe=Le.memory,S(Xe,"memory not found in wasm exports"),_r(),yt=Le.__indirect_function_table,S(yt,"table not found in wasm exports"),Mi(Le),$t("wasm-instantiate"),Le}gr("wasm-instantiate");var t=f;function r(a){return S(f===t,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),t=null,e(a.instance)}var n=Fn();if(f.instantiateWasm)return new Promise((a,l)=>{try{f.instantiateWasm(n,(d,u)=>{a(e(d,u))})}catch(d){B(`Module.instantiateWasm callback failed with error: ${d}`),l(d)}});et??(et=bn());var o=await kn(ae,et,n),i=r(o);return i}var hr=e=>{for(;e.length>0;)e.shift()(f)},yr=[],Pn=e=>yr.push(e),wr=[],$n=e=>wr.push(e),Ve=e=>(S(typeof e=="number"),e>>>=0,"0x"+e.toString(16).padStart(8,"0")),g=e=>Zr(e),h=()=>tn(),Fe=e=>{Fe.shown||(Fe.shown={}),Fe.shown[e]||(Fe.shown[e]=1,w&&(e="warning: "+e),B(e))},br=typeof TextDecoder<"u"?new TextDecoder:void 0,Er=(e,t,r,n)=>{var o=t+r;if(n)return o;for(;e[t]&&!(t>=o);)++t;return t},Ge=(e,t=0,r,n)=>{var o=Er(e,t,r,n);if(o-t>16&&e.buffer&&br)return br.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(!(a&128)){i+=String.fromCharCode(a);continue}var l=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|l);continue}var d=e[t++]&63;if((a&240)==224?a=(a&15)<<12|l<<6|d:((a&248)!=240&&Fe("Invalid UTF-8 leading byte "+Ve(a)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),a=(a&7)<<18|l<<12|d<<6|e[t++]&63),a<65536)i+=String.fromCharCode(a);else{var u=a-65536;i+=String.fromCharCode(55296|u>>10,56320|u&1023)}}return i},$e=(e,t,r)=>(S(typeof e=="number",`UTF8ToString expects a number (got ${typeof e})`),e?Ge(we,e,t,r):""),An=(e,t,r,n)=>se(`Assertion failed: ${$e(e)}, at: `+[t?$e(t):"unknown filename",r,n?$e(n):"unknown function"]),tt=[],dt=0,In=e=>{var t=new At(e);return t.get_caught()||(t.set_caught(!0),dt--),t.set_rethrown(!1),tt.push(t),qt(e),Yr(e)},ge=0,Cn=()=>{_(0,0),S(tt.length>0);var e=tt.pop();Gt(e.excPtr),ge=0};class At{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){C[this.ptr+4>>2]=t}get_type(){return C[this.ptr+4>>2]}set_destructor(t){C[this.ptr+8>>2]=t}get_destructor(){return C[this.ptr+8>>2]}set_caught(t){t=t?1:0,de[this.ptr+12]=t}get_caught(){return de[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,de[this.ptr+13]=t}get_rethrown(){return de[this.ptr+13]!=0}init(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)}set_adjusted_ptr(t){C[this.ptr+16>>2]=t}get_adjusted_ptr(){return C[this.ptr+16>>2]}}var ct=e=>Xr(e),It=e=>{var t=ge==null?void 0:ge.excPtr;if(!t)return ct(0),0;var r=new At(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return ct(0),t;for(var o of e){if(o===0||o===n)break;var i=r.ptr+16;if(nn(o,n,i))return ct(o),t}return ct(n),t},Rn=()=>It([]),Dn=e=>It([e]),Mn=(e,t)=>It([e,t]),On=()=>{var e=tt.pop();e||se("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(tt.push(e),e.set_rethrown(!0),e.set_caught(!1),dt++),ge=new ve(t),ge},Ln=(e,t,r)=>{var n=new At(e);throw n.init(t,r),ge=new ve(e),dt++,ge},Nn=()=>dt,Bn=e=>{throw ge||(ge=new ve(e)),ge},ft=()=>{S(G.varargs!=null);var e=U[+G.varargs>>2];return G.varargs+=4,e},qe=ft,H={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=H.isAbs(e),r=e.slice(-1)==="/";return e=H.normalizeArray(e.split("/").filter(n=>!!n),!t).join("/"),!e&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=H.splitPath(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.slice(0,-1)),r+n)},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>H.normalize(e.join("/")),join2:(e,t)=>H.normalize(e+"/"+t)},zn=()=>{if(w){var e=$("crypto");return t=>e.randomFillSync(t)}return t=>crypto.getRandomValues(t)},xr=e=>{(xr=zn())(e)},Ke={resolve:(...e)=>{for(var t="",r=!1,n=e.length-1;n>=-1&&!r;n--){var o=n>=0?e[n]:s.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";t=o+"/"+t,r=H.isAbs(o)}return t=H.normalizeArray(t.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+t||"."},relative:(e,t)=>{e=Ke.resolve(e).slice(1),t=Ke.resolve(t).slice(1);function r(u){for(var v=0;v<u.length&&u[v]==="";v++);for(var b=u.length-1;b>=0&&u[b]==="";b--);return v>b?[]:u.slice(v,b-v+1)}for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),a=i,l=0;l<i;l++)if(n[l]!==o[l]){a=l;break}for(var d=[],l=a;l<n.length;l++)d.push("..");return d=d.concat(o.slice(a)),d.join("/")}},Ct=[],rt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Sr=(e,t,r,n)=>{if(S(typeof e=="string",`stringToUTF8Array expects a string (got ${typeof e})`),!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var l=e.codePointAt(a);if(l<=127){if(r>=i)break;t[r++]=l}else if(l<=2047){if(r+1>=i)break;t[r++]=192|l>>6,t[r++]=128|l&63}else if(l<=65535){if(r+2>=i)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|l&63}else{if(r+3>=i)break;l>1114111&&Fe("Invalid Unicode code point "+Ve(l)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|l&63,a++}}return t[r]=0,r-o},Rt=(e,t,r)=>{var n=rt(e)+1,o=new Array(n),i=Sr(e,o,0,o.length);return o.length=i,o},Un=()=>{if(!Ct.length){var e=null;if(w){var t=256,r=Buffer.alloc(t),n=0,o=process.stdin.fd;try{n=ee.readSync(o,r,0,t)}catch(i){if(i.toString().includes("EOF"))n=0;else throw i}n>0&&(e=r.slice(0,n).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`));if(!e)return null;Ct=Rt(e)}return Ct.shift()},Ce={ttys:[],init(){},shutdown(){},register(e,t){Ce.ttys[e]={input:[],output:[],ops:t},s.registerDevice(e,Ce.stream_ops)},stream_ops:{open(e){var t=Ce.ttys[e.node.rdev];if(!t)throw new s.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new s.ErrnoError(60);for(var i=0,a=0;a<n;a++){var l;try{l=e.tty.ops.get_char(e.tty)}catch{throw new s.ErrnoError(29)}if(l===void 0&&i===0)throw new s.ErrnoError(6);if(l==null)break;i++,t[r+a]=l}return i&&(e.node.atime=Date.now()),i},write(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new s.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,t[r+i])}catch{throw new s.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),i}},default_tty_ops:{get_char(e){return Un()},put_char(e,t){t===null||t===10?(te(Ge(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){var t;((t=e.output)==null?void 0:t.length)>0&&(te(Ge(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,r){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(B(Ge(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){var t;((t=e.output)==null?void 0:t.length)>0&&(B(Ge(e.output)),e.output=[])}}},kr=e=>{se("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},R={ops_table:null,mount(e){return R.createNode(null,"/",16895,0)},createNode(e,t,r,n){if(s.isBlkdev(r)||s.isFIFO(r))throw new s.ErrnoError(63);R.ops_table||(R.ops_table={dir:{node:{getattr:R.node_ops.getattr,setattr:R.node_ops.setattr,lookup:R.node_ops.lookup,mknod:R.node_ops.mknod,rename:R.node_ops.rename,unlink:R.node_ops.unlink,rmdir:R.node_ops.rmdir,readdir:R.node_ops.readdir,symlink:R.node_ops.symlink},stream:{llseek:R.stream_ops.llseek}},file:{node:{getattr:R.node_ops.getattr,setattr:R.node_ops.setattr},stream:{llseek:R.stream_ops.llseek,read:R.stream_ops.read,write:R.stream_ops.write,mmap:R.stream_ops.mmap,msync:R.stream_ops.msync}},link:{node:{getattr:R.node_ops.getattr,setattr:R.node_ops.setattr,readlink:R.node_ops.readlink},stream:{}},chrdev:{node:{getattr:R.node_ops.getattr,setattr:R.node_ops.setattr},stream:s.chrdev_stream_ops}});var o=s.createNode(e,t,r,n);return s.isDir(o.mode)?(o.node_ops=R.ops_table.dir.node,o.stream_ops=R.ops_table.dir.stream,o.contents={}):s.isFile(o.mode)?(o.node_ops=R.ops_table.file.node,o.stream_ops=R.ops_table.file.stream,o.usedBytes=0,o.contents=null):s.isLink(o.mode)?(o.node_ops=R.ops_table.link.node,o.stream_ops=R.ops_table.link.stream):s.isChrdev(o.mode)&&(o.node_ops=R.ops_table.chrdev.node,o.stream_ops=R.ops_table.chrdev.stream),o.atime=o.mtime=o.ctime=Date.now(),e&&(e.contents[t]=o,e.atime=e.mtime=e.ctime=o.atime),o},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){var n=1024*1024;t=Math.max(t,r*(r<n?2:1.125)>>>0),r!=0&&(t=Math.max(t,256));var o=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=s.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,s.isDir(e.mode)?t.size=4096:s.isFile(e.mode)?t.size=e.usedBytes:s.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const r of["mode","atime","mtime","ctime"])t[r]!=null&&(e[r]=t[r]);t.size!==void 0&&R.resizeFileStorage(e,t.size)},lookup(e,t){throw new s.ErrnoError(44)},mknod(e,t,r,n){return R.createNode(e,t,r,n)},rename(e,t,r){var n;try{n=s.lookupNode(t,r)}catch{}if(n){if(s.isDir(e.mode))for(var o in n.contents)throw new s.ErrnoError(55);s.hashRemoveNode(n)}delete e.parent.contents[e.name],t.contents[r]=e,e.name=r,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var r=s.lookupNode(e,t);for(var n in r.contents)throw new s.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir(e){return[".","..",...Object.keys(e.contents)]},symlink(e,t,r){var n=R.createNode(e,t,41471,0);return n.link=r,n},readlink(e){if(!s.isLink(e.mode))throw new s.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(S(a>=0),a>8&&i.subarray)t.set(i.subarray(o,o+a),r);else for(var l=0;l<a;l++)t[r+l]=i[o+l];return a},write(e,t,r,n,o,i){if(S(!(t instanceof ArrayBuffer)),t.buffer===de.buffer&&(i=!1),!n)return 0;var a=e.node;if(a.mtime=a.ctime=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return S(o===0,"canOwn must imply no weird position inside the file"),a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(a.usedBytes===0&&o===0)return a.contents=t.slice(r,r+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),o),n}if(R.expandFileStorage(a,o+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),o);else for(var l=0;l<n;l++)a.contents[o+l]=t[r+l];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek(e,t,r){var n=t;if(r===1?n+=e.position:r===2&&s.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new s.ErrnoError(28);return n},mmap(e,t,r,n,o){if(!s.isFile(e.node.mode))throw new s.ErrnoError(43);var i,a,l=e.node.contents;if(!(o&2)&&l&&l.buffer===de.buffer)a=!1,i=l.byteOffset;else{if(a=!0,i=kr(),!i)throw new s.ErrnoError(48);l&&((r>0||r+t<l.length)&&(l.subarray?l=l.subarray(r,r+t):l=Array.prototype.slice.call(l,r,r+t)),de.set(l,i))}return{ptr:i,allocated:a}},msync(e,t,r,n,o){return R.stream_ops.write(e,t,0,n,r,!1),0}}},Hn=async e=>{var t=await L(e);return S(t,`Loading data file "${e}" failed (no arrayBuffer).`),new Uint8Array(t)},Wn=(...e)=>s.createDataFile(...e),jn=e=>{for(var t=e;;){if(!je[e])return e;e=t+Math.random()}},Fr=[],Vn=(e,t,r,n)=>{typeof Browser<"u"&&Browser.init();var o=!1;return Fr.forEach(i=>{o||i.canHandle(t)&&(i.handle(e,t,r,n),o=!0)}),o},Gn=(e,t,r,n,o,i,a,l,d,u)=>{var v=t?Ke.resolve(H.join2(e,t)):e,b=jn(`cp ${v}`);function T(E){function P(A){u==null||u(),l||Wn(e,t,A,n,o,d),i==null||i(),$t(b)}Vn(E,v,P,()=>{a==null||a(),$t(b)})||P(E)}gr(b),typeof r=="string"?Hn(r).then(T,a):T(r)},qn=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},r=t[e];if(typeof r>"u")throw new Error(`Unknown file open mode: ${e}`);return r},Dt=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},Kn=e=>$e(Jr(e)),Tr={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},s={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class extends Error{constructor(t){super(Qe?Kn(t):"");xe(this,"name","ErrnoError");this.errno=t;for(var r in Tr)if(Tr[r]===t){this.code=r;break}}},FSStream:class{constructor(){xe(this,"shared",{})}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,r,n){xe(this,"node_ops",{});xe(this,"stream_ops",{});xe(this,"readMode",365);xe(this,"writeMode",146);xe(this,"mounted",null);e||(e=this),this.parent=e,this.mount=e.mount,this.id=s.nextInode++,this.name=t,this.mode=r,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return s.isDir(this.mode)}get isDevice(){return s.isChrdev(this.mode)}},lookupPath(e,t={}){if(!e)throw new s.ErrnoError(44);t.follow_mount??(t.follow_mount=!0),H.isAbs(e)||(e=s.cwd()+"/"+e);e:for(var r=0;r<40;r++){for(var n=e.split("/").filter(u=>!!u),o=s.root,i="/",a=0;a<n.length;a++){var l=a===n.length-1;if(l&&t.parent)break;if(n[a]!=="."){if(n[a]===".."){if(i=H.dirname(i),s.isRoot(o)){e=i+"/"+n.slice(a+1).join("/"),r--;continue e}else o=o.parent;continue}i=H.join2(i,n[a]);try{o=s.lookupNode(o,n[a])}catch(u){if((u==null?void 0:u.errno)===44&&l&&t.noent_okay)return{path:i};throw u}if(s.isMountpoint(o)&&(!l||t.follow_mount)&&(o=o.mounted.root),s.isLink(o.mode)&&(!l||t.follow)){if(!o.node_ops.readlink)throw new s.ErrnoError(52);var d=o.node_ops.readlink(o);H.isAbs(d)||(d=H.dirname(i)+"/"+d),e=d+"/"+n.slice(a+1).join("/");continue e}}}return{path:i,node:o}}throw new s.ErrnoError(32)},getPath(e){for(var t;;){if(s.isRoot(e)){var r=e.mount.mountpoint;return t?r[r.length-1]!=="/"?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%s.nameTable.length},hashAddNode(e){var t=s.hashName(e.parent.id,e.name);e.name_next=s.nameTable[t],s.nameTable[t]=e},hashRemoveNode(e){var t=s.hashName(e.parent.id,e.name);if(s.nameTable[t]===e)s.nameTable[t]=e.name_next;else for(var r=s.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=s.mayLookup(e);if(r)throw new s.ErrnoError(r);for(var n=s.hashName(e.id,t),o=s.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return s.lookup(e,t)},createNode(e,t,r,n){S(typeof e=="object");var o=new s.FSNode(e,t,r,n);return s.hashAddNode(o),o},destroyNode(e){s.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions(e,t){return s.ignorePermissions?0:t.includes("r")&&!(e.mode&292)||t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!s.isDir(e.mode))return 54;var t=s.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){if(!s.isDir(e.mode))return 54;try{var r=s.lookupNode(e,t);return 20}catch{}return s.nodePermissions(e,"wx")},mayDelete(e,t,r){var n;try{n=s.lookupNode(e,t)}catch(i){return i.errno}var o=s.nodePermissions(e,"wx");if(o)return o;if(r){if(!s.isDir(n.mode))return 54;if(s.isRoot(n)||s.getPath(n)===s.cwd())return 10}else if(s.isDir(n.mode))return 31;return 0},mayOpen(e,t){return e?s.isLink(e.mode)?32:s.isDir(e.mode)&&(s.flagsToPermissionString(t)!=="r"||t&576)?31:s.nodePermissions(e,s.flagsToPermissionString(t)):44},checkOpExists(e,t){if(!e)throw new s.ErrnoError(t);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=s.MAX_OPEN_FDS;e++)if(!s.streams[e])return e;throw new s.ErrnoError(33)},getStreamChecked(e){var t=s.getStream(e);if(!t)throw new s.ErrnoError(8);return t},getStream:e=>s.streams[e],createStream(e,t=-1){return S(t>=-1),e=Object.assign(new s.FSStream,e),t==-1&&(t=s.nextfd()),e.fd=t,s.streams[t]=e,e},closeStream(e){s.streams[e]=null},dupStream(e,t=-1){var n,o;var r=s.createStream(e,t);return(o=(n=r.stream_ops)==null?void 0:n.dup)==null||o.call(n,r),r},doSetAttr(e,t,r){var n=e==null?void 0:e.stream_ops.setattr,o=n?e:t;n??(n=t.node_ops.setattr),s.checkOpExists(n,63),n(o,r)},chrdev_stream_ops:{open(e){var r,n;var t=s.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,(n=(r=e.stream_ops).open)==null||n.call(r,e)},llseek(){throw new s.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){s.devices[e]={stream_ops:t}},getDevice:e=>s.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push(...n.mounts)}return t},syncfs(e,t){typeof e=="function"&&(t=e,e=!1),s.syncFSRequests++,s.syncFSRequests>1&&B(`warning: ${s.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=s.getMounts(s.root.mount),n=0;function o(a){return S(s.syncFSRequests>0),s.syncFSRequests--,t(a)}function i(a){if(a)return i.errored?void 0:(i.errored=!0,o(a));++n>=r.length&&o(null)}r.forEach(a=>{if(!a.type.syncfs)return i(null);a.type.syncfs(a,e,i)})},mount(e,t,r){if(typeof e=="string")throw e;var n=r==="/",o=!r,i;if(n&&s.root)throw new s.ErrnoError(10);if(!n&&!o){var a=s.lookupPath(r,{follow_mount:!1});if(r=a.path,i=a.node,s.isMountpoint(i))throw new s.ErrnoError(10);if(!s.isDir(i.mode))throw new s.ErrnoError(54)}var l={type:e,opts:t,mountpoint:r,mounts:[]},d=e.mount(l);return d.mount=l,l.root=d,n?s.root=d:i&&(i.mounted=l,i.mount&&i.mount.mounts.push(l)),d},unmount(e){var t=s.lookupPath(e,{follow_mount:!1});if(!s.isMountpoint(t.node))throw new s.ErrnoError(28);var r=t.node,n=r.mounted,o=s.getMounts(n);Object.keys(s.nameTable).forEach(a=>{for(var l=s.nameTable[a];l;){var d=l.name_next;o.includes(l.mount)&&s.destroyNode(l),l=d}}),r.mounted=null;var i=r.mount.mounts.indexOf(n);S(i!==-1),r.mount.mounts.splice(i,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,r){var n=s.lookupPath(e,{parent:!0}),o=n.node,i=H.basename(e);if(!i)throw new s.ErrnoError(28);if(i==="."||i==="..")throw new s.ErrnoError(20);var a=s.mayCreate(o,i);if(a)throw new s.ErrnoError(a);if(!o.node_ops.mknod)throw new s.ErrnoError(63);return o.node_ops.mknod(o,i,t,r)},statfs(e){return s.statfsNode(s.lookupPath(e,{follow:!0}).node)},statfsStream(e){return s.statfsNode(e.node)},statfsNode(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:s.nextInode,ffree:s.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(t,e.node_ops.statfs(e.mount.opts.root)),t},create(e,t=438){return t&=4095,t|=32768,s.mknod(e,t,0)},mkdir(e,t=511){return t&=1023,t|=16384,s.mknod(e,t,0)},mkdirTree(e,t){var r=e.split("/"),n="";for(var o of r)if(o){(n||H.isAbs(e))&&(n+="/"),n+=o;try{s.mkdir(n,t)}catch(i){if(i.errno!=20)throw i}}},mkdev(e,t,r){return typeof r>"u"&&(r=t,t=438),t|=8192,s.mknod(e,t,r)},symlink(e,t){if(!Ke.resolve(e))throw new s.ErrnoError(44);var r=s.lookupPath(t,{parent:!0}),n=r.node;if(!n)throw new s.ErrnoError(44);var o=H.basename(t),i=s.mayCreate(n,o);if(i)throw new s.ErrnoError(i);if(!n.node_ops.symlink)throw new s.ErrnoError(63);return n.node_ops.symlink(n,o,e)},rename(e,t){var r=H.dirname(e),n=H.dirname(t),o=H.basename(e),i=H.basename(t),a,l,d;if(a=s.lookupPath(e,{parent:!0}),l=a.node,a=s.lookupPath(t,{parent:!0}),d=a.node,!l||!d)throw new s.ErrnoError(44);if(l.mount!==d.mount)throw new s.ErrnoError(75);var u=s.lookupNode(l,o),v=Ke.relative(e,n);if(v.charAt(0)!==".")throw new s.ErrnoError(28);if(v=Ke.relative(t,r),v.charAt(0)!==".")throw new s.ErrnoError(55);var b;try{b=s.lookupNode(d,i)}catch{}if(u!==b){var T=s.isDir(u.mode),E=s.mayDelete(l,o,T);if(E)throw new s.ErrnoError(E);if(E=b?s.mayDelete(d,i,T):s.mayCreate(d,i),E)throw new s.ErrnoError(E);if(!l.node_ops.rename)throw new s.ErrnoError(63);if(s.isMountpoint(u)||b&&s.isMountpoint(b))throw new s.ErrnoError(10);if(d!==l&&(E=s.nodePermissions(l,"w"),E))throw new s.ErrnoError(E);s.hashRemoveNode(u);try{l.node_ops.rename(u,d,i),u.parent=d}catch(P){throw P}finally{s.hashAddNode(u)}}},rmdir(e){var t=s.lookupPath(e,{parent:!0}),r=t.node,n=H.basename(e),o=s.lookupNode(r,n),i=s.mayDelete(r,n,!0);if(i)throw new s.ErrnoError(i);if(!r.node_ops.rmdir)throw new s.ErrnoError(63);if(s.isMountpoint(o))throw new s.ErrnoError(10);r.node_ops.rmdir(r,n),s.destroyNode(o)},readdir(e){var t=s.lookupPath(e,{follow:!0}),r=t.node,n=s.checkOpExists(r.node_ops.readdir,54);return n(r)},unlink(e){var t=s.lookupPath(e,{parent:!0}),r=t.node;if(!r)throw new s.ErrnoError(44);var n=H.basename(e),o=s.lookupNode(r,n),i=s.mayDelete(r,n,!1);if(i)throw new s.ErrnoError(i);if(!r.node_ops.unlink)throw new s.ErrnoError(63);if(s.isMountpoint(o))throw new s.ErrnoError(10);r.node_ops.unlink(r,n),s.destroyNode(o)},readlink(e){var t=s.lookupPath(e),r=t.node;if(!r)throw new s.ErrnoError(44);if(!r.node_ops.readlink)throw new s.ErrnoError(28);return r.node_ops.readlink(r)},stat(e,t){var r=s.lookupPath(e,{follow:!t}),n=r.node,o=s.checkOpExists(n.node_ops.getattr,63);return o(n)},fstat(e){var t=s.getStreamChecked(e),r=t.node,n=t.stream_ops.getattr,o=n?t:r;return n??(n=r.node_ops.getattr),s.checkOpExists(n,63),n(o)},lstat(e){return s.stat(e,!0)},doChmod(e,t,r,n){s.doSetAttr(e,t,{mode:r&4095|t.mode&-4096,ctime:Date.now(),dontFollow:n})},chmod(e,t,r){var n;if(typeof e=="string"){var o=s.lookupPath(e,{follow:!r});n=o.node}else n=e;s.doChmod(null,n,t,r)},lchmod(e,t){s.chmod(e,t,!0)},fchmod(e,t){var r=s.getStreamChecked(e);s.doChmod(r,r.node,t,!1)},doChown(e,t,r){s.doSetAttr(e,t,{timestamp:Date.now(),dontFollow:r})},chown(e,t,r,n){var o;if(typeof e=="string"){var i=s.lookupPath(e,{follow:!n});o=i.node}else o=e;s.doChown(null,o,n)},lchown(e,t,r){s.chown(e,t,r,!0)},fchown(e,t,r){var n=s.getStreamChecked(e);s.doChown(n,n.node,!1)},doTruncate(e,t,r){if(s.isDir(t.mode))throw new s.ErrnoError(31);if(!s.isFile(t.mode))throw new s.ErrnoError(28);var n=s.nodePermissions(t,"w");if(n)throw new s.ErrnoError(n);s.doSetAttr(e,t,{size:r,timestamp:Date.now()})},truncate(e,t){if(t<0)throw new s.ErrnoError(28);var r;if(typeof e=="string"){var n=s.lookupPath(e,{follow:!0});r=n.node}else r=e;s.doTruncate(null,r,t)},ftruncate(e,t){var r=s.getStreamChecked(e);if(t<0||!(r.flags&2097155))throw new s.ErrnoError(28);s.doTruncate(r,r.node,t)},utime(e,t,r){var n=s.lookupPath(e,{follow:!0}),o=n.node,i=s.checkOpExists(o.node_ops.setattr,63);i(o,{atime:t,mtime:r})},open(e,t,r=438){if(e==="")throw new s.ErrnoError(44);t=typeof t=="string"?qn(t):t,t&64?r=r&4095|32768:r=0;var n,o;if(typeof e=="object")n=e;else{o=e.endsWith("/");var i=s.lookupPath(e,{follow:!(t&131072),noent_okay:!0});n=i.node,e=i.path}var a=!1;if(t&64)if(n){if(t&128)throw new s.ErrnoError(20)}else{if(o)throw new s.ErrnoError(31);n=s.mknod(e,r|511,0),a=!0}if(!n)throw new s.ErrnoError(44);if(s.isChrdev(n.mode)&&(t&=-513),t&65536&&!s.isDir(n.mode))throw new s.ErrnoError(54);if(!a){var l=s.mayOpen(n,t);if(l)throw new s.ErrnoError(l)}t&512&&!a&&s.truncate(n,0),t&=-131713;var d=s.createStream({node:n,path:s.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return d.stream_ops.open&&d.stream_ops.open(d),a&&s.chmod(n,r&511),f.logReadFiles&&!(t&1)&&(e in s.readFiles||(s.readFiles[e]=1)),d},close(e){if(s.isClosed(e))throw new s.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{s.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,r){if(s.isClosed(e))throw new s.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new s.ErrnoError(70);if(r!=0&&r!=1&&r!=2)throw new s.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,n,o){if(S(r>=0),n<0||o<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if((e.flags&2097155)===1)throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.read)throw new s.ErrnoError(28);var i=typeof o<"u";if(!i)o=e.position;else if(!e.seekable)throw new s.ErrnoError(70);var a=e.stream_ops.read(e,t,r,n,o);return i||(e.position+=a),a},write(e,t,r,n,o,i){if(S(r>=0),n<0||o<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if(!(e.flags&2097155))throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.write)throw new s.ErrnoError(28);e.seekable&&e.flags&1024&&s.llseek(e,0,2);var a=typeof o<"u";if(!a)o=e.position;else if(!e.seekable)throw new s.ErrnoError(70);var l=e.stream_ops.write(e,t,r,n,o,i);return a||(e.position+=l),l},mmap(e,t,r,n,o){if(n&2&&!(o&2)&&(e.flags&2097155)!==2)throw new s.ErrnoError(2);if((e.flags&2097155)===1)throw new s.ErrnoError(2);if(!e.stream_ops.mmap)throw new s.ErrnoError(43);if(!t)throw new s.ErrnoError(28);return e.stream_ops.mmap(e,t,r,n,o)},msync(e,t,r,n,o){return S(r>=0),e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new s.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error(`Invalid encoding type "${t.encoding}"`);var r=s.open(e,t.flags),n=s.stat(e),o=n.size,i=new Uint8Array(o);return s.read(r,i,0,o,0),t.encoding==="utf8"&&(i=Ge(i)),s.close(r),i},writeFile(e,t,r={}){r.flags=r.flags||577;var n=s.open(e,r.flags,r.mode);if(typeof t=="string"&&(t=new Uint8Array(Rt(t))),ArrayBuffer.isView(t))s.write(n,t,0,t.byteLength,void 0,r.canOwn);else throw new Error("Unsupported data type");s.close(n)},cwd:()=>s.currentPath,chdir(e){var t=s.lookupPath(e,{follow:!0});if(t.node===null)throw new s.ErrnoError(44);if(!s.isDir(t.node.mode))throw new s.ErrnoError(54);var r=s.nodePermissions(t.node,"x");if(r)throw new s.ErrnoError(r);s.currentPath=t.path},createDefaultDirectories(){s.mkdir("/tmp"),s.mkdir("/home"),s.mkdir("/home/web_user")},createDefaultDevices(){s.mkdir("/dev"),s.registerDevice(s.makedev(1,3),{read:()=>0,write:(n,o,i,a,l)=>a,llseek:()=>0}),s.mkdev("/dev/null",s.makedev(1,3)),Ce.register(s.makedev(5,0),Ce.default_tty_ops),Ce.register(s.makedev(6,0),Ce.default_tty1_ops),s.mkdev("/dev/tty",s.makedev(5,0)),s.mkdev("/dev/tty1",s.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(xr(e),t=e.byteLength),e[--t]);s.createDevice("/dev","random",r),s.createDevice("/dev","urandom",r),s.mkdir("/dev/shm"),s.mkdir("/dev/shm/tmp")},createSpecialDirectories(){s.mkdir("/proc");var e=s.mkdir("/proc/self");s.mkdir("/proc/self/fd"),s.mount({mount(){var t=s.createNode(e,"fd",16895,73);return t.stream_ops={llseek:R.stream_ops.llseek},t.node_ops={lookup(r,n){var o=+n,i=s.getStreamChecked(o),a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path},id:o+1};return a.parent=a,a},readdir(){return Array.from(s.streams.entries()).filter(([r,n])=>n).map(([r,n])=>r.toString())}},t}},{},"/proc/self/fd")},createStandardStreams(e,t,r){e?s.createDevice("/dev","stdin",e):s.symlink("/dev/tty","/dev/stdin"),t?s.createDevice("/dev","stdout",null,t):s.symlink("/dev/tty","/dev/stdout"),r?s.createDevice("/dev","stderr",null,r):s.symlink("/dev/tty1","/dev/stderr");var n=s.open("/dev/stdin",0),o=s.open("/dev/stdout",1),i=s.open("/dev/stderr",1);S(n.fd===0,`invalid handle for stdin (${n.fd})`),S(o.fd===1,`invalid handle for stdout (${o.fd})`),S(i.fd===2,`invalid handle for stderr (${i.fd})`)},staticInit(){s.nameTable=new Array(4096),s.mount(R,{},"/"),s.createDefaultDirectories(),s.createDefaultDevices(),s.createSpecialDirectories(),s.filesystems={MEMFS:R}},init(e,t,r){S(!s.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),s.initialized=!0,e??(e=f.stdin),t??(t=f.stdout),r??(r=f.stderr),s.createStandardStreams(e,t,r)},quit(){s.initialized=!1,Kr(0);for(var e of s.streams)e&&s.close(e)},findObject(e,t){var r=s.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{var r=s.lookupPath(e,{follow:!t});e=r.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=s.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=H.basename(e),r=s.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot=r.path==="/"}catch(o){n.error=o.errno}return n},createPath(e,t,r,n){e=typeof e=="string"?e:s.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=H.join2(e,i);try{s.mkdir(a)}catch(l){if(l.errno!=20)throw l}e=a}}return a},createFile(e,t,r,n,o){var i=H.join2(typeof e=="string"?e:s.getPath(e),t),a=Dt(n,o);return s.create(i,a)},createDataFile(e,t,r,n,o,i){var a=t;e&&(e=typeof e=="string"?e:s.getPath(e),a=t?H.join2(e,t):e);var l=Dt(n,o),d=s.create(a,l);if(r){if(typeof r=="string"){for(var u=new Array(r.length),v=0,b=r.length;v<b;++v)u[v]=r.charCodeAt(v);r=u}s.chmod(d,l|146);var T=s.open(d,577);s.write(T,r,0,r.length,0,i),s.close(T),s.chmod(d,l)}},createDevice(e,t,r,n){var l;var o=H.join2(typeof e=="string"?e:s.getPath(e),t),i=Dt(!!r,!!n);(l=s.createDevice).major??(l.major=64);var a=s.makedev(s.createDevice.major++,0);return s.registerDevice(a,{open(d){d.seekable=!1},close(d){var u;(u=n==null?void 0:n.buffer)!=null&&u.length&&n(10)},read(d,u,v,b,T){for(var E=0,P=0;P<b;P++){var A;try{A=r()}catch{throw new s.ErrnoError(29)}if(A===void 0&&E===0)throw new s.ErrnoError(6);if(A==null)break;E++,u[v+P]=A}return E&&(d.node.atime=Date.now()),E},write(d,u,v,b,T){for(var E=0;E<b;E++)try{n(u[v+E])}catch{throw new s.ErrnoError(29)}return b&&(d.node.mtime=d.node.ctime=Date.now()),E}}),s.mkdev(o,i,a)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=j(e.url),e.usedBytes=e.contents.length}catch{throw new s.ErrnoError(29)}},createLazyFile(e,t,r,n,o){class i{constructor(){xe(this,"lengthKnown",!1);xe(this,"chunks",[])}get(E){if(!(E>this.length-1||E<0)){var P=E%this.chunkSize,A=E/this.chunkSize|0;return this.getter(A)[P]}}setDataGetter(E){this.getter=E}cacheLength(){var E=new XMLHttpRequest;if(E.open("HEAD",r,!1),E.send(null),!(E.status>=200&&E.status<300||E.status===304))throw new Error("Couldn't load "+r+". Status: "+E.status);var P=Number(E.getResponseHeader("Content-length")),A,q=(A=E.getResponseHeader("Accept-Ranges"))&&A==="bytes",W=(A=E.getResponseHeader("Content-Encoding"))&&A==="gzip",Z=1024*1024;q||(Z=P);var K=(pe,Pe)=>{if(pe>Pe)throw new Error("invalid range ("+pe+", "+Pe+") or no bytes requested!");if(Pe>P-1)throw new Error("only "+P+" bytes available! programmer error!");var oe=new XMLHttpRequest;if(oe.open("GET",r,!1),P!==Z&&oe.setRequestHeader("Range","bytes="+pe+"-"+Pe),oe.responseType="arraybuffer",oe.overrideMimeType&&oe.overrideMimeType("text/plain; charset=x-user-defined"),oe.send(null),!(oe.status>=200&&oe.status<300||oe.status===304))throw new Error("Couldn't load "+r+". Status: "+oe.status);return oe.response!==void 0?new Uint8Array(oe.response||[]):Rt(oe.responseText||"")},Ee=this;Ee.setDataGetter(pe=>{var Pe=pe*Z,oe=(pe+1)*Z-1;if(oe=Math.min(oe,P-1),typeof Ee.chunks[pe]>"u"&&(Ee.chunks[pe]=K(Pe,oe)),typeof Ee.chunks[pe]>"u")throw new Error("doXHR failed!");return Ee.chunks[pe]}),(W||!P)&&(Z=P=1,P=this.getter(0).length,Z=P,te("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=P,this._chunkSize=Z,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!x)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i,l={isDevice:!1,contents:a}}else var l={isDevice:!1,url:r};var d=s.createFile(e,t,l,n,o);l.contents?d.contents=l.contents:l.url&&(d.contents=null,d.url=l.url),Object.defineProperties(d,{usedBytes:{get:function(){return this.contents.length}}});var u={},v=Object.keys(d.stream_ops);v.forEach(T=>{var E=d.stream_ops[T];u[T]=(...P)=>(s.forceLoadFile(d),E(...P))});function b(T,E,P,A,q){var W=T.node.contents;if(q>=W.length)return 0;var Z=Math.min(W.length-q,A);if(S(Z>=0),W.slice)for(var K=0;K<Z;K++)E[P+K]=W[q+K];else for(var K=0;K<Z;K++)E[P+K]=W.get(q+K);return Z}return u.read=(T,E,P,A,q)=>(s.forceLoadFile(d),b(T,E,P,A,q)),u.mmap=(T,E,P,A,q)=>{s.forceLoadFile(d);var W=kr();if(!W)throw new s.ErrnoError(48);return b(T,de,W,E,P),{ptr:W,allocated:!0}},d.stream_ops=u,d},absolutePath(){se("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){se("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){se("FS.createLink has been removed; use FS.symlink instead")},joinPath(){se("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){se("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){se("FS.standardizePath has been removed; use PATH.normalize instead")}},G={DEFAULT_POLLMASK:5,calculateAt(e,t,r){if(H.isAbs(t))return t;var n;if(e===-100)n=s.cwd();else{var o=G.getStreamFromFD(e);n=o.path}if(t.length==0){if(!r)throw new s.ErrnoError(44);return n}return n+"/"+t},writeStat(e,t){U[e>>2]=t.dev,U[e+4>>2]=t.mode,C[e+8>>2]=t.nlink,U[e+12>>2]=t.uid,U[e+16>>2]=t.gid,U[e+20>>2]=t.rdev,ce[e+24>>3]=BigInt(t.size),U[e+32>>2]=4096,U[e+36>>2]=t.blocks;var r=t.atime.getTime(),n=t.mtime.getTime(),o=t.ctime.getTime();return ce[e+40>>3]=BigInt(Math.floor(r/1e3)),C[e+48>>2]=r%1e3*1e3*1e3,ce[e+56>>3]=BigInt(Math.floor(n/1e3)),C[e+64>>2]=n%1e3*1e3*1e3,ce[e+72>>3]=BigInt(Math.floor(o/1e3)),C[e+80>>2]=o%1e3*1e3*1e3,ce[e+88>>3]=BigInt(t.ino),0},writeStatFs(e,t){U[e+4>>2]=t.bsize,U[e+60>>2]=t.bsize,ce[e+8>>3]=BigInt(t.blocks),ce[e+16>>3]=BigInt(t.bfree),ce[e+24>>3]=BigInt(t.bavail),ce[e+32>>3]=BigInt(t.files),ce[e+40>>3]=BigInt(t.ffree),U[e+48>>2]=t.fsid,U[e+64>>2]=t.flags,U[e+56>>2]=t.namelen},doMsync(e,t,r,n,o){if(!s.isFile(t.node.mode))throw new s.ErrnoError(43);if(n&2)return 0;var i=we.slice(e,e+r);s.msync(t,i,o,r,n)},getStreamFromFD(e){var t=s.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=$e(e);return t}};function Yn(e,t,r){G.varargs=r;try{var n=G.getStreamFromFD(e);switch(t){case 0:{var o=ft();if(o<0)return-28;for(;s.streams[o];)o++;var i;return i=s.dupStream(n,o),i.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var o=ft();return n.flags|=o,0}case 12:{var o=qe(),a=0;return ke[o+a>>1]=2,0}case 13:case 14:return 0}return-28}catch(l){if(typeof s>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function Jn(e,t){try{return G.writeStat(t,s.fstat(e))}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var Re=(e,t,r)=>(S(typeof r=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Sr(e,we,t,r));function Xn(e,t,r){try{var n=G.getStreamFromFD(e);n.getdents||(n.getdents=s.readdir(n.path));for(var o=280,i=0,a=s.llseek(n,0,1),l=Math.floor(a/o),d=Math.min(n.getdents.length,l+Math.floor(r/o)),u=l;u<d;u++){var v,b,T=n.getdents[u];if(T===".")v=n.node.id,b=4;else if(T===".."){var E=s.lookupPath(n.path,{parent:!0});v=E.node.id,b=4}else{var P;try{P=s.lookupNode(n.node,T)}catch(A){if((A==null?void 0:A.errno)===28)continue;throw A}v=P.id,b=s.isChrdev(P.mode)?2:s.isDir(P.mode)?4:s.isLink(P.mode)?10:8}S(v),ce[t+i>>3]=BigInt(v),ce[t+i+8>>3]=BigInt((u+1)*o),ke[t+i+16>>1]=280,de[t+i+18]=b,Re(T,t+i+19,256),i+=o}return s.llseek(n,u*o,0),i}catch(A){if(typeof s>"u"||A.name!=="ErrnoError")throw A;return-A.errno}}function Qn(e,t,r){G.varargs=r;try{var n=G.getStreamFromFD(e);switch(t){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var o=n.tty.ops.ioctl_tcgets(n),i=qe();U[i>>2]=o.c_iflag||0,U[i+4>>2]=o.c_oflag||0,U[i+8>>2]=o.c_cflag||0,U[i+12>>2]=o.c_lflag||0;for(var a=0;a<32;a++)de[i+a+17]=o.c_cc[a]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var i=qe(),l=U[i>>2],d=U[i+4>>2],u=U[i+8>>2],v=U[i+12>>2],b=[],a=0;a<32;a++)b.push(de[i+a+17]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:l,c_oflag:d,c_cflag:u,c_lflag:v,c_cc:b})}return 0}case 21519:{if(!n.tty)return-59;var i=qe();return U[i>>2]=0,0}case 21520:return n.tty?-28:-59;case 21537:case 21531:{var i=qe();return s.ioctl(n,t,i)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var T=n.tty.ops.ioctl_tiocgwinsz(n.tty),i=qe();ke[i>>1]=T[0],ke[i+2>>1]=T[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(E){if(typeof s>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function Zn(e,t){try{return e=G.getStr(e),G.writeStat(t,s.lstat(e))}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function eo(e,t,r){try{return t=G.getStr(t),t=G.calculateAt(e,t),s.mkdir(t,r,0),0}catch(n){if(typeof s>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function to(e,t,r,n){try{t=G.getStr(t);var o=n&256,i=n&4096;return n=n&-6401,S(!n,`unknown flags in __syscall_newfstatat: ${n}`),t=G.calculateAt(e,t,i),G.writeStat(r,o?s.lstat(t):s.stat(t))}catch(a){if(typeof s>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function ro(e,t,r,n){G.varargs=n;try{t=G.getStr(t),t=G.calculateAt(e,t);var o=n?ft():0;return s.open(t,r,o).fd}catch(i){if(typeof s>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function no(e,t){try{return e=G.getStr(e),G.writeStat(t,s.stat(e))}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var oo=()=>se("native code called abort()"),ut={},Mt=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function nt(e){return this.fromWireType(C[e>>2])}var Ye={},De={},pt={},io=class extends Error{constructor(t){super(t),this.name="InternalError"}},vt=e=>{throw new io(e)},Me=(e,t,r)=>{e.forEach(l=>pt[l]=t);function n(l){var d=r(l);d.length!==e.length&&vt("Mismatched type converter count");for(var u=0;u<e.length;++u)he(e[u],d[u])}var o=new Array(t.length),i=[],a=0;t.forEach((l,d)=>{De.hasOwnProperty(l)?o[d]=De[l]:(i.push(l),Ye.hasOwnProperty(l)||(Ye[l]=[]),Ye[l].push(()=>{o[d]=De[l],++a,a===i.length&&n(o)}))}),i.length===0&&n(o)},ao=e=>{var t=ut[e];delete ut[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields,i=o.map(a=>a.getterReturnType).concat(o.map(a=>a.setterArgumentType));Me([e],i,a=>{var l={};return o.forEach((d,u)=>{var v=d.fieldName,b=a[u],T=a[u].optional,E=d.getter,P=d.getterContext,A=a[u+o.length],q=d.setter,W=d.setterContext;l[v]={read:Z=>b.fromWireType(E(P,Z)),write:(Z,K)=>{var Ee=[];q(W,Z,A.toWireType(Ee,K)),Mt(Ee)},optional:T}}),[{name:t.name,fromWireType:d=>{var u={};for(var v in l)u[v]=l[v].read(d);return n(d),u},toWireType:(d,u)=>{for(var v in l)if(!(v in u)&&!l[v].optional)throw new TypeError(`Missing field: "${v}"`);var b=r();for(v in l)l[v].write(b,u[v]);return d!==null&&d.push(n,b),b},readValueFromPointer:nt,destructorFunction:n}]})},le=e=>{for(var t="";;){var r=we[e++];if(!r)return t;t+=String.fromCharCode(r)}},ot=class extends Error{constructor(t){super(t),this.name="BindingError"}},N=e=>{throw new ot(e)};function so(e,t,r={}){var n=t.name;if(e||N(`type "${n}" must have a positive integer typeid pointer`),De.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;N(`Cannot register type '${n}' twice`)}if(De[e]=t,delete pt[e],Ye.hasOwnProperty(e)){var o=Ye[e];delete Ye[e],o.forEach(i=>i())}}function he(e,t,r={}){return so(e,t,r)}var Pr=(e,t,r)=>{switch(t){case 1:return r?n=>de[n]:n=>we[n];case 2:return r?n=>ke[n>>1]:n=>We[n>>1];case 4:return r?n=>U[n>>2]:n=>C[n>>2];case 8:return r?n=>ce[n>>3]:n=>mr[n>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Oe=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},$r=(e,t,r,n)=>{if(t<r||t>n)throw new TypeError(`Passing a number "${Oe(t)}" from JS side to C/C++ side to an argument of type "${e}", which is outside the valid range [${r}, ${n}]!`)},lo=(e,t,r,n,o)=>{t=le(t);const i=n===0n;let a=l=>l;if(i){const l=r*8;a=d=>BigInt.asUintN(l,d),o=a(o)}he(e,{name:t,fromWireType:a,toWireType:(l,d)=>{if(typeof d=="number")d=BigInt(d);else if(typeof d!="bigint")throw new TypeError(`Cannot convert "${Oe(d)}" to ${this.name}`);return $r(t,d,n,o),d},readValueFromPointer:Pr(t,r,!i),destructorFunction:null})},co=(e,t,r,n)=>{t=le(t),he(e,{name:t,fromWireType:function(o){return!!o},toWireType:function(o,i){return i?r:n},readValueFromPointer:function(o){return this.fromWireType(we[o])},destructorFunction:null})},fo=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Ot=e=>{function t(r){return r.$$.ptrType.registeredClass.name}N(t(e)+" instance already deleted")},Lt=!1,Ar=e=>{},uo=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Ir=e=>{e.count.value-=1;var t=e.count.value===0;t&&uo(e)},Cr=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var n=Cr(e,t,r.baseClass);return n===null?null:r.downcast(n)},Rr={},po={},vo=(e,t)=>{for(t===void 0&&N("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},mo=(e,t)=>(t=vo(e,t),po[t]),mt=(e,t)=>{(!t.ptrType||!t.ptr)&&vt("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&vt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},it(Object.create(e,{$$:{value:t,writable:!0}}))};function Dr(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=mo(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?mt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):mt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i=this.registeredClass.getActualType(t),a=Rr[i];if(!a)return o.call(this);var l;this.isConst?l=a.constPointerType:l=a.pointerType;var d=Cr(t,this.registeredClass,l.registeredClass);return d===null?o.call(this):this.isSmartPointer?mt(l.registeredClass.instancePrototype,{ptrType:l,ptr:d,smartPtrType:this,smartPtr:e}):mt(l.registeredClass.instancePrototype,{ptrType:l,ptr:d})}var it=e=>typeof FinalizationRegistry>"u"?(it=t=>t,e):(Lt=new FinalizationRegistry(t=>{console.warn(t.leakWarning),Ir(t.$$)}),it=t=>{var r=t.$$,n=!!r.smartPtr;if(n){var o={$$:r},i=r.ptrType.registeredClass,a=new Error(`Embind found a leaked C++ instance ${i.name} <${Ve(r.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`);"captureStackTrace"in Error&&Error.captureStackTrace(a,Dr),o.leakWarning=a.stack.replace(/^Error: /,""),Lt.register(t,o,t)}return t},Ar=t=>Lt.unregister(t),it(e)),_o=()=>{let e=_t.prototype;Object.assign(e,{isAliasOf(r){if(!(this instanceof _t)||!(r instanceof _t))return!1;var n=this.$$.ptrType.registeredClass,o=this.$$.ptr;r.$$=r.$$;for(var i=r.$$.ptrType.registeredClass,a=r.$$.ptr;n.baseClass;)o=n.upcast(o),n=n.baseClass;for(;i.baseClass;)a=i.upcast(a),i=i.baseClass;return n===i&&o===a},clone(){if(this.$$.ptr||Ot(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var r=it(Object.create(Object.getPrototypeOf(this),{$$:{value:fo(this.$$)}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r},delete(){this.$$.ptr||Ot(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&N("Object already scheduled for deletion"),Ar(this),Ir(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ot(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&N("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const t=Symbol.dispose;t&&(e[t]=e.delete)};function _t(){}var gt=(e,t)=>Object.defineProperty(t,"name",{value:e}),Mr=(e,t,r)=>{if(e[t].overloadTable===void 0){var n=e[t];e[t]=function(...o){return e[t].overloadTable.hasOwnProperty(o.length)||N(`Function '${r}' called with an invalid number of arguments (${o.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[o.length].apply(this,o)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},Nt=(e,t,r)=>{f.hasOwnProperty(e)?((r===void 0||f[e].overloadTable!==void 0&&f[e].overloadTable[r]!==void 0)&&N(`Cannot register public name '${e}' twice`),Mr(f,e,e),f[e].overloadTable.hasOwnProperty(r)&&N(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),f[e].overloadTable[r]=t):(f[e]=t,f[e].argCount=r)},go=48,ho=57,yo=e=>{S(typeof e=="string"),e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=go&&t<=ho?`_${e}`:e};function wo(e,t,r,n,o,i,a,l){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=l,this.pureVirtualFunctions=[]}var Bt=(e,t,r)=>{for(;t!==r;)t.upcast||N(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function bo(e,t){if(t===null)return this.isReference&&N(`null is not a valid ${this.name}`),0;t.$$||N(`Cannot pass "${Oe(t)}" as a ${this.name}`),t.$$.ptr||N(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=Bt(t.$$.ptr,r,this.registeredClass);return n}function Eo(e,t){var r;if(t===null)return this.isReference&&N(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&N(`Cannot pass "${Oe(t)}" as a ${this.name}`),t.$$.ptr||N(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&N(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=Bt(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&N("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:N(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,Je.toHandle(()=>o.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:N("Unsupporting sharing policy")}return r}function xo(e,t){if(t===null)return this.isReference&&N(`null is not a valid ${this.name}`),0;t.$$||N(`Cannot pass "${Oe(t)}" as a ${this.name}`),t.$$.ptr||N(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&N(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=Bt(t.$$.ptr,r,this.registeredClass);return n}var So=()=>{Object.assign(ht.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;(t=this.rawDestructor)==null||t.call(this,e)},readValueFromPointer:nt,fromWireType:Dr})};function ht(e,t,r,n,o,i,a,l,d,u,v){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=l,this.rawConstructor=d,this.rawShare=u,this.rawDestructor=v,!o&&t.baseClass===void 0?n?(this.toWireType=bo,this.destructorFunction=null):(this.toWireType=xo,this.destructorFunction=null):this.toWireType=Eo}var Or=(e,t,r)=>{f.hasOwnProperty(e)||vt("Replacing nonexistent public symbol"),f[e].overloadTable!==void 0&&r!==void 0?f[e].overloadTable[r]=t:(f[e]=t,f[e].argCount=r)},Lr=[],yt,y=e=>{var t=Lr[e];return t||(Lr[e]=t=yt.get(e)),S(yt.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t},ye=(e,t,r=!1)=>{S(!r,"Async bindings are only supported with JSPI."),e=le(e);function n(){var i=y(t);return i}var o=n();return typeof o!="function"&&N(`unknown function pointer with signature ${e}: ${t}`),o};class ko extends Error{}var Nr=e=>{var t=qr(e),r=le(t);return be(t),r},wt=(e,t)=>{var r=[],n={};function o(i){if(!n[i]&&!De[i]){if(pt[i]){pt[i].forEach(o);return}r.push(i),n[i]=!0}}throw t.forEach(o),new ko(`${e}: `+r.map(Nr).join([", "]))},Fo=(e,t,r,n,o,i,a,l,d,u,v,b,T)=>{v=le(v),i=ye(o,i),l&&(l=ye(a,l)),u&&(u=ye(d,u)),T=ye(b,T);var E=yo(v);Nt(E,function(){wt(`Cannot construct ${v} due to unbound types`,[n])}),Me([e,t,r],n?[n]:[],P=>{var oe;P=P[0];var A,q;n?(A=P.registeredClass,q=A.instancePrototype):q=_t.prototype;var W=gt(v,function(...Yt){if(Object.getPrototypeOf(this)!==Z)throw new ot(`Use 'new' to construct ${v}`);if(K.constructor_body===void 0)throw new ot(`${v} has no accessible constructor`);var cn=K.constructor_body[Yt.length];if(cn===void 0)throw new ot(`Tried to invoke ctor of ${v} with invalid number of parameters (${Yt.length}) - expected (${Object.keys(K.constructor_body).toString()}) parameters instead!`);return cn.apply(this,Yt)}),Z=Object.create(q,{constructor:{value:W}});W.prototype=Z;var K=new wo(v,W,Z,T,A,i,l,u);K.baseClass&&((oe=K.baseClass).__derivedClasses??(oe.__derivedClasses=[]),K.baseClass.__derivedClasses.push(K));var Ee=new ht(v,K,!0,!1,!1),pe=new ht(v+"*",K,!1,!1,!1),Pe=new ht(v+" const*",K,!1,!0,!1);return Rr[e]={pointerType:pe,constPointerType:Pe},Or(E,W),[Ee,pe,Pe]})},zt=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(C[t+n*4>>2]);return r};function Br(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function To(e,t,r,n,o){if(e<t||e>r){var i=t==r?t:`${t} to ${r}`;o(`function ${n} called with ${e} arguments, expected ${i}`)}}function Po(e,t,r,n){var o=Br(e),i=e.length-2,a=[],l=["fn"];t&&l.push("thisWired");for(var d=0;d<i;++d)a.push(`arg${d}`),l.push(`arg${d}Wired`);a=a.join(","),l=l.join(",");var u=`return function (${a}) {
`;u+=`checkArgCount(arguments.length, minArgs, maxArgs, humanName, throwBindingError);
`,o&&(u+=`var destructors = [];
`);var v=o?"destructors":"null",b=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];t&&(u+=`var thisWired = toClassParamWire(${v}, this);
`);for(var d=0;d<i;++d){var T=`toArg${d}Wire`;u+=`var arg${d}Wired = ${T}(${v}, arg${d});
`,b.push(T)}if(u+=(r||n?"var rv = ":"")+`invoker(${l});
`,o)u+=`runDestructors(destructors);
`;else for(var d=t?1:2;d<e.length;++d){var E=d===1?"thisWired":"arg"+(d-2)+"Wired";e[d].destructorFunction!==null&&(u+=`${E}_dtor(${E});
`,b.push(`${E}_dtor`))}return r&&(u+=`var ret = fromRetWire(rv);
return ret;
`),u+=`}
`,b.push("checkArgCount","minArgs","maxArgs"),u=`if (arguments.length !== ${b.length}){ throw new Error(humanName + "Expected ${b.length} closure arguments " + arguments.length + " given."); }
${u}`,new Function(b,u)}function $o(e){for(var t=e.length-2,r=e.length-1;r>=2&&e[r].optional;--r)t--;return t}function Ut(e,t,r,n,o,i){var a=t.length;a<2&&N("argTypes array size mismatch! Must at least get return value and 'this' types!"),S(!i,"Async bindings are only supported with JSPI.");for(var l=t[1]!==null&&r!==null,d=Br(t),u=!t[0].isVoid,v=a-2,b=$o(t),T=t[0],E=t[1],P=[e,N,n,o,Mt,T.fromWireType.bind(T),E==null?void 0:E.toWireType.bind(E)],A=2;A<a;++A){var q=t[A];P.push(q.toWireType.bind(q))}if(!d)for(var A=l?1:2;A<t.length;++A)t[A].destructorFunction!==null&&P.push(t[A].destructorFunction);P.push(To,b,v);var Z=Po(t,l,u,i)(...P);return gt(e,Z)}var Ao=(e,t,r,n,o,i)=>{S(t>0);var a=zt(t,r);o=ye(n,o),Me([],[e],l=>{l=l[0];var d=`constructor ${l.name}`;if(l.registeredClass.constructor_body===void 0&&(l.registeredClass.constructor_body=[]),l.registeredClass.constructor_body[t-1]!==void 0)throw new ot(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${l.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return l.registeredClass.constructor_body[t-1]=()=>{wt(`Cannot construct ${l.name} due to unbound types`,a)},Me([],a,u=>(u.splice(1,0,null),l.registeredClass.constructor_body[t-1]=Ut(d,u,null,o,i),[])),[]})},zr=e=>{e=e.trim();const t=e.indexOf("(");return t===-1?e:(S(e.endsWith(")"),"Parentheses for argument names should match."),e.slice(0,t))},Io=(e,t,r,n,o,i,a,l,d,u)=>{var v=zt(r,n);t=le(t),t=zr(t),i=ye(o,i,d),Me([],[e],b=>{b=b[0];var T=`${b.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),l&&b.registeredClass.pureVirtualFunctions.push(t);function E(){wt(`Cannot call ${T} due to unbound types`,v)}var P=b.registeredClass.instancePrototype,A=P[t];return A===void 0||A.overloadTable===void 0&&A.className!==b.name&&A.argCount===r-2?(E.argCount=r-2,E.className=b.name,P[t]=E):(Mr(P,t,T),P[t].overloadTable[r-2]=E),Me([],v,q=>{var W=Ut(T,q,b,i,a,d);return P[t].overloadTable===void 0?(W.argCount=r-2,P[t]=W):P[t].overloadTable[r-2]=W,[]}),[]})},Ur=[],Te=[0,1,,1,null,1,!0,1,!1,1],Hr=e=>{e>9&&--Te[e+1]===0&&(S(Te[e]!==void 0,"Decref for unallocated handle."),Te[e]=void 0,Ur.push(e))},Je={toValue:e=>(e||N(`Cannot use deleted val. handle = ${e}`),S(e===2||Te[e]!==void 0&&e%2===0,`invalid handle: ${e}`),Te[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=Ur.pop()||Te.length;return Te[t]=e,Te[t+1]=1,t}}}},Co={name:"emscripten::val",fromWireType:e=>{var t=Je.toValue(e);return Hr(e),t},toWireType:(e,t)=>Je.toHandle(t),readValueFromPointer:nt,destructorFunction:null},Ro=e=>he(e,Co),Do=(e,t,r)=>{switch(t){case 1:return r?function(n){return this.fromWireType(de[n])}:function(n){return this.fromWireType(we[n])};case 2:return r?function(n){return this.fromWireType(ke[n>>1])}:function(n){return this.fromWireType(We[n>>1])};case 4:return r?function(n){return this.fromWireType(U[n>>2])}:function(n){return this.fromWireType(C[n>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Mo=(e,t,r,n)=>{t=le(t);function o(){}o.values={},he(e,{name:t,constructor:o,fromWireType:function(i){return this.constructor.values[i]},toWireType:(i,a)=>a.value,readValueFromPointer:Do(t,r,n),destructorFunction:null}),Nt(t,o)},Wr=(e,t)=>{var r=De[e];return r===void 0&&N(`${t} has unknown type ${Nr(e)}`),r},Oo=(e,t,r)=>{var n=Wr(e,"enum");t=le(t);var o=n.constructor,i=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:gt(`${n.name}_${t}`,function(){})}});o.values[r]=i,o[t]=i},Lo=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(pr[r>>2])};case 8:return function(r){return this.fromWireType(vr[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},No=(e,t,r)=>{t=le(t),he(e,{name:t,fromWireType:n=>n,toWireType:(n,o)=>{if(typeof o!="number"&&typeof o!="boolean")throw new TypeError(`Cannot convert ${Oe(o)} to ${this.name}`);return o},readValueFromPointer:Lo(t,r),destructorFunction:null})},Bo=(e,t,r,n,o,i,a,l)=>{var d=zt(t,r);e=le(e),e=zr(e),o=ye(n,o,a),Nt(e,function(){wt(`Cannot call ${e} due to unbound types`,d)},t-1),Me([],d,u=>{var v=[u[0],null].concat(u.slice(1));return Or(e,Ut(e,v,null,o,i,a),t-1),[]})},zo=(e,t,r,n,o)=>{t=le(t);const i=n===0;let a=d=>d;if(i){var l=32-8*r;a=d=>d<<l>>>l,o=a(o)}he(e,{name:t,fromWireType:a,toWireType:(d,u)=>{if(typeof u!="number"&&typeof u!="boolean")throw new TypeError(`Cannot convert "${Oe(u)}" to ${t}`);return $r(t,u,n,o),u},readValueFromPointer:Pr(t,r,n!==0),destructorFunction:null})},Uo=(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],o=n[t];function i(a){var l=C[a>>2],d=C[a+4>>2];return new o(de.buffer,d,l)}r=le(r),he(e,{name:r,fromWireType:i,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},Ho=(e,t)=>{t=le(t),he(e,{name:t,fromWireType(r){var n=C[r>>2],o=r+4,i;return i=$e(o,n,!0),be(r),i},toWireType(r,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var o,i=typeof n=="string";i||ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT==1||N("Cannot pass non-string to std::string"),i?o=rt(n):o=n.length;var a=jt(4+o+1),l=a+4;return C[a>>2]=o,i?Re(n,l,o+1):we.set(n,l),r!==null&&r.push(be,a),a},readValueFromPointer:nt,destructorFunction(r){be(r)}})},jr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Wo=(e,t,r)=>{S(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var n=e>>1,o=Er(We,n,t/2,r);if(o-n>16&&jr)return jr.decode(We.subarray(n,o));for(var i="",a=n;a<o;++a){var l=We[a];i+=String.fromCharCode(l)}return i},jo=(e,t,r)=>{if(S(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),S(typeof r=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),r??(r=2147483647),r<2)return 0;r-=2;for(var n=t,o=r<e.length*2?r/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);ke[t>>1]=a,t+=2}return ke[t>>1]=0,t-n},Vo=e=>e.length*2,Go=(e,t,r)=>{S(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var n="",o=e>>2,i=0;!(i>=t/4);i++){var a=C[o+i];if(!a&&!r)break;n+=String.fromCodePoint(a)}return n},qo=(e,t,r)=>{if(S(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),S(typeof r=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),r??(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var a=e.codePointAt(i);if(a>65535&&i++,U[t>>2]=a,t+=4,t+4>o)break}return U[t>>2]=0,t-n},Ko=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.codePointAt(r);n>65535&&r++,t+=4}return t},Yo=(e,t,r)=>{r=le(r);var n,o,i;t===2?(n=Wo,o=jo,i=Vo):(S(t===4,"only 2-byte and 4-byte strings are currently supported"),n=Go,o=qo,i=Ko),he(e,{name:r,fromWireType:a=>{var l=C[a>>2],d=n(a+4,l*t,!0);return be(a),d},toWireType:(a,l)=>{typeof l!="string"&&N(`Cannot pass non-string to C++ string type ${r}`);var d=i(l),u=jt(4+d+t);return C[u>>2]=d/t,o(l,u+4,d+t),a!==null&&a.push(be,u),u},readValueFromPointer:nt,destructorFunction(a){be(a)}})},Jo=(e,t,r,n,o,i)=>{ut[e]={name:le(t),rawConstructor:ye(r,n),rawDestructor:ye(o,i),fields:[]}},Xo=(e,t,r,n,o,i,a,l,d,u)=>{ut[e].fields.push({fieldName:le(t),getterReturnType:r,getter:ye(n,o),getterContext:i,setterArgumentType:a,setter:ye(l,d),setterContext:u})},Qo=(e,t)=>{t=le(t),he(e,{isVoid:!0,name:t,fromWireType:()=>{},toWireType:(r,n)=>{}})},Ht=[],Zo=e=>{var t=Ht.length;return Ht.push(e),t},ei=(e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=Wr(C[t+n*4>>2],`parameter ${n}`);return r},ti=(e,t,r)=>{var n=[],o=e(n,r);return n.length&&(C[t>>2]=Je.toHandle(n)),o},ri={},ni=e=>{var t=ri[e];return t===void 0?le(e):t},oi=(e,t,r)=>{var n=8,[o,...i]=ei(e,t),a=o.toWireType.bind(o),l=i.map(E=>E.readValueFromPointer.bind(E));e--;var d={toValue:Je.toValue},u=l.map((E,P)=>{var A=`argFromPtr${P}`;return d[A]=E,`${A}(args${P?"+"+P*n:""})`}),v;switch(r){case 0:v="toValue(handle)";break;case 2:v="new (toValue(handle))";break;case 3:v="";break;case 1:d.getStringOrSymbol=ni,v="toValue(handle)[getStringOrSymbol(methodName)]";break}v+=`(${u})`,o.isVoid||(d.toReturnWire=a,d.emval_returnValue=ti,v=`return emval_returnValue(toReturnWire, destructorsRef, ${v})`),v=`return function (handle, methodName, destructorsRef, args) {
  ${v}
  }`;var b=new Function(Object.keys(d),v)(...Object.values(d)),T=`methodCaller<(${i.map(E=>E.name)}) => ${o.name}>`;return Zo(gt(T,b))},ii=(e,t,r,n,o)=>Ht[e](t,r,n,o),ai=e=>{var t=Je.toValue(e);Mt(t),Hr(e)},si=(e,t,r,n)=>{var o=new Date().getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1),l=i.getTimezoneOffset(),d=a.getTimezoneOffset(),u=Math.max(l,d);C[e>>2]=u*60,U[t>>2]=+(l!=d);var v=E=>{var P=E>=0?"-":"+",A=Math.abs(E),q=String(Math.floor(A/60)).padStart(2,"0"),W=String(A%60).padStart(2,"0");return`UTC${P}${q}${W}`},b=v(l),T=v(d);S(b),S(T),S(rt(b)<=16,`timezone name truncated to fit in TZNAME_MAX (${b})`),S(rt(T)<=16,`timezone name truncated to fit in TZNAME_MAX (${T})`),d<l?(Re(b,r,17),Re(T,n,17)):(Re(b,n,17),Re(T,r,17))},li=()=>performance.now(),di=()=>Date.now(),ci=e=>e>=0&&e<=3,fi=9007199254740992,ui=-9007199254740992,pi=e=>e<ui||e>fi?NaN:Number(e);function vi(e,t,r){if(!ci(e))return 28;var n;e===0?n=di():n=li();var o=Math.round(n*1e3*1e3);return ce[r>>3]=BigInt(o),0}var mi=()=>2147483648,_i=(e,t)=>(S(t,"alignment argument is required"),Math.ceil(e/t)*t),gi=e=>{var t=Xe.buffer.byteLength,r=(e-t+65535)/65536|0;try{return Xe.grow(r),_r(),1}catch(n){B(`growMemory: Attempted to grow heap from ${t} bytes to ${e} bytes, but got error: ${n}`)}},hi=e=>{var t=we.length;e>>>=0,S(e>t);var r=mi();if(e>r)return B(`Cannot enlarge memory, requested ${e} bytes, but the limit is ${r} bytes!`),!1;for(var n=1;n<=4;n*=2){var o=t*(1+.2/n);o=Math.min(o,e+100663296);var i=Math.min(r,_i(Math.max(e,o),65536)),a=gi(i);if(a)return!0}return B(`Failed to grow the heap from ${t} bytes to ${i} bytes, not enough memory!`),!1},Wt={},yi=()=>I||"./this.program",at=()=>{if(!at.strings){var e=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:yi()};for(var r in Wt)Wt[r]===void 0?delete t[r]:t[r]=Wt[r];var n=[];for(var r in t)n.push(`${r}=${t[r]}`);at.strings=n}return at.strings},wi=(e,t)=>{var r=0,n=0;for(var o of at()){var i=t+r;C[e+n>>2]=i,r+=Re(o,i,1/0)+1,n+=4}return 0},bi=(e,t)=>{var r=at();C[e>>2]=r.length;var n=0;for(var o of r)n+=rt(o)+1;return C[t>>2]=n,0};function Ei(e){try{var t=G.getStreamFromFD(e);return s.close(t),0}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return r.errno}}var xi=(e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=C[t>>2],l=C[t+4>>2];t+=8;var d=s.read(e,de,a,l,n);if(d<0)return-1;if(o+=d,d<l)break}return o};function Si(e,t,r,n){try{var o=G.getStreamFromFD(e),i=xi(o,t,r);return C[n>>2]=i,0}catch(a){if(typeof s>"u"||a.name!=="ErrnoError")throw a;return a.errno}}function ki(e,t,r,n){t=pi(t);try{if(isNaN(t))return 61;var o=G.getStreamFromFD(e);return s.llseek(o,t,r),ce[n>>3]=BigInt(o.position),o.getdents&&t===0&&r===0&&(o.getdents=null),0}catch(i){if(typeof s>"u"||i.name!=="ErrnoError")throw i;return i.errno}}var Fi=(e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=C[t>>2],l=C[t+4>>2];t+=8;var d=s.write(e,de,a,l,n);if(d<0)return-1;if(o+=d,d<l)break}return o};function Ti(e,t,r,n){try{var o=G.getStreamFromFD(e),i=Fi(o,t,r);return C[n>>2]=i,0}catch(a){if(typeof s>"u"||a.name!=="ErrnoError")throw a;return a.errno}}var Pi=e=>e,$i=e=>qt(e),Ai=e=>Gt(e),Vr=e=>en(e),Ii=e=>{var t=h(),r=Vr(4),n=Vr(4);rn(e,r,n);var o=C[r>>2],i=C[n>>2],a=$e(o);be(o);var l;return i&&(l=$e(i),be(i)),g(t),[a,l]},Gr=e=>Ii(e);s.createPreloadedFile=Gn,s.staticInit(),_o(),So(),S(Te.length===5*2),f.noExitRuntime&&f.noExitRuntime,f.preloadPlugins&&(Fr=f.preloadPlugins),f.print&&(te=f.print),f.printErr&&(B=f.printErr),f.wasmBinary&&(ae=f.wasmBinary),Di(),f.arguments&&f.arguments,f.thisProgram&&(I=f.thisProgram),S(typeof f.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),S(typeof f.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),S(typeof f.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),S(typeof f.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),S(typeof f.read>"u","Module.read option was removed"),S(typeof f.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),S(typeof f.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),S(typeof f.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),S(typeof f.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),S(typeof f.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),S(typeof f.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),S(typeof f.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),S(typeof f.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var Ci=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","zeroMemory","exitJS","withStackSave","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","readEmAsmArgs","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","HandleAllocator","getNativeTypeSize","addOnInit","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","intArrayToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","PureVirtualError","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","setDelayFunction","validateThis","count_emval_handles","emval_get_global"];Ci.forEach(Se);var Ri=["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","setTempRet0","ptrToString","getHeapMax","growMemory","ENV","ERRNO_CODES","strError","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","getExecutableName","asyncLoad","alignMemory","mmapAlloc","wasmTable","getUniqueRunDependency","noExitRuntime","addOnPreRun","addOnPostRun","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","AsciiToString","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","checkWasiClock","doReadv","doWritev","initRandomFill","randomFill","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_unlink","FS_createPath","FS_createDevice","FS_readFile","FS","FS_root","FS_mounts","FS_devices","FS_streams","FS_nextInode","FS_nameTable","FS_currentPath","FS_initialized","FS_ignorePermissions","FS_filesystems","FS_syncFSRequests","FS_readFiles","FS_lookupPath","FS_getPath","FS_hashName","FS_hashAddNode","FS_hashRemoveNode","FS_lookupNode","FS_createNode","FS_destroyNode","FS_isRoot","FS_isMountpoint","FS_isFile","FS_isDir","FS_isLink","FS_isChrdev","FS_isBlkdev","FS_isFIFO","FS_isSocket","FS_flagsToPermissionString","FS_nodePermissions","FS_mayLookup","FS_mayCreate","FS_mayDelete","FS_mayOpen","FS_checkOpExists","FS_nextfd","FS_getStreamChecked","FS_getStream","FS_createStream","FS_closeStream","FS_dupStream","FS_doSetAttr","FS_chrdev_stream_ops","FS_major","FS_minor","FS_makedev","FS_registerDevice","FS_getDevice","FS_getMounts","FS_syncfs","FS_mount","FS_unmount","FS_lookup","FS_mknod","FS_statfs","FS_statfsStream","FS_statfsNode","FS_create","FS_mkdir","FS_mkdev","FS_symlink","FS_rename","FS_rmdir","FS_readdir","FS_readlink","FS_stat","FS_fstat","FS_lstat","FS_doChmod","FS_chmod","FS_lchmod","FS_fchmod","FS_doChown","FS_chown","FS_lchown","FS_fchown","FS_doTruncate","FS_truncate","FS_ftruncate","FS_utime","FS_open","FS_close","FS_isClosed","FS_llseek","FS_read","FS_write","FS_mmap","FS_msync","FS_ioctl","FS_writeFile","FS_cwd","FS_chdir","FS_createDefaultDirectories","FS_createDefaultDevices","FS_createSpecialDirectories","FS_createStandardStreams","FS_staticInit","FS_init","FS_quit","FS_findObject","FS_analyzePath","FS_createFile","FS_createDataFile","FS_forceLoadFile","FS_createLazyFile","FS_absolutePath","FS_createFolder","FS_createLink","FS_joinPath","FS_mmapAlloc","FS_standardizePath","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","jstoi_s","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","checkArgCount","getRequiredArgCount","createJsInvoker","UnboundTypeError","EmValType","EmValOptionalType","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","registeredPointers","registerType","integerReadValueFromPointer","enumReadValueFromPointer","floatReadValueFromPointer","assertIntegerRange","readPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","getStringOrSymbol","Emval","emval_returnValue","emval_lookupTypes","emval_methodCallers","emval_addMethodCaller"];Ri.forEach(ur),f.incrementExceptionRefcount=$i,f.decrementExceptionRefcount=Ai,f.getExceptionMessage=Gr;function Di(){Q("fetchSettings")}var qr=z("___getTypeName"),be=z("_free"),jt=z("_malloc"),Kr=z("_fflush"),Yr=z("___cxa_get_exception_ptr"),Vt=z("_emscripten_stack_get_end"),Jr=z("_strerror"),_=z("_setThrew"),Xr=z("__emscripten_tempret_set"),Qr=z("_emscripten_stack_init"),Zr=z("__emscripten_stack_restore"),en=z("__emscripten_stack_alloc"),tn=z("_emscripten_stack_get_current"),Gt=z("___cxa_decrement_exception_refcount"),qt=z("___cxa_increment_exception_refcount"),rn=z("___get_exception_message"),nn=z("___cxa_can_catch");function Mi(e){qr=_e("__getTypeName",1),be=_e("free",1),jt=_e("malloc",1),Kr=_e("fflush",1),Yr=_e("__cxa_get_exception_ptr",1),Vt=e.emscripten_stack_get_end,e.emscripten_stack_get_base,Jr=_e("strerror",1),_=_e("setThrew",2),Xr=_e("_emscripten_tempret_set",1),Qr=e.emscripten_stack_init,e.emscripten_stack_get_free,Zr=e._emscripten_stack_restore,en=e._emscripten_stack_alloc,tn=e.emscripten_stack_get_current,Gt=_e("__cxa_decrement_exception_refcount",1),qt=_e("__cxa_increment_exception_refcount",1),rn=_e("__get_exception_message",3),nn=_e("__cxa_can_catch",3)}var on={__assert_fail:An,__cxa_begin_catch:In,__cxa_end_catch:Cn,__cxa_find_matching_catch_2:Rn,__cxa_find_matching_catch_3:Dn,__cxa_find_matching_catch_4:Mn,__cxa_rethrow:On,__cxa_throw:Ln,__cxa_uncaught_exceptions:Nn,__resumeException:Bn,__syscall_fcntl64:Yn,__syscall_fstat64:Jn,__syscall_getdents64:Xn,__syscall_ioctl:Qn,__syscall_lstat64:Zn,__syscall_mkdirat:eo,__syscall_newfstatat:to,__syscall_openat:ro,__syscall_stat64:no,_abort_js:oo,_embind_finalize_value_object:ao,_embind_register_bigint:lo,_embind_register_bool:co,_embind_register_class:Fo,_embind_register_class_constructor:Ao,_embind_register_class_function:Io,_embind_register_emval:Ro,_embind_register_enum:Mo,_embind_register_enum_value:Oo,_embind_register_float:No,_embind_register_function:Bo,_embind_register_integer:zo,_embind_register_memory_view:Uo,_embind_register_std_string:Ho,_embind_register_std_wstring:Yo,_embind_register_value_object:Jo,_embind_register_value_object_field:Xo,_embind_register_void:Qo,_emval_create_invoker:oi,_emval_invoke:ii,_emval_run_destructors:ai,_tzset_js:si,clock_time_get:vi,emscripten_resize_heap:hi,environ_get:wi,environ_sizes_get:bi,fd_close:Ei,fd_read:Si,fd_seek:ki,fd_write:Ti,invoke_dd:ia,invoke_dddd:Aa,invoke_ddddd:Ia,invoke_dddid:Ma,invoke_ddi:Va,invoke_di:Gi,invoke_did:La,invoke_didd:rs,invoke_diddd:Ra,invoke_didddd:Oa,invoke_didddddi:Wa,invoke_diddddi:$a,invoke_didddi:Da,invoke_diddi:Xa,invoke_diddid:Qa,invoke_diddiid:Za,invoke_diddiii:Pa,invoke_didi:As,invoke_didii:ja,invoke_dii:_a,invoke_diidd:Fs,invoke_diididi:Sa,invoke_diididid:Cs,invoke_diii:wa,invoke_diiid:ds,invoke_diiidi:Es,invoke_diiii:ya,invoke_diiiid:ka,invoke_diiiii:Ua,invoke_diiiiid:hs,invoke_diiiiii:ba,invoke_diiiiiii:os,invoke_diiiiiiii:Ha,invoke_fiii:Ls,invoke_i:Ui,invoke_idiiii:ta,invoke_ii:Li,invoke_iid:qi,invoke_iidddd:Ba,invoke_iii:zi,invoke_iiidi:sa,invoke_iiii:Ni,invoke_iiiid:Ka,invoke_iiiidd:Ya,invoke_iiiii:Ki,invoke_iiiiid:Ds,invoke_iiiiidddiii:da,invoke_iiiiidi:ca,invoke_iiiiidiii:la,invoke_iiiiii:Qi,invoke_iiiiiidi:Ja,invoke_iiiiiii:ra,invoke_iiiiiiii:qa,invoke_iiiiiiiii:Ga,invoke_iiiiiiiiii:us,invoke_iiiiiiiiiii:_s,invoke_iiiiiiiiiiii:Ns,invoke_iiiiiiiiiiiii:Os,invoke_iiji:Xi,invoke_iijiii:Yi,invoke_iijji:Zi,invoke_iijjiii:Ji,invoke_ijjiiii:oa,invoke_ji:Vi,invoke_jiiii:Ms,invoke_v:Hi,invoke_vddddiiii:bs,invoke_vdii:ea,invoke_vdiiii:Ca,invoke_vi:Wi,invoke_vid:Is,invoke_vidd:Na,invoke_viddd:xs,invoke_vidddddddd:ws,invoke_viddddddddii:gs,invoke_viddddddddiii:ys,invoke_vidddiii:es,invoke_viddi:Ta,invoke_vidi:ts,invoke_vidid:ns,invoke_vii:Bi,invoke_viid:vs,invoke_viidd:ga,invoke_viiddd:za,invoke_viidddi:ss,invoke_viiddi:ha,invoke_viidi:Ts,invoke_viii:Oi,invoke_viiid:fs,invoke_viiiddidii:ls,invoke_viiidid:as,invoke_viiidiii:Ps,invoke_viiidiiii:is,invoke_viiii:ji,invoke_viiiid:ps,invoke_viiiidiii:$s,invoke_viiiii:aa,invoke_viiiiii:Ea,invoke_viiiiiid:fa,invoke_viiiiiidii:cs,invoke_viiiiiii:va,invoke_viiiiiiidiiii:ma,invoke_viiiiiiii:xa,invoke_viiiiiiiii:ua,invoke_viiiiiiiiii:ks,invoke_viiiiiiiiiidii:ms,invoke_viiiiiiiiiii:Fa,invoke_viiiiiiiiiiii:pa,invoke_viiiiiiiiiiiii:Ss,invoke_viiiiiiiiiiiiiii:Bs,invoke_viijii:Rs,invoke_vjjii:na,llvm_eh_typeid_for:Pi},Le=await Tn();function Oi(e,t,r,n){var o=h();try{y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function Li(e,t){var r=h();try{return y(e)(t)}catch(n){if(g(r),!(n instanceof m))throw n;_(1,0)}}function Ni(e,t,r,n){var o=h();try{return y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function Bi(e,t,r){var n=h();try{y(e)(t,r)}catch(o){if(g(n),!(o instanceof m))throw o;_(1,0)}}function zi(e,t,r){var n=h();try{return y(e)(t,r)}catch(o){if(g(n),!(o instanceof m))throw o;_(1,0)}}function Ui(e){var t=h();try{return y(e)()}catch(r){if(g(t),!(r instanceof m))throw r;_(1,0)}}function Hi(e){var t=h();try{y(e)()}catch(r){if(g(t),!(r instanceof m))throw r;_(1,0)}}function Wi(e,t){var r=h();try{y(e)(t)}catch(n){if(g(r),!(n instanceof m))throw n;_(1,0)}}function ji(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Vi(e,t){var r=h();try{return y(e)(t)}catch(n){if(g(r),!(n instanceof m))throw n;return _(1,0),0n}}function Gi(e,t){var r=h();try{return y(e)(t)}catch(n){if(g(r),!(n instanceof m))throw n;_(1,0)}}function qi(e,t,r){var n=h();try{return y(e)(t,r)}catch(o){if(g(n),!(o instanceof m))throw o;_(1,0)}}function Ki(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Yi(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ji(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function Xi(e,t,r,n){var o=h();try{return y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function Qi(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Zi(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function ea(e,t,r,n){var o=h();try{y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function ta(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function ra(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function na(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function oa(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function ia(e,t){var r=h();try{return y(e)(t)}catch(n){if(g(r),!(n instanceof m))throw n;_(1,0)}}function aa(e,t,r,n,o,i){var a=h();try{y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function sa(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function la(e,t,r,n,o,i,a,l,d){var u=h();try{return y(e)(t,r,n,o,i,a,l,d)}catch(v){if(g(u),!(v instanceof m))throw v;_(1,0)}}function da(e,t,r,n,o,i,a,l,d,u,v){var b=h();try{return y(e)(t,r,n,o,i,a,l,d,u,v)}catch(T){if(g(b),!(T instanceof m))throw T;_(1,0)}}function ca(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function fa(e,t,r,n,o,i,a,l){var d=h();try{y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function ua(e,t,r,n,o,i,a,l,d,u){var v=h();try{y(e)(t,r,n,o,i,a,l,d,u)}catch(b){if(g(v),!(b instanceof m))throw b;_(1,0)}}function pa(e,t,r,n,o,i,a,l,d,u,v,b,T){var E=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b,T)}catch(P){if(g(E),!(P instanceof m))throw P;_(1,0)}}function va(e,t,r,n,o,i,a,l){var d=h();try{y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function ma(e,t,r,n,o,i,a,l,d,u,v,b,T){var E=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b,T)}catch(P){if(g(E),!(P instanceof m))throw P;_(1,0)}}function _a(e,t,r){var n=h();try{return y(e)(t,r)}catch(o){if(g(n),!(o instanceof m))throw o;_(1,0)}}function ga(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function ha(e,t,r,n,o,i){var a=h();try{y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function ya(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function wa(e,t,r,n){var o=h();try{return y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function ba(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function Ea(e,t,r,n,o,i,a){var l=h();try{y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function xa(e,t,r,n,o,i,a,l,d){var u=h();try{y(e)(t,r,n,o,i,a,l,d)}catch(v){if(g(u),!(v instanceof m))throw v;_(1,0)}}function Sa(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function ka(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Fa(e,t,r,n,o,i,a,l,d,u,v,b){var T=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b)}catch(E){if(g(T),!(E instanceof m))throw E;_(1,0)}}function Ta(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Pa(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function $a(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function Aa(e,t,r,n){var o=h();try{return y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function Ia(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Ca(e,t,r,n,o,i){var a=h();try{y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ra(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Da(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ma(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Oa(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function La(e,t,r){var n=h();try{return y(e)(t,r)}catch(o){if(g(n),!(o instanceof m))throw o;_(1,0)}}function Na(e,t,r,n){var o=h();try{y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function Ba(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function za(e,t,r,n,o,i){var a=h();try{y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ua(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ha(e,t,r,n,o,i,a,l,d){var u=h();try{return y(e)(t,r,n,o,i,a,l,d)}catch(v){if(g(u),!(v instanceof m))throw v;_(1,0)}}function Wa(e,t,r,n,o,i,a,l){var d=h();try{return y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function ja(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Va(e,t,r){var n=h();try{return y(e)(t,r)}catch(o){if(g(n),!(o instanceof m))throw o;_(1,0)}}function Ga(e,t,r,n,o,i,a,l,d){var u=h();try{return y(e)(t,r,n,o,i,a,l,d)}catch(v){if(g(u),!(v instanceof m))throw v;_(1,0)}}function qa(e,t,r,n,o,i,a,l){var d=h();try{return y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function Ka(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Ya(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ja(e,t,r,n,o,i,a,l){var d=h();try{return y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function Xa(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Qa(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Za(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function es(e,t,r,n,o,i,a,l){var d=h();try{y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function ts(e,t,r,n){var o=h();try{y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function rs(e,t,r,n){var o=h();try{return y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function ns(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function os(e,t,r,n,o,i,a,l){var d=h();try{return y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function is(e,t,r,n,o,i,a,l,d){var u=h();try{y(e)(t,r,n,o,i,a,l,d)}catch(v){if(g(u),!(v instanceof m))throw v;_(1,0)}}function as(e,t,r,n,o,i,a){var l=h();try{y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function ss(e,t,r,n,o,i,a){var l=h();try{y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function ls(e,t,r,n,o,i,a,l,d,u){var v=h();try{y(e)(t,r,n,o,i,a,l,d,u)}catch(b){if(g(v),!(b instanceof m))throw b;_(1,0)}}function ds(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function cs(e,t,r,n,o,i,a,l,d,u){var v=h();try{y(e)(t,r,n,o,i,a,l,d,u)}catch(b){if(g(v),!(b instanceof m))throw b;_(1,0)}}function fs(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function us(e,t,r,n,o,i,a,l,d,u){var v=h();try{return y(e)(t,r,n,o,i,a,l,d,u)}catch(b){if(g(v),!(b instanceof m))throw b;_(1,0)}}function ps(e,t,r,n,o,i){var a=h();try{y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function vs(e,t,r,n){var o=h();try{y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function ms(e,t,r,n,o,i,a,l,d,u,v,b,T,E){var P=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b,T,E)}catch(A){if(g(P),!(A instanceof m))throw A;_(1,0)}}function _s(e,t,r,n,o,i,a,l,d,u,v){var b=h();try{return y(e)(t,r,n,o,i,a,l,d,u,v)}catch(T){if(g(b),!(T instanceof m))throw T;_(1,0)}}function gs(e,t,r,n,o,i,a,l,d,u,v,b){var T=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b)}catch(E){if(g(T),!(E instanceof m))throw E;_(1,0)}}function hs(e,t,r,n,o,i,a){var l=h();try{return y(e)(t,r,n,o,i,a)}catch(d){if(g(l),!(d instanceof m))throw d;_(1,0)}}function ys(e,t,r,n,o,i,a,l,d,u,v,b,T){var E=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b,T)}catch(P){if(g(E),!(P instanceof m))throw P;_(1,0)}}function ws(e,t,r,n,o,i,a,l,d,u){var v=h();try{y(e)(t,r,n,o,i,a,l,d,u)}catch(b){if(g(v),!(b instanceof m))throw b;_(1,0)}}function bs(e,t,r,n,o,i,a,l,d){var u=h();try{y(e)(t,r,n,o,i,a,l,d)}catch(v){if(g(u),!(v instanceof m))throw v;_(1,0)}}function Es(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function xs(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Ss(e,t,r,n,o,i,a,l,d,u,v,b,T,E){var P=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b,T,E)}catch(A){if(g(P),!(A instanceof m))throw A;_(1,0)}}function ks(e,t,r,n,o,i,a,l,d,u,v){var b=h();try{y(e)(t,r,n,o,i,a,l,d,u,v)}catch(T){if(g(b),!(T instanceof m))throw T;_(1,0)}}function Fs(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Ts(e,t,r,n,o){var i=h();try{y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;_(1,0)}}function Ps(e,t,r,n,o,i,a,l){var d=h();try{y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function $s(e,t,r,n,o,i,a,l,d){var u=h();try{y(e)(t,r,n,o,i,a,l,d)}catch(v){if(g(u),!(v instanceof m))throw v;_(1,0)}}function As(e,t,r,n){var o=h();try{return y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function Is(e,t,r){var n=h();try{y(e)(t,r)}catch(o){if(g(n),!(o instanceof m))throw o;_(1,0)}}function Cs(e,t,r,n,o,i,a,l){var d=h();try{return y(e)(t,r,n,o,i,a,l)}catch(u){if(g(d),!(u instanceof m))throw u;_(1,0)}}function Rs(e,t,r,n,o,i){var a=h();try{y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ds(e,t,r,n,o,i){var a=h();try{return y(e)(t,r,n,o,i)}catch(l){if(g(a),!(l instanceof m))throw l;_(1,0)}}function Ms(e,t,r,n,o){var i=h();try{return y(e)(t,r,n,o)}catch(a){if(g(i),!(a instanceof m))throw a;return _(1,0),0n}}function Os(e,t,r,n,o,i,a,l,d,u,v,b,T){var E=h();try{return y(e)(t,r,n,o,i,a,l,d,u,v,b,T)}catch(P){if(g(E),!(P instanceof m))throw P;_(1,0)}}function Ls(e,t,r,n){var o=h();try{return y(e)(t,r,n)}catch(i){if(g(o),!(i instanceof m))throw i;_(1,0)}}function Ns(e,t,r,n,o,i,a,l,d,u,v,b){var T=h();try{return y(e)(t,r,n,o,i,a,l,d,u,v,b)}catch(E){if(g(T),!(E instanceof m))throw E;_(1,0)}}function Bs(e,t,r,n,o,i,a,l,d,u,v,b,T,E,P,A){var q=h();try{y(e)(t,r,n,o,i,a,l,d,u,v,b,T,E,P,A)}catch(W){if(g(q),!(W instanceof m))throw W;_(1,0)}}var an;function zs(){Qr(),V()}function Kt(){if(Ae>0){Ze=Kt;return}if(zs(),hn(),Ae>0){Ze=Kt;return}function e(){var t;S(!an),an=!0,f.calledRun=!0,!X&&(yn(),st==null||st(f),(t=f.onRuntimeInitialized)==null||t.call(f),ue("onRuntimeInitialized"),S(!f._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),wn())}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),e()},1)):e(),re()}function Us(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()();ue("preInit")}Us(),Kt(),Qe?p=f:p=new Promise((e,t)=>{st=e,lt=t});for(const e of Object.keys(f))e in c||Object.defineProperty(c,e,{configurable:!0,get(){se(`Access to module property ('${e}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return p}async function Ks(){try{return await qs({locateFile:(f,k)=>f.endsWith(".wasm")?"coolprop.wasm":k+f})}catch(c){throw console.error("CoolProp WASM :",c),new Error(`CoolProp.js  CoolProp.wasm  (${c.message})`)}}const un={R134a:{gwp:1430,odp:0,safety:"A1"},R245fa:{gwp:1030,odp:0,safety:"B1"},"R1233zd(E)":{gwp:1,odp:0,safety:"A1"},"R1234ze(Z)":{gwp:"<1",odp:0,safety:"A2L"},R123:{gwp:77,odp:.012,safety:"B1"},R22:{gwp:1810,odp:.034,safety:"A1"},R410A:{gwp:2088,odp:0,safety:"A1"},R32:{gwp:675,odp:0,safety:"A2L"},R290:{gwp:3,odp:0,safety:"A3"},R717:{gwp:0,odp:0,safety:"B2L"},R515B:{gwp:293,odp:0,safety:"A1"},R142b:{gwp:2310,odp:.043,safety:"A2"},"R1336mzz(Z)":{gwp:2,odp:0,safety:"A1"},R744:{gwp:1,odp:0,safety:"A1"},R600a:{gwp:3,odp:0,safety:"A3"},R152a:{gwp:124,odp:0,safety:"A2"},R454B:{gwp:466,odp:0,safety:"A2L"},R513A:{gwp:631,odp:0,safety:"A1"},R236fa:{gwp:9810,odp:0,safety:"A1"},R23:{gwp:14800,odp:0,safety:"A1"},R1234yf:{gwp:"<1",odp:0,safety:"A2L"},R1270:{gwp:2,odp:0,safety:"A3"},R1150:{gwp:2,odp:0,safety:"A3"},Air:{gwp:0,odp:0,safety:"A1"},Nitrogen:{gwp:0,odp:0,safety:"A1"},Helium:{gwp:0,odp:0,safety:"A1"},Neon:{gwp:0,odp:0,safety:"A1"},Argon:{gwp:0,odp:0,safety:"A1"},Hydrogen:{gwp:0,odp:0,safety:"A3"},Oxygen:{gwp:0,odp:0,safety:"A1 (Oxidizer)"},Methane:{gwp:25,odp:0,safety:"A3"},R507A:{gwp:3985,odp:0,safety:"A1"},Water:{gwp:0,odp:0,safety:"A1"},default:{gwp:"N/A",odp:"N/A",safety:"N/A"}};function fr(c,p,f){if(!f){p.textContent="---  ---";return}const k=c.value,x=un[k]||un.default;if(!x){p.textContent=`---  ${k}  GWP/ODP  ---`;return}try{if(k==="Water"&&(c.id==="fluid_m4"||c.id==="fluid_m5")){p.innerHTML=`
<b>IAPWS-IF97 (Water)</b>
----------------------------------------
GWP: 0, ODP: 0, Safety: A1
MVR 
----------------------------------------
 (Tc): 647.096 K (373.946 C)
 (Pc): 220.64 bar
 (Tb): 373.124 K (99.974 C)
            `.trim();return}const w=f.PropsSI("Tcrit","",0,"",0,k),F=f.PropsSI("Pcrit","",0,"",0,k),$=f.PropsSI("T","P",101325,"Q",0,k);p.innerHTML=`
<b>${k} :</b>
----------------------------------------
GWP (AR4/AR5): ${x.gwp}
ODP:           ${x.odp}
:      ${x.safety}
----------------------------------------
 (Tc): ${w.toFixed(2)} K (${(w-273.15).toFixed(2)} C)
 (Pc): ${(F/1e5).toFixed(2)} bar
 (Tb): ${$.toFixed(2)} K (${($-273.15).toFixed(2)} C)
        `.trim()}catch(w){if(console.error(`Update Fluid Info Failed for ${k}:`,w),w.message.includes("sublimation")&&k==="R744"){const F=f.PropsSI("Tcrit","",0,"",0,k),$=f.PropsSI("Pcrit","",0,"",0,k);p.innerHTML=`
<b>${k} :</b>
----------------------------------------
GWP (AR4/AR5): ${x.gwp}
ODP:           ${x.odp}
:      ${x.safety}
----------------------------------------
 (Tc): ${F.toFixed(2)} K (${(F-273.15).toFixed(2)} C)
 (Pc): ${($/1e5).toFixed(2)} bar
 (Tb): N/A (1atm)
            `.trim()}else p.textContent=`---  ${k}  ---
${w.message}`}}let Jt=null,Xt=null,Ne,bt,Et,nr,Be,or,xt,ir;function gn(c,p,f){const k=c.get(`flow_mode_${p}`);let x=0,w=0;if(k==="rpm"){const F=parseFloat(c.get(`rpm_${p}`)),$=parseFloat(c.get(`vol_disp_${p}`))/1e6,I=parseFloat(c.get(`vol_eff_${p}`)||"100")/100;w=F/60*$*I,x=w*f}else k==="mass"?(x=parseFloat(c.get(`mass_flow_${p}`)),w=x/f):k==="vol"&&(w=parseFloat(c.get(`vol_flow_${p}`))/3600,x=w*f);return{m_flow:x,v_flow_in:w}}function Pt(c,p){const f=p.includes("GAS"),k=f?"#0891b2":"#059669",x=f?"#ecfeff":"#ecfdf5",w=f?"#cffafe":"#d1fae5";let F="";return f?F=`
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Shaft Power </div>
                <div style="font-size: 24px; font-weight: 800; color: ${k};">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Discharge Temp </div>
                <div style="font-size: 24px; font-weight: 800; color: ${k};">${c.t_out.toFixed(1)} <span style="font-size:14px">C</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Pressure Ratio </div>
                <div style="font-size: 24px; font-weight: 800; color: ${k};">${c.pr.toFixed(2)}</div>
            </div>`:F=`
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase;">Cooling Cap. </div>
                <div style="font-size: 22px; font-weight: 800; color: ${k};">${c.q_evap.toFixed(2)} <span style="font-size:14px">kW</span></div>
                <div style="font-size: 11px; color: #666; margin-top: 4px;">COP (Cool): <strong>${c.cop_c.toFixed(2)}</strong></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase;">Heating Cap. </div>
                <div style="font-size: 22px; font-weight: 800; color: ${k};">${c.q_cond.toFixed(2)} <span style="font-size:14px">kW</span></div>
                <div style="font-size: 11px; color: #666; margin-top: 4px;">COP (Heat): <strong>${c.cop_h.toFixed(2)}</strong></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase;">Shaft Power </div>
                <div style="font-size: 22px; font-weight: 800; color: #333;">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>`,`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <div style="border-bottom: 3px solid ${k}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${k}; line-height: 1;">${p}</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Performance Simulation Report </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666; line-height: 1.5;">
                Date: <strong>${c.date}</strong><br>
                Fluid (): <strong>${c.fluid}</strong>
            </div>
        </div>

        <div style="background: ${x}; border: 1px solid ${w}; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);">
            ${F}
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${k}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Operating Conditions </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_in.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Temp </td><td style="text-align: right; font-weight: 600;">${c.t_in.toFixed(2)} C</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_out.toFixed(3)} bar</td></tr>
                    ${f?"":`
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Evap Temp / Superheat</td><td style="text-align: right;">${c.t_evap.toFixed(1)}C / ${c.sh.toFixed(1)}K</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Cond Temp / Subcool</td><td style="text-align: right;">${c.t_cond.toFixed(1)}C / ${c.sc.toFixed(1)}K</td></tr>
                    `}
                </table>

                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${k}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Efficiency Settings </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Calc Model </td><td style="text-align: right; font-size: 12px;">${c.eff_note}</td></tr>
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Isentropic Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_isen*100).toFixed(1)} %</td></tr>
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Volumetric Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_vol*100).toFixed(1)} %</td></tr>
                </table>
            </div>

            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${k}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Performance Data </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Mass Flow Rate </td><td style="text-align: right; font-weight: 600;">${(c.m_flow*3600).toFixed(1)} kg/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Volume Flow (In) </td><td style="text-align: right; font-weight: 600;">${(c.v_flow*3600).toFixed(1)} m/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Temp </td><td style="text-align: right; font-weight: 600;">${c.t_out.toFixed(2)} C</td></tr>
                    
                    ${f&&c.q_aftercool>0?`
                    <tr style="border-bottom: 1px solid #eee; color:${k};"><td style="padding: 8px 0; font-weight:600;">Aftercooler Load </td><td style="text-align: right; font-weight: 600;">${c.q_aftercool.toFixed(2)} kW</td></tr>
                    `:""}
                    
                    ${f?"":`
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Condenser Load </td><td style="text-align: right;">${c.q_cond.toFixed(2)} kW</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Evaporator Load </td><td style="text-align: right;">${c.q_evap.toFixed(2)} kW</td></tr>
                    `}
                </table>
            </div>
        </div>

        <div style="margin-top: 50px; border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; font-size: 11px; color: #6b7280;">
            <div style="margin-bottom: 5px; font-weight: bold; color: #374151; font-size: 12px;">
                Prepared by Yanrong Jing ()
            </div>
            <div style="margin-bottom: 8px;">
                Oil-Free Compressor Calculator Pro v8.0
            </div>
            <div style="font-style: italic; color: #9ca3af; max-width: 80%; margin: 0 auto; line-height: 1.5;">
                Disclaimer: This simulation report is provided for engineering reference only. 
                Actual performance may vary based on specific mechanical design, manufacturing tolerances, and operating conditions. 
                The author assumes no liability for any errors, omissions, or consequences arising from the use of this data.
            </div>
        </div>
    </div>
    `}function pn(c,p,f,k){const x=document.getElementById(c);x&&x.addEventListener("change",()=>{const w=x.value;let F=0,$=0,I=3;w==="scroll"?(F=70,$=95,I=3):w==="piston"?(F=75,$=85,I=3.5):w==="screw"?(F=78,$=90,I=3):w==="centrifugal"?(F=82,$=100,I=2.5):w==="piston_air"?(F=70,$=80,I=8):w==="screw_oil_free"?(F=75,$=85,I=3.5):w==="process_screw"&&(F=78,$=90,I=4),F>0&&(document.getElementById(p).value=F,f&&(document.getElementById(f).value=$),k&&document.getElementById(k)&&(document.getElementById(k).value=I))})}async function Ys(c){if(!c){bt.textContent="Calculation Error: CP is not defined (Module not loaded)";return}Ne.disabled=!0,Ne.textContent="...",setTimeout(()=>{try{const p=new FormData(Et),f=p.get("fluid_m1"),k=parseFloat(p.get("T_evap_m1")),x=parseFloat(p.get("SH_m1")),w=parseFloat(p.get("T_cond_m1")),F=parseFloat(p.get("SC_m1"));let $=parseFloat(p.get("eff_isen_m1"))/100,I=parseFloat(p.get("vol_eff_m1"))/100;const M=parseFloat(p.get("motor_eff_m1"))/100,O=c.PropsSI("P","T",k+273.15,"Q",1,f),D=c.PropsSI("P","T",w+273.15,"Q",1,f),L=D/O;let j="Static (Fixed)";if(p.get("enable_dynamic_eff_m1")==="on"){const ne=parseFloat(p.get("pr_design_m1")),Se=1-.03*Math.pow(L-ne,2);$=$*Math.max(.5,Se),j=`Dynamic (PR=${L.toFixed(2)})`}const ie=k+x+273.15,Y=c.PropsSI("D","P",O,"T",ie,f),ee=c.PropsSI("H","P",O,"T",ie,f),te=c.PropsSI("S","P",O,"T",ie,f),B=p.get("flow_mode_m1");let ae=0,X=0;if(B==="rpm"){const ne=parseFloat(p.get("rpm_m1")),Se=parseFloat(p.get("vol_disp_m1"))/1e6;X=ne/60*Se*I,ae=X*Y}else{const ne=gn(p,"m1",Y);ae=ne.m_flow,X=ne.v_flow_in}const J=(c.PropsSI("H","P",D,"S",te,f)-ee)/$,V=ee+J,re=c.PropsSI("T","P",D,"H",V,f)-273.15,m=c.PropsSI("T","P",D,"S",te,f)-273.15,ve=c.PropsSI("H","P",D,"T",w+273.15-F,f),ue=(ee-ve)*ae/1e3,z=(V-ve)*ae/1e3,Q=J*ae/1e3,fe=ue/Q,me=z/Q;Jt={date:new Date().toLocaleDateString(),fluid:f,p_in:O/1e5,t_in:k+x,p_out:D/1e5,t_out:re,t_out_s:m,t_evap:k,sh:x,t_cond:w,sc:F,m_flow:ae,v_flow:X,power:Q,q_evap:ue,q_cond:z,cop_c:fe,cop_h:me,pr:L,eff_note:j,eff_isen:$,eff_vol:I},bt.innerHTML=Pt(Jt,"HEAT PUMP / REFRIGERATION DATASHEET"),Ne.textContent="",Ne.disabled=!1,nr.disabled=!1,nr.onclick=()=>{const ne=window.open("","_blank");ne.document.write(`<html><head><title>Report</title></head><body style="margin:0; background:#fff;">${Pt(Jt,"HEAT PUMP / REFRIGERATION DATASHEET")}</body></html>`),ne.document.close(),setTimeout(()=>ne.print(),200)}}catch(p){bt.innerHTML=`<div style="color:red; padding:10px;">Calculation Error: ${p.message}</div>`,Ne.textContent="",Ne.disabled=!1}},10)}async function Js(c){c&&(Be.disabled=!0,Be.textContent="...",setTimeout(()=>{try{const p=new FormData(xt),f=p.get("fluid_m2"),k=parseFloat(p.get("p_in_m2"))*1e5,x=parseFloat(p.get("T_in_m2"))+273.15,w=parseFloat(p.get("p_out_m2"))*1e5;let F=parseFloat(p.get("eff_isen_m2"))/100,$=parseFloat(p.get("vol_eff_m2"))/100;const I=w/k;let M="Static";if(p.get("enable_dynamic_eff_m2")==="on"){const V=parseFloat(p.get("pr_design_m2")),re=1-.03*Math.pow(I-V,2);F=F*Math.max(.5,re),M=`Dynamic (PR=${I.toFixed(2)})`}const O=c.PropsSI("D","P",k,"T",x,f),D=c.PropsSI("H","P",k,"T",x,f),L=c.PropsSI("S","P",k,"T",x,f),j=p.get("flow_mode_m2");let ie=0,Y=0;if(j==="rpm"){const V=parseFloat(p.get("rpm_m2")),re=parseFloat(p.get("vol_disp_m2"))/1e6;Y=V/60*re*$,ie=Y*O}else{const V=gn(p,"m2",O);ie=V.m_flow,Y=V.v_flow_in}const te=(c.PropsSI("H","P",w,"S",L,f)-D)/F,B=D+te,ae=c.PropsSI("T","P",w,"H",B,f)-273.15,X=c.PropsSI("T","P",w,"S",L,f)-273.15,S=te*ie/1e3;let J=0;if(p.get("enable_cooler_calc_m2")==="on"){const V=parseFloat(p.get("target_temp_m2"))+273.15,re=c.PropsSI("H","P",w,"T",V,f);J=(B-re)*ie/1e3}Xt={date:new Date().toLocaleDateString(),fluid:f,p_in:k/1e5,t_in:x-273.15,p_out:w/1e5,t_out:ae,t_out_s:X,m_flow:ie,v_flow:Y,power:S,pr:I,q_aftercool:J,eff_note:M,eff_isen:F,eff_vol:$},or.innerHTML=Pt(Xt,"GAS COMPRESSOR DATASHEET"),Be.textContent="",Be.disabled=!1,ir.disabled=!1,ir.onclick=()=>{const V=window.open("","_blank");V.document.write(`<html><head><title>Report</title></head><body style="margin:0; background:#fff;">${Pt(Xt,"GAS COMPRESSOR DATASHEET")}</body></html>`),V.document.close(),setTimeout(()=>V.print(),200)}}catch(p){or.innerHTML=`<div style="color:red">Error: ${p.message}</div>`,Be.textContent="",Be.disabled=!1}},10))}function Xs(c){Ne=document.getElementById("calc-button-1"),bt=document.getElementById("results-1"),Et=document.getElementById("calc-form-1"),nr=document.getElementById("print-button-1"),Et&&(pn("ai_eff_m1","eff_isen_m1","vol_eff_m1","pr_design_m1"),Et.addEventListener("submit",p=>{p.preventDefault(),Ys(c)})),Be=document.getElementById("calc-button-2"),or=document.getElementById("results-2"),xt=document.getElementById("calc-form-2"),ir=document.getElementById("print-button-2"),xt&&(pn("ai_eff_m2","eff_isen_m2","vol_eff_m2","pr_design_m2"),xt.addEventListener("submit",p=>{p.preventDefault(),Js(c)}))}let ze,St,kt,ar,Qt=null;function vn(c){const p="#0891b2";return`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <!-- Header -->
        <div style="border-bottom: 3px solid ${p}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${p}; line-height: 1;">AIR COMPRESSOR DATASHEET</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Thermodynamic Simulation (Humid Air) </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666; line-height: 1.5;">
                Date: <strong>${c.date}</strong><br>
                Model: <strong>${c.ai_model||"Custom"}</strong>
            </div>
        </div>
        
        <!-- KPI Dashboard -->
        <div style="background: #ecfeff; border: 1px solid #cffafe; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);">
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Shaft Power </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Discharge Temp </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${c.t_out.toFixed(1)} <span style="font-size:14px">C</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">FAD </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${(c.v_flow*3600).toFixed(1)} <span style="font-size:14px">m/h</span></div>
            </div>
        </div>

        <!-- Data Grid -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <!-- Left Column -->
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Inlet Conditions </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Ambient Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_in.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Ambient Temp (DB) </td><td style="text-align: right; font-weight: 600;">${c.t_in.toFixed(2)} C</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Relative Humidity </td><td style="text-align: right; font-weight: 600;">${c.rh_in.toFixed(1)} %</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Humidity Ratio </td><td style="text-align: right; font-weight: 600;">${(c.w_in*1e3).toFixed(2)} g/kg</td></tr>
                </table>

                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Machine Efficiency </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Isentropic Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_is*100).toFixed(1)} %</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Volumetric Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_vol*100).toFixed(1)} %</td></tr>
                </table>
            </div>

            <!-- Right Column -->
            <div>
                 <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Performance Data </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_out.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Pressure Ratio </td><td style="text-align: right; font-weight: 600;">${c.pr.toFixed(2)}</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Mass Flow (Dry) </td><td style="text-align: right; font-weight: 600;">${(c.m_da*3600).toFixed(1)} kg/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Specific Power </td><td style="text-align: right; font-weight: 600;">${c.spec_power.toFixed(2)} kW/(m/min)</td></tr>
                    
                    ${c.q_jacket>0?`
                    <tr style="border-bottom: 1px solid #eee; color:${p};"><td style="padding: 8px 0; font-weight:600;">Jacket Heat Load </td><td style="text-align: right; font-weight: 600;">${c.q_jacket.toFixed(2)} kW</td></tr>
                    `:""}
                    
                    ${c.q_aftercool>0?`
                    <tr style="border-bottom: 1px solid #eee; color:${p};"><td style="padding: 8px 0; font-weight:600;">Aftercooler Load </td><td style="text-align: right; font-weight: 600;">${c.q_aftercool.toFixed(2)} kW</td></tr>
                    `:""}
                </table>

                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Cooling System </div>
                <div style="font-size: 13px; padding: 5px; color: #555;">
                    <strong>Method:</strong> ${c.cooling_desc}<br>
                    ${c.cooling_detail?`<span style="color: ${p}; font-weight: 600;">${c.cooling_detail}</span>`:""}
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div style="margin-top: 50px; border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; font-size: 11px; color: #6b7280;">
            <div style="margin-bottom: 5px; font-weight: bold; color: #374151; font-size: 12px;">
                Prepared by Yanrong Jing ()
            </div>
            <div style="margin-bottom: 8px;">
                Oil-Free Compressor Calculator Pro v8.0
            </div>
            <div style="font-style: italic; color: #9ca3af; max-width: 80%; margin: 0 auto; line-height: 1.5;">
                Disclaimer: This simulation report is provided for engineering reference only. 
                Actual performance may vary based on specific mechanical design, manufacturing tolerances, and operating conditions. 
                The author assumes no liability for any errors, omissions, or consequences arising from the use of this data.
            </div>
        </div>
    </div>
    `}function Qs(c,p){const f=c.get("flow_mode_m3"),k=parseFloat(c.get("vol_eff_m3")||"100")/100;let x=0,w=0;if(f==="rpm"){const F=parseFloat(c.get("rpm_m3")),$=parseFloat(c.get("vol_disp_m3"))/1e6;w=F/60*$*k,x=w/p}else f==="mass"?(x=parseFloat(c.get("mass_flow_m3")),w=x*p):f==="vol"&&(w=parseFloat(c.get("vol_flow_m3"))/3600,x=w/p);return{m_da:x,v_flow_in:w}}function Zs(){const c=document.getElementById("ai_eff_m3"),p=document.getElementById("eff_isen_m3"),f=document.getElementById("vol_eff_m3"),k=document.querySelectorAll('input[name="cooling_type_m3"]');c&&c.addEventListener("change",()=>{const x=c.value;if(!x)return;let w=75,F=90,$="adiabatic";switch(x){case"piston_water":w=72,F=85,$="jacket";break;case"screw_oil_free":w=75,F=92,$="adiabatic";break;case"screw_injected":w=85,F=94,$="injection";break}p&&(p.value=w),f&&(f.value=F),k.length&&k.forEach(I=>{I.value===$&&(I.checked=!0,I.dispatchEvent(new Event("change")))})})}async function el(c){if(!c){St.textContent="CoolProp ";return}ze.textContent="...",ze.disabled=!0,setTimeout(()=>{try{const p=new FormData(kt),f=parseFloat(p.get("p_in_m3")),k=parseFloat(p.get("T_in_m3")),x=parseFloat(p.get("RH_in_m3"))/100,w=parseFloat(p.get("p_out_m3")),F=parseFloat(p.get("eff_isen_m3"))/100,$=parseFloat(p.get("vol_eff_m3"))/100,I=p.get("cooling_type_m3"),M=f*1e5,O=k+273.15,D=w*1e5,L=c.HAPropsSI("V","T",O,"P",M,"R",x),j=c.HAPropsSI("H","T",O,"P",M,"R",x),ie=c.HAPropsSI("S","T",O,"P",M,"R",x),Y=c.HAPropsSI("W","T",O,"P",M,"R",x),{m_da:ee,v_flow_in:te}=Qs(p,L),X=(c.HAPropsSI("H","P",D,"S",ie,"W",Y)-j)/F;let S=j+X,J="Adiabatic (None)",V="",re=0,m=0;if(I==="jacket"){const Q=parseFloat(p.get("jacket_heat_percent_m3")||15)/100,fe=X*Q;S=j+X-fe,re=c.HAPropsSI("T","P",D,"H",S,"W",Y),m=fe*ee/1e3,J="Jacket Water Cooling ",V=`Heat Removal: ${m.toFixed(2)} kW (${(Q*100).toFixed(0)}%)`}else if(I==="injection"){const Q=parseFloat(p.get("T_inject_m3")||25),me=X*.35;S=j+X-me,re=c.HAPropsSI("T","P",D,"H",S,"W",Y),J="Liquid Injection ",V=`Injection Temp: ${Q.toFixed(1)}C`}else re=c.HAPropsSI("T","P",D,"H",S,"W",Y),J="Adiabatic ";let ve=0;if(p.get("enable_cooler_calc_m3")==="on"){const Q=parseFloat(p.get("target_temp_m3"))+273.15,fe=c.HAPropsSI("H","T",Q,"P",D,"R",1);ve=(S-fe)*ee/1e3}const ue=X*ee/1e3,z=ue/(te*60);Qt={date:new Date().toLocaleDateString(),ai_model:document.getElementById("ai_eff_m3").options[document.getElementById("ai_eff_m3").selectedIndex].text.split("(")[0].trim(),p_in:f,t_in:k,rh_in:x,w_in:Y,p_out:w,t_out:re-273.15,m_da:ee,v_flow:te,eff_is:F,eff_vol:$,pr:w/f,power:ue,spec_power:z,cooling_desc:J,cooling_detail:V,q_jacket:m,q_aftercool:ve},St.innerHTML=vn(Qt),ze.textContent="",ze.disabled=!1,ar.disabled=!1,ar.onclick=()=>{const Q=window.open("","_blank");Q.document.write(`<html><head><title>Air Comp Report</title></head><body style="margin:0; background:#fff;">${vn(Qt)}</body></html>`),Q.document.close(),setTimeout(()=>Q.print(),200)}}catch(p){St.textContent="Error: "+p.message,ze.textContent="",ze.disabled=!1}},10)}function tl(c){ze=document.getElementById("calc-button-3"),St=document.getElementById("results-3"),kt=document.getElementById("calc-form-3"),ar=document.getElementById("print-button-3"),kt&&(kt.addEventListener("submit",p=>{p.preventDefault(),el(c)}),Zs())}let Ue,sr,Ft,lr,Zt,er=null;function mn(c){const p="#7e22ce";return`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <!-- Header -->
        <div style="border-bottom: 3px solid ${p}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${p}; line-height: 1;">MVR DATASHEET</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Mechanical Vapor Recompression (Volumetric) </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666; line-height: 1.5;">
                Date: <strong>${c.date}</strong><br>
                Fluid (): <strong>${c.fluid}</strong>
            </div>
        </div>

        <!-- KPI Dashboard -->
        <div style="background: #faf5ff; border: 1px solid #e9d5ff; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);">
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Injection Water </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${(c.m_water*3600).toFixed(1)} <span style="font-size:14px">kg/h</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Shaft Power </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">COP </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${c.cop.toFixed(2)}</div>
            </div>
        </div>

        <!-- Data Grid -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <!-- Left Column -->
            <div>
                 <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #faf5ff; padding-top:5px; padding-bottom:5px;">Process Parameters </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_in.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Temp </td><td style="text-align: right; font-weight: 600;">${c.t_in.toFixed(1)} C</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_out.toFixed(3)} bar</td></tr>
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Sat. Temp Rise </td><td style="text-align: right; font-weight: 600;">${c.dt.toFixed(1)} K</td></tr>
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Sat. Temp Out </td><td style="text-align: right; font-weight: 600;">${c.t_sat_out.toFixed(1)} C</td></tr>
                </table>
            </div>
            
            <!-- Right Column -->
            <div>
                 <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #faf5ff; padding-top:5px; padding-bottom:5px;">Machine Data </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Operating Speed </td><td style="text-align: right; font-weight: 600;">${c.rpm?c.rpm+" RPM":"-"}</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Evaporation Flow </td><td style="text-align: right; font-weight: 600;">${(c.m_flow*3600).toFixed(1)} kg/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Volume Flow </td><td style="text-align: right; font-weight: 600;">${(c.v_flow_in*3600).toFixed(1)} m/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Isentropic Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_is*100).toFixed(1)} %</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Volumetric Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_vol*100).toFixed(1)} %</td></tr>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div style="margin-top: 50px; border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; font-size: 11px; color: #6b7280;">
            <div style="margin-bottom: 5px; font-weight: bold; color: #374151; font-size: 12px;">
                Prepared by Yanrong Jing ()
            </div>
            <div style="margin-bottom: 8px;">
                Oil-Free Compressor Calculator Pro v8.0
            </div>
            <div style="font-style: italic; color: #9ca3af; max-width: 80%; margin: 0 auto; line-height: 1.5;">
                Disclaimer: This simulation report is provided for engineering reference only. 
                Actual performance may vary based on specific mechanical design, manufacturing tolerances, and operating conditions. 
                The author assumes no liability for any errors, omissions, or consequences arising from the use of this data.
            </div>
        </div>
    </div>
    `}function rl(c,p){const f=c.get("flow_mode_m4");let k=0,x=0,w=0;if(f==="rpm"){w=parseFloat(c.get("rpm_m4"));const F=parseFloat(c.get("vol_disp_m4"))/1e6,$=parseFloat(c.get("vol_eff_m4"))/100;x=w/60*F*$,k=x*p}else f==="mass"?(k=parseFloat(c.get("mass_flow_m4"))/3600,x=k/p):f==="vol"&&(x=parseFloat(c.get("vol_flow_m4"))/3600,k=x*p);return{m_flow:k,v_flow_in:x,rpm:w}}function nl(){const c=document.getElementById("ai_eff_m4");c&&c.addEventListener("change",()=>{const p=c.value;p==="roots"?(document.getElementById("eff_isen_m4").value=60,document.getElementById("vol_eff_m4").value=75):p==="screw_mvr"&&(document.getElementById("eff_isen_m4").value=75,document.getElementById("vol_eff_m4").value=85)})}async function ol(c){c&&(Ue.textContent="...",Ue.disabled=!0,setTimeout(()=>{try{const p=new FormData(Ft),f=p.get("fluid_m4"),k=parseFloat(p.get("p_in_m4")),x=parseFloat(p.get("T_in_m4")),w=parseFloat(p.get("delta_T_m4")),F=parseFloat(p.get("eff_isen_m4"))/100,$=parseFloat(p.get("vol_eff_m4"))/100,I=parseFloat(p.get("T_water_in_m4")),M=k*1e5,O=x+273.15,L=c.PropsSI("T","P",M,"Q",1,f)+w,j=c.PropsSI("P","T",L,"Q",1,f),ie=c.PropsSI("H","P",M,"T",O,f),Y=c.PropsSI("S","P",M,"T",O,f),ee=c.PropsSI("D","P",M,"T",O,f),{m_flow:te,v_flow_in:B,rpm:ae}=rl(p,ee),S=(c.PropsSI("H","P",j,"S",Y,f)-ie)/F,J=ie+S,V=S*te/1e3,re=c.PropsSI("H","P",M,"Q",1,f),m=c.PropsSI("H","P",M,"Q",0,f),ve=re-m,z=te*ve/1e3/V,Q=c.PropsSI("H","P",j,"Q",1,f),fe=c.PropsSI("H","T",I+273.15,"P",j,"Water");let me=0,ne=c.PropsSI("T","P",j,"H",J,f)-273.15;J>Q&&(me=te*(J-Q)/(Q-fe),ne=L-273.15),er={date:new Date().toLocaleDateString(),fluid:f,p_in:k,t_in:x,dt:w,rpm:ae,eff_is:F,eff_vol:$,p_out:j/1e5,t_sat_out:L-273.15,t_out_est:ne,power:V,m_water:me,m_flow:te,v_flow_in:B,cop:z},sr.innerHTML=mn(er),Ue.textContent="",Ue.disabled=!1,lr.disabled=!1,lr.onclick=()=>{const Se=window.open("","_blank");Se.document.write(`<html><head><title>MVR Report</title></head><body>${mn(er)}</body></html>`),Se.document.close(),setTimeout(()=>Se.print(),200)}}catch(p){sr.textContent=": "+p.message,Ue.textContent="",Ue.disabled=!1}},10))}function il(c){Ue=document.getElementById("calc-button-4"),sr=document.getElementById("results-4"),Ft=document.getElementById("calc-form-4"),lr=document.getElementById("print-button-4"),Zt=document.getElementById("fluid_m4"),Ft&&(nl(),Ft.addEventListener("submit",p=>{p.preventDefault(),ol(c)}),Zt.addEventListener("change",()=>fr(Zt,document.getElementById("fluid-info-m4"),c)))}let He,dr,Tt,cr,tr,rr=null;function _n(c){const p="#0f766e";return`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <!-- Header -->
        <div style="border-bottom: 3px solid ${p}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${p}; line-height: 1;">MVR TURBO DATASHEET</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Centrifugal Compressor Simulation </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666; line-height: 1.5;">
                Date: <strong>${c.date}</strong><br>
                Fluid (): <strong>${c.fluid}</strong>
            </div>
        </div>
        
        <!-- KPI Dashboard -->
        <div style="background: #f0fdfa; border: 1px solid #ccfbf1; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);">
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Evaporation </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${(c.m_flow*3600).toFixed(1)} <span style="font-size:14px">kg/h</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Impeller Power </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">COP </div>
                <div style="font-size: 24px; font-weight: 800; color: ${p};">${c.cop.toFixed(2)}</div>
            </div>
        </div>
        
        <!-- Data Grid -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <!-- Left Column -->
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Suction Conditions </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_in.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Temp </td><td style="text-align: right; font-weight: 600;">${c.t_in.toFixed(1)} C</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Volume Flow </td><td style="text-align: right; font-weight: 600;">${(c.v_flow_in*3600).toFixed(1)} m/h</td></tr>
                </table>

                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Efficiency Settings </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Polytropic Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_poly*100).toFixed(1)} %</td></tr>
                </table>
            </div>

            <!-- Right Column -->
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${p}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Discharge & System </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Temp Lift (Sat) </td><td style="text-align: right; font-weight: 600;">${c.dt.toFixed(1)} K</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_out.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Temp (Est.) </td><td style="text-align: right; font-weight: 600;">${c.t_out.toFixed(1)} C</td></tr>
                    ${c.m_water>0?`<tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; font-weight:600; color:${p};">Injection Water </td><td style="text-align: right; color:${p}; font-weight: 600;">${(c.m_water*3600).toFixed(1)} kg/h</td></tr>`:""}
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div style="margin-top: 50px; border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; font-size: 11px; color: #6b7280;">
            <div style="margin-bottom: 5px; font-weight: bold; color: #374151; font-size: 12px;">
                Prepared by Yanrong Jing ()
            </div>
            <div style="margin-bottom: 8px;">
                Oil-Free Compressor Calculator Pro v8.0
            </div>
            <div style="font-style: italic; color: #9ca3af; max-width: 80%; margin: 0 auto; line-height: 1.5;">
                Disclaimer: This simulation report is provided for engineering reference only. 
                Actual performance may vary based on specific mechanical design, manufacturing tolerances, and operating conditions. 
                The author assumes no liability for any errors, omissions, or consequences arising from the use of this data.
            </div>
        </div>
    </div>
    `}function al(c,p){const f=c.get("flow_mode_m5");let k=0,x=0;return f==="mass"?(k=parseFloat(c.get("mass_flow_m5"))/3600,x=k/p):f==="vol"&&(x=parseFloat(c.get("vol_flow_m5"))/3600,k=x*p),{m_flow:k,v_flow_in:x}}function sl(){const c=document.getElementById("ai_eff_m5");c&&c.addEventListener("change",()=>{const p=c.value;p==="fan"&&(document.getElementById("eff_poly_m5").value=75),p==="centrifugal"&&(document.getElementById("eff_poly_m5").value=80),p==="multi_stage"&&(document.getElementById("eff_poly_m5").value=84)})}async function ll(c){c&&(He.textContent="...",He.disabled=!0,setTimeout(()=>{try{const p=new FormData(Tt),f=p.get("fluid_m5"),k=parseFloat(p.get("p_in_m5")),x=parseFloat(p.get("T_in_m5")),w=parseFloat(p.get("delta_T_m5")),F=parseFloat(p.get("eff_poly_m5"))/100,$=parseFloat(p.get("T_water_in_m5")),I=k*1e5,M=x+273.15,D=c.PropsSI("T","P",I,"Q",1,f)+w,L=c.PropsSI("P","T",D,"Q",1,f),j=c.PropsSI("H","P",I,"T",M,f),ie=c.PropsSI("D","P",I,"T",M,f),Y=c.PropsSI("S","P",I,"T",M,f),{m_flow:ee,v_flow_in:te}=al(p,ie),X=(c.PropsSI("H","P",L,"S",Y,f)-j)/F,S=j+X,J=X*ee/1e3,V=c.PropsSI("H","P",I,"Q",1,f),re=c.PropsSI("H","P",I,"Q",0,f),m=V-re,ue=ee*m/1e3/J,z=c.PropsSI("H","P",L,"Q",1,f),Q=c.PropsSI("H","T",$+273.15,"P",L,"Water");let fe=0,me=c.PropsSI("T","P",L,"H",S,f)-273.15;S>z&&(fe=ee*(S-z)/(z-Q),me=D-273.15),rr={date:new Date().toLocaleDateString(),fluid:f,p_in:k,t_in:x,m_flow:ee,v_flow_in:te,dt:w,eff_poly:F,p_out:L/1e5,power:J,m_water:fe,cop:ue,t_out:me},dr.innerHTML=_n(rr),He.textContent=" MVR",He.disabled=!1,cr.disabled=!1,cr.onclick=()=>{const ne=window.open("","_blank");ne.document.write(`<html><head><title>MVR Turbo Report</title></head><body style="margin:0; background:#fff;">${_n(rr)}</body></html>`),ne.document.close(),setTimeout(()=>ne.print(),200)}}catch(p){dr.textContent=p.message,He.textContent="",He.disabled=!1}},10))}function dl(c){He=document.getElementById("calc-button-5"),dr=document.getElementById("results-5"),Tt=document.getElementById("calc-form-5"),cr=document.getElementById("print-button-5"),tr=document.getElementById("fluid_m5"),Tt&&(sl(),Tt.addEventListener("submit",p=>{p.preventDefault(),ll(c)}),tr.addEventListener("change",()=>fr(tr,document.getElementById("fluid-info-m5"),c)))}document.addEventListener("DOMContentLoaded",()=>{const c=[{btn:document.getElementById("tab-btn-1"),content:document.getElementById("tab-content-1")},{btn:document.getElementById("tab-btn-2"),content:document.getElementById("tab-content-2")},{btn:document.getElementById("tab-btn-3"),content:document.getElementById("tab-content-3")},{btn:document.getElementById("tab-btn-4"),content:document.getElementById("tab-content-4")},{btn:document.getElementById("tab-btn-5"),content:document.getElementById("tab-content-5")}];c.forEach(w=>{w.btn&&w.content&&w.btn.addEventListener("click",()=>{c.forEach(F=>{F.btn&&F.content&&(F.btn.classList.remove("active"),F.content.style.display="none",F.content.classList.remove("active"))}),w.btn.classList.add("active"),w.content.style.display="block",w.content.classList.add("active")})});function p(w){const F=document.querySelectorAll(`input[name="flow_mode_${w}"]`);if(!F.length)return;const $=document.getElementById(`flow-inputs-rpm-${w}`),I=document.getElementById(`flow-inputs-mass-${w}`),M=document.getElementById(`flow-inputs-vol-${w}`),O=()=>{const D=document.querySelector(`input[name="flow_mode_${w}"]:checked`);if(!D)return;const L=D.value;$&&($.style.display=L==="rpm"?"grid":"none",f($,L==="rpm")),I&&(I.style.display=L==="mass"?"block":"none",f(I,L==="mass")),M&&(M.style.display=L==="vol"?"block":"none",f(M,L==="vol"))};F.forEach(D=>D.addEventListener("change",O)),O()}function f(w,F){w.querySelectorAll("input").forEach(I=>{I.required=F,I.disabled=!F})}["m1","m2","m3","m4","m5"].forEach(w=>{p(w)});function k(){const w=document.querySelectorAll('input[name="cooling_type_m3"]'),F=document.getElementById("jacket-inputs-m3"),$=document.getElementById("injection-inputs-m3");if(!w.length)return;const I=()=>{const M=document.querySelector('input[name="cooling_type_m3"]:checked');if(!M)return;const O=M.value;if(F){const D=O==="jacket";F.style.display=D?"block":"none",f(F,D)}if($){const D=O==="injection";$.style.display=D?"block":"none",f($,D)}};w.forEach(M=>M.addEventListener("change",I)),I()}k();function x(w,F){const $=document.getElementById(w),I=document.getElementById(F);if(!$||!I)return;const M=()=>{const O=$.checked;I.style.display=O?"block":"none",f(I,O)};$.addEventListener("change",M),M()}x("enable_cooler_calc_m2","cooler-inputs-m2"),x("enable_cooler_calc_m3","cooler-inputs-m3")});document.addEventListener("DOMContentLoaded",()=>{const c=[document.getElementById("calc-button-1"),document.getElementById("calc-button-2"),document.getElementById("calc-button-3"),document.getElementById("calc-button-4"),document.getElementById("calc-button-5")],p=[{select:document.getElementById("fluid_m1"),info:document.getElementById("fluid-info-m1")},{select:document.getElementById("fluid_m2"),info:document.getElementById("fluid-info-m2")},{select:document.getElementById("fluid_m4"),info:document.getElementById("fluid-info-m4")},{select:document.getElementById("fluid_m5"),info:document.getElementById("fluid-info-m5")}],f={"calc-button-1":" ()","calc-button-2":" ()","calc-button-3":" ()","calc-button-4":" (MVR )","calc-button-5":" (MVR )"};Ks().then(k=>{console.log("CoolProp loaded successfully."),Xs(k),tl(k),il(k),dl(k),c.forEach(x=>{x&&(x.textContent=f[x.id]||"",x.disabled=!1)}),p.forEach(x=>{x.select&&x.info&&fr(x.select,x.info,k)})}).catch(k=>{console.error("Failed to load CoolProp:",k);const x=`: ${k.message}`;c.forEach(w=>{w&&(w.textContent="",w.disabled=!0)}),p.forEach(w=>{w.info&&(w.info.textContent=x)})})});
