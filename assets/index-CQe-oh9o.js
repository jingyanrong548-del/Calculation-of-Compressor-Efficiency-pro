var rl=Object.defineProperty;var nl=(c,u,f)=>u in c?rl(c,u,{enumerable:!0,configurable:!0,writable:!0,value:f}):c[u]=f;var Ae=(c,u,f)=>nl(c,typeof u!="symbol"?u+"":u,f);import{g as ol,i as il}from"./echarts-DfyD2RhD.js";import{u as gr,w as al}from"./xlsx-DrgRuPKf.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))g(m);new MutationObserver(m=>{for(const E of m)if(E.type==="childList")for(const F of E.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&g(F)}).observe(document,{childList:!0,subtree:!0});function f(m){const E={};return m.integrity&&(E.integrity=m.integrity),m.referrerPolicy&&(E.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?E.credentials="include":m.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function g(m){if(m.ep)return;m.ep=!0;const E=f(m);fetch(m.href,E)}})();const sl="modulepreload",ll=function(c){return"/Calculation-of-Compressor-Efficiency-pro/"+c},Fn={},cl=function(u,f,g){let m=Promise.resolve();if(f&&f.length>0){document.getElementsByTagName("link");const F=document.querySelector("meta[property=csp-nonce]"),T=(F==null?void 0:F.nonce)||(F==null?void 0:F.getAttribute("nonce"));m=Promise.allSettled(f.map(I=>{if(I=ll(I),I in Fn)return;Fn[I]=!0;const A=I.endsWith(".css"),O=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${I}"]${O}`))return;const M=document.createElement("link");if(M.rel=A?"stylesheet":sl,A||(M.as="script"),M.crossOrigin="",M.href=I,T&&M.setAttribute("nonce",T),document.head.appendChild(M),A)return new Promise((R,L)=>{M.addEventListener("load",R),M.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${I}`)))})}))}function E(F){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=F,window.dispatchEvent(T),!T.defaultPrevented)throw F}return m.then(F=>{for(const T of F||[])T.status==="rejected"&&E(T.reason);return u().catch(E)})};async function dl(c={}){var En,xn,Sn;var u,f=c,g=typeof window=="object",m=typeof WorkerGlobalScope<"u",E=typeof process=="object"&&((En=process.versions)==null?void 0:En.node)&&process.type!="renderer",F=!g&&!E&&!m;if(E){const{createRequire:e}=await cl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);var T=e(import.meta.url)}var I="./this.program",A=import.meta.url,O="";function M(e){return f.locateFile?f.locateFile(e,O):O+e}var R,L;if(E){if(!(typeof process=="object"&&((xn=process.versions)==null?void 0:xn.node)&&process.type!="renderer"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var U=process.versions.node,N=U.split(".").slice(0,3);if(N=N[0]*1e4+N[1]*100+N[2].split("-")[0]*1,N<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+U+")");var j=T("fs");A.startsWith("file:")&&(O=T("path").dirname(T("url").fileURLToPath(A))+"/"),L=t=>{t=ee(t)?new URL(t):t;var r=j.readFileSync(t);return x(Buffer.isBuffer(r)),r},R=async(t,r=!0)=>{t=ee(t)?new URL(t):t;var n=j.readFileSync(t,r?void 0:"utf8");return x(r?Buffer.isBuffer(n):typeof n=="string"),n},process.argv.length>1&&(I=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2)}else if(F){if(typeof process=="object"&&((Sn=process.versions)==null?void 0:Sn.node)&&process.type!="renderer"||typeof window=="object"||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(g||m){try{O=new URL(".",A).href}catch{}if(!(typeof window=="object"||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");m&&(L=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),R=async e=>{if(ee(e))return new Promise((r,n)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){r(o.response);return}n(o.status)},o.onerror=n,o.send(null)});var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)}}else throw new Error("environment detection error");var X=console.log.bind(console),W=console.error.bind(console);x(!F,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var D;typeof WebAssembly!="object"&&W("no native wasm support detected");var H=!1;function x(e,t){e||fe("Assertion failed"+(t?": "+t:""))}var ee=e=>e.startsWith("file://");function se(){var e=ur();x((e&3)==0),e==0&&(e+=4),B[e>>2]=34821223,B[e+4>>2]=2310721022,B[0]=1668509029}function Y(){if(!H){var e=ur();e==0&&(e+=4);var t=B[e>>2],r=B[e+4>>2];(t!=34821223||r!=2310721022)&&fe(`Stack overflow! Stack cookie has been overwritten at ${Ze(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Ze(r)} ${Ze(t)}`),B[0]!=1668509029&&fe("Runtime error: The application has corrupted its heap memory area (address zero)!")}}class v extends Error{}class me extends v{constructor(t){super(t),this.excPtr=t;const r=ln(t);this.name=r[0],this.message=r[1]}}(()=>{var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,t[0]!==115||t[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();function pe(e){Object.getOwnPropertyDescriptor(f,e)||Object.defineProperty(f,e,{configurable:!0,set(){fe(`Attempt to set \`Module.${e}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function q(e){return()=>x(!1,`call to '${e}' via reference taken before Wasm module initialization`)}function ne(e){Object.getOwnPropertyDescriptor(f,e)&&fe(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function oe(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function le(e,t){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get(){t()}})}function ve(e,t){le(e,()=>{Oe(`\`${e}\` is not longer defined by emscripten. ${t}`)})}ve("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),ve("asm","Please use wasmExports instead");function Ee(e){le(e,()=>{var t=`\`${e}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,r=e;r.startsWith("_")||(r="$"+e),t+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${r}')`,oe(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Oe(t)}),ye(e)}function ye(e){Object.getOwnPropertyDescriptor(f,e)||Object.defineProperty(f,e,{configurable:!0,get(){var t=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;oe(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),fe(t)}})}var xe,ge,_e,G,ie,we,Re,K,B,Xe,xt,de,lt,Ne=!1;function St(){var e=_e.buffer;G=new Int8Array(e),we=new Int16Array(e),ie=new Uint8Array(e),Re=new Uint16Array(e),K=new Int32Array(e),B=new Uint32Array(e),Xe=new Float32Array(e),xt=new Float64Array(e),de=new BigInt64Array(e),lt=new BigUint64Array(e)}x(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support");function Yt(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Wn(f.preRun.shift());pe("preRun"),Rr(Mr)}function Ar(){x(!Ne),Ne=!0,Y(),!f.noFSInit&&!s.initialized&&s.init(),Ge.__wasm_call_ctors(),s.ignorePermissions=!1}function De(){if(Y(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)Un(f.postRun.shift());pe("postRun"),Rr(Dr)}var Se=0,Me=null,ze={},Pe=null;function Cr(e){var t;Se++,(t=f.monitorRunDependencies)==null||t.call(f,Se),e?(x(!ze[e]),ze[e]=1,Pe===null&&typeof setInterval<"u"&&(Pe=setInterval(()=>{if(H){clearInterval(Pe),Pe=null;return}var r=!1;for(var n in ze)r||(r=!0,W("still waiting on run dependencies:")),W(`dependency: ${n}`);r&&W("(end of list)")},1e4))):W("warning: run dependency added without ID")}function Jt(e){var r;if(Se--,(r=f.monitorRunDependencies)==null||r.call(f,Se),e?(x(ze[e]),delete ze[e]):W("warning: run dependency removed without ID"),Se==0&&(Pe!==null&&(clearInterval(Pe),Pe=null),Me)){var t=Me;Me=null,t()}}function fe(e){var r;(r=f.onAbort)==null||r.call(f,e),e="Aborted("+e+")",W(e),H=!0;var t=new WebAssembly.RuntimeError(e);throw ge==null||ge(t),t}function be(e,t){return(...r)=>{x(Ne,`native function \`${e}\` called before runtime initialization`);var n=Ge[e];return x(n,`exported native function \`${e}\` not found`),x(r.length<=t,`native function \`${e}\` called with ${r.length} args but expects ${t}`),n(...r)}}var ct;function Mn(){return f.locateFile?M("coolprop.wasm"):new URL("coolprop.wasm",import.meta.url).href}function On(e){if(e==ct&&D)return new Uint8Array(D);if(L)return L(e);throw"both async and sync fetching of the wasm failed"}async function Ln(e){if(!D)try{var t=await R(e);return new Uint8Array(t)}catch{}return On(e)}async function Bn(e,t){try{var r=await Ln(e),n=await WebAssembly.instantiate(r,t);return n}catch(o){W(`failed to asynchronously prepare wasm: ${o}`),ee(ct)&&W(`warning: Loading from a file URI (${ct}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),fe(o)}}async function Nn(e,t,r){if(!e&&!ee(t)&&!E)try{var n=fetch(t,{credentials:"same-origin"}),o=await WebAssembly.instantiateStreaming(n,r);return o}catch(i){W(`wasm streaming compile failed: ${i}`),W("falling back to ArrayBuffer instantiation")}return Bn(t,r)}function zn(){return{env:wn,wasi_snapshot_preview1:wn}}async function Hn(){function e(a,l){return Ge=a.exports,_e=Ge.memory,x(_e,"memory not found in wasm exports"),St(),Mt=Ge.__indirect_function_table,x(Mt,"table not found in wasm exports"),Yi(Ge),Jt("wasm-instantiate"),Ge}Cr("wasm-instantiate");var t=f;function r(a){return x(f===t,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),t=null,e(a.instance)}var n=zn();if(f.instantiateWasm)return new Promise((a,l)=>{try{f.instantiateWasm(n,(d,p)=>{a(e(d,p))})}catch(d){W(`Module.instantiateWasm callback failed with error: ${d}`),l(d)}});ct??(ct=Mn());var o=await Nn(D,ct,n),i=r(o);return i}var Rr=e=>{for(;e.length>0;)e.shift()(f)},Dr=[],Un=e=>Dr.push(e),Mr=[],Wn=e=>Mr.push(e),Ze=e=>(x(typeof e=="number"),e>>>=0,"0x"+e.toString(16).padStart(8,"0")),y=e=>mn(e),w=()=>gn(),Oe=e=>{Oe.shown||(Oe.shown={}),Oe.shown[e]||(Oe.shown[e]=1,E&&(e="warning: "+e),W(e))},Or=typeof TextDecoder<"u"?new TextDecoder:void 0,Lr=(e,t,r,n)=>{var o=t+r;if(n)return o;for(;e[t]&&!(t>=o);)++t;return t},et=(e,t=0,r,n)=>{var o=Lr(e,t,r,n);if(o-t>16&&e.buffer&&Or)return Or.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(!(a&128)){i+=String.fromCharCode(a);continue}var l=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|l);continue}var d=e[t++]&63;if((a&240)==224?a=(a&15)<<12|l<<6|d:((a&248)!=240&&Oe("Invalid UTF-8 leading byte "+Ze(a)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),a=(a&7)<<18|l<<12|d<<6|e[t++]&63),a<65536)i+=String.fromCharCode(a);else{var p=a-65536;i+=String.fromCharCode(55296|p>>10,56320|p&1023)}}return i},He=(e,t,r)=>(x(typeof e=="number",`UTF8ToString expects a number (got ${typeof e})`),e?et(ie,e,t,r):""),jn=(e,t,r,n)=>fe(`Assertion failed: ${He(e)}, at: `+[t?He(t):"unknown filename",r,n?He(n):"unknown function"]),dt=[],kt=0,Vn=e=>{var t=new Qt(e);return t.get_caught()||(t.set_caught(!0),kt--),t.set_rethrown(!1),dt.push(t),_r(e),fn(e)},ke=0,qn=()=>{h(0,0),x(dt.length>0);var e=dt.pop();pr(e.excPtr),ke=0};class Qt{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){B[this.ptr+4>>2]=t}get_type(){return B[this.ptr+4>>2]}set_destructor(t){B[this.ptr+8>>2]=t}get_destructor(){return B[this.ptr+8>>2]}set_caught(t){t=t?1:0,G[this.ptr+12]=t}get_caught(){return G[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,G[this.ptr+13]=t}get_rethrown(){return G[this.ptr+13]!=0}init(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)}set_adjusted_ptr(t){B[this.ptr+16>>2]=t}get_adjusted_ptr(){return B[this.ptr+16>>2]}}var Ft=e=>pn(e),Xt=e=>{var t=ke==null?void 0:ke.excPtr;if(!t)return Ft(0),0;var r=new Qt(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return Ft(0),t;for(var o of e){if(o===0||o===n)break;var i=r.ptr+16;if(yn(o,n,i))return Ft(o),t}return Ft(n),t},Gn=()=>Xt([]),Kn=e=>Xt([e]),Yn=(e,t)=>Xt([e,t]),Jn=()=>{var e=dt.pop();e||fe("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(dt.push(e),e.set_rethrown(!0),e.set_caught(!1),kt++),ke=new me(t),ke},Qn=(e,t,r)=>{var n=new Qt(e);throw n.init(t,r),ke=new me(e),kt++,ke},Xn=()=>kt,Zn=e=>{throw ke||(ke=new me(e)),ke},Tt=()=>{x(Z.varargs!=null);var e=K[+Z.varargs>>2];return Z.varargs+=4,e},tt=Tt,J={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=J.isAbs(e),r=e.slice(-1)==="/";return e=J.normalizeArray(e.split("/").filter(n=>!!n),!t).join("/"),!e&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=J.splitPath(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.slice(0,-1)),r+n)},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>J.normalize(e.join("/")),join2:(e,t)=>J.normalize(e+"/"+t)},eo=()=>{if(E){var e=T("crypto");return t=>e.randomFillSync(t)}return t=>crypto.getRandomValues(t)},Br=e=>{(Br=eo())(e)},rt={resolve:(...e)=>{for(var t="",r=!1,n=e.length-1;n>=-1&&!r;n--){var o=n>=0?e[n]:s.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";t=o+"/"+t,r=J.isAbs(o)}return t=J.normalizeArray(t.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+t||"."},relative:(e,t)=>{e=rt.resolve(e).slice(1),t=rt.resolve(t).slice(1);function r(p){for(var _=0;_<p.length&&p[_]==="";_++);for(var S=p.length-1;S>=0&&p[S]==="";S--);return _>S?[]:p.slice(_,S-_+1)}for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),a=i,l=0;l<i;l++)if(n[l]!==o[l]){a=l;break}for(var d=[],l=a;l<n.length;l++)d.push("..");return d=d.concat(o.slice(a)),d.join("/")}},Zt=[],ft=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Nr=(e,t,r,n)=>{if(x(typeof e=="string",`stringToUTF8Array expects a string (got ${typeof e})`),!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var l=e.codePointAt(a);if(l<=127){if(r>=i)break;t[r++]=l}else if(l<=2047){if(r+1>=i)break;t[r++]=192|l>>6,t[r++]=128|l&63}else if(l<=65535){if(r+2>=i)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|l&63}else{if(r+3>=i)break;l>1114111&&Oe("Invalid Unicode code point "+Ze(l)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|l&63,a++}}return t[r]=0,r-o},er=(e,t,r)=>{var n=ft(e)+1,o=new Array(n),i=Nr(e,o,0,o.length);return o.length=i,o},to=()=>{if(!Zt.length){var e=null;if(E){var t=256,r=Buffer.alloc(t),n=0,o=process.stdin.fd;try{n=j.readSync(o,r,0,t)}catch(i){if(i.toString().includes("EOF"))n=0;else throw i}n>0&&(e=r.slice(0,n).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`));if(!e)return null;Zt=er(e)}return Zt.shift()},Ue={ttys:[],init(){},shutdown(){},register(e,t){Ue.ttys[e]={input:[],output:[],ops:t},s.registerDevice(e,Ue.stream_ops)},stream_ops:{open(e){var t=Ue.ttys[e.node.rdev];if(!t)throw new s.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new s.ErrnoError(60);for(var i=0,a=0;a<n;a++){var l;try{l=e.tty.ops.get_char(e.tty)}catch{throw new s.ErrnoError(29)}if(l===void 0&&i===0)throw new s.ErrnoError(6);if(l==null)break;i++,t[r+a]=l}return i&&(e.node.atime=Date.now()),i},write(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new s.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,t[r+i])}catch{throw new s.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),i}},default_tty_ops:{get_char(e){return to()},put_char(e,t){t===null||t===10?(X(et(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){var t;((t=e.output)==null?void 0:t.length)>0&&(X(et(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,r){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(W(et(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){var t;((t=e.output)==null?void 0:t.length)>0&&(W(et(e.output)),e.output=[])}}},zr=e=>{fe("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},z={ops_table:null,mount(e){return z.createNode(null,"/",16895,0)},createNode(e,t,r,n){if(s.isBlkdev(r)||s.isFIFO(r))throw new s.ErrnoError(63);z.ops_table||(z.ops_table={dir:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr,lookup:z.node_ops.lookup,mknod:z.node_ops.mknod,rename:z.node_ops.rename,unlink:z.node_ops.unlink,rmdir:z.node_ops.rmdir,readdir:z.node_ops.readdir,symlink:z.node_ops.symlink},stream:{llseek:z.stream_ops.llseek}},file:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr},stream:{llseek:z.stream_ops.llseek,read:z.stream_ops.read,write:z.stream_ops.write,mmap:z.stream_ops.mmap,msync:z.stream_ops.msync}},link:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr,readlink:z.node_ops.readlink},stream:{}},chrdev:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr},stream:s.chrdev_stream_ops}});var o=s.createNode(e,t,r,n);return s.isDir(o.mode)?(o.node_ops=z.ops_table.dir.node,o.stream_ops=z.ops_table.dir.stream,o.contents={}):s.isFile(o.mode)?(o.node_ops=z.ops_table.file.node,o.stream_ops=z.ops_table.file.stream,o.usedBytes=0,o.contents=null):s.isLink(o.mode)?(o.node_ops=z.ops_table.link.node,o.stream_ops=z.ops_table.link.stream):s.isChrdev(o.mode)&&(o.node_ops=z.ops_table.chrdev.node,o.stream_ops=z.ops_table.chrdev.stream),o.atime=o.mtime=o.ctime=Date.now(),e&&(e.contents[t]=o,e.atime=e.mtime=e.ctime=o.atime),o},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){var n=1024*1024;t=Math.max(t,r*(r<n?2:1.125)>>>0),r!=0&&(t=Math.max(t,256));var o=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=s.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,s.isDir(e.mode)?t.size=4096:s.isFile(e.mode)?t.size=e.usedBytes:s.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const r of["mode","atime","mtime","ctime"])t[r]!=null&&(e[r]=t[r]);t.size!==void 0&&z.resizeFileStorage(e,t.size)},lookup(e,t){throw new s.ErrnoError(44)},mknod(e,t,r,n){return z.createNode(e,t,r,n)},rename(e,t,r){var n;try{n=s.lookupNode(t,r)}catch{}if(n){if(s.isDir(e.mode))for(var o in n.contents)throw new s.ErrnoError(55);s.hashRemoveNode(n)}delete e.parent.contents[e.name],t.contents[r]=e,e.name=r,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var r=s.lookupNode(e,t);for(var n in r.contents)throw new s.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir(e){return[".","..",...Object.keys(e.contents)]},symlink(e,t,r){var n=z.createNode(e,t,41471,0);return n.link=r,n},readlink(e){if(!s.isLink(e.mode))throw new s.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(x(a>=0),a>8&&i.subarray)t.set(i.subarray(o,o+a),r);else for(var l=0;l<a;l++)t[r+l]=i[o+l];return a},write(e,t,r,n,o,i){if(x(!(t instanceof ArrayBuffer)),t.buffer===G.buffer&&(i=!1),!n)return 0;var a=e.node;if(a.mtime=a.ctime=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return x(o===0,"canOwn must imply no weird position inside the file"),a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(a.usedBytes===0&&o===0)return a.contents=t.slice(r,r+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),o),n}if(z.expandFileStorage(a,o+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),o);else for(var l=0;l<n;l++)a.contents[o+l]=t[r+l];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek(e,t,r){var n=t;if(r===1?n+=e.position:r===2&&s.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new s.ErrnoError(28);return n},mmap(e,t,r,n,o){if(!s.isFile(e.node.mode))throw new s.ErrnoError(43);var i,a,l=e.node.contents;if(!(o&2)&&l&&l.buffer===G.buffer)a=!1,i=l.byteOffset;else{if(a=!0,i=zr(),!i)throw new s.ErrnoError(48);l&&((r>0||r+t<l.length)&&(l.subarray?l=l.subarray(r,r+t):l=Array.prototype.slice.call(l,r,r+t)),G.set(l,i))}return{ptr:i,allocated:a}},msync(e,t,r,n,o){return z.stream_ops.write(e,t,0,n,r,!1),0}}},ro=async e=>{var t=await R(e);return x(t,`Loading data file "${e}" failed (no arrayBuffer).`),new Uint8Array(t)},no=(...e)=>s.createDataFile(...e),oo=e=>{for(var t=e;;){if(!ze[e])return e;e=t+Math.random()}},Hr=[],io=(e,t,r,n)=>{typeof Browser<"u"&&Browser.init();var o=!1;return Hr.forEach(i=>{o||i.canHandle(t)&&(i.handle(e,t,r,n),o=!0)}),o},ao=(e,t,r,n,o,i,a,l,d,p)=>{var _=t?rt.resolve(J.join2(e,t)):e,S=oo(`cp ${_}`);function P(k){function $(C){p==null||p(),l||no(e,t,C,n,o,d),i==null||i(),Jt(S)}io(k,_,$,()=>{a==null||a(),Jt(S)})||$(k)}Cr(S),typeof r=="string"?ro(r).then(P,a):P(r)},so=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},r=t[e];if(typeof r>"u")throw new Error(`Unknown file open mode: ${e}`);return r},tr=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},lo=e=>He(un(e)),Ur={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},s={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class extends Error{constructor(t){super(Ne?lo(t):"");Ae(this,"name","ErrnoError");this.errno=t;for(var r in Ur)if(Ur[r]===t){this.code=r;break}}},FSStream:class{constructor(){Ae(this,"shared",{})}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,r,n){Ae(this,"node_ops",{});Ae(this,"stream_ops",{});Ae(this,"readMode",365);Ae(this,"writeMode",146);Ae(this,"mounted",null);e||(e=this),this.parent=e,this.mount=e.mount,this.id=s.nextInode++,this.name=t,this.mode=r,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return s.isDir(this.mode)}get isDevice(){return s.isChrdev(this.mode)}},lookupPath(e,t={}){if(!e)throw new s.ErrnoError(44);t.follow_mount??(t.follow_mount=!0),J.isAbs(e)||(e=s.cwd()+"/"+e);e:for(var r=0;r<40;r++){for(var n=e.split("/").filter(p=>!!p),o=s.root,i="/",a=0;a<n.length;a++){var l=a===n.length-1;if(l&&t.parent)break;if(n[a]!=="."){if(n[a]===".."){if(i=J.dirname(i),s.isRoot(o)){e=i+"/"+n.slice(a+1).join("/"),r--;continue e}else o=o.parent;continue}i=J.join2(i,n[a]);try{o=s.lookupNode(o,n[a])}catch(p){if((p==null?void 0:p.errno)===44&&l&&t.noent_okay)return{path:i};throw p}if(s.isMountpoint(o)&&(!l||t.follow_mount)&&(o=o.mounted.root),s.isLink(o.mode)&&(!l||t.follow)){if(!o.node_ops.readlink)throw new s.ErrnoError(52);var d=o.node_ops.readlink(o);J.isAbs(d)||(d=J.dirname(i)+"/"+d),e=d+"/"+n.slice(a+1).join("/");continue e}}}return{path:i,node:o}}throw new s.ErrnoError(32)},getPath(e){for(var t;;){if(s.isRoot(e)){var r=e.mount.mountpoint;return t?r[r.length-1]!=="/"?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%s.nameTable.length},hashAddNode(e){var t=s.hashName(e.parent.id,e.name);e.name_next=s.nameTable[t],s.nameTable[t]=e},hashRemoveNode(e){var t=s.hashName(e.parent.id,e.name);if(s.nameTable[t]===e)s.nameTable[t]=e.name_next;else for(var r=s.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=s.mayLookup(e);if(r)throw new s.ErrnoError(r);for(var n=s.hashName(e.id,t),o=s.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return s.lookup(e,t)},createNode(e,t,r,n){x(typeof e=="object");var o=new s.FSNode(e,t,r,n);return s.hashAddNode(o),o},destroyNode(e){s.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions(e,t){return s.ignorePermissions?0:t.includes("r")&&!(e.mode&292)||t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!s.isDir(e.mode))return 54;var t=s.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){if(!s.isDir(e.mode))return 54;try{var r=s.lookupNode(e,t);return 20}catch{}return s.nodePermissions(e,"wx")},mayDelete(e,t,r){var n;try{n=s.lookupNode(e,t)}catch(i){return i.errno}var o=s.nodePermissions(e,"wx");if(o)return o;if(r){if(!s.isDir(n.mode))return 54;if(s.isRoot(n)||s.getPath(n)===s.cwd())return 10}else if(s.isDir(n.mode))return 31;return 0},mayOpen(e,t){return e?s.isLink(e.mode)?32:s.isDir(e.mode)&&(s.flagsToPermissionString(t)!=="r"||t&576)?31:s.nodePermissions(e,s.flagsToPermissionString(t)):44},checkOpExists(e,t){if(!e)throw new s.ErrnoError(t);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=s.MAX_OPEN_FDS;e++)if(!s.streams[e])return e;throw new s.ErrnoError(33)},getStreamChecked(e){var t=s.getStream(e);if(!t)throw new s.ErrnoError(8);return t},getStream:e=>s.streams[e],createStream(e,t=-1){return x(t>=-1),e=Object.assign(new s.FSStream,e),t==-1&&(t=s.nextfd()),e.fd=t,s.streams[t]=e,e},closeStream(e){s.streams[e]=null},dupStream(e,t=-1){var n,o;var r=s.createStream(e,t);return(o=(n=r.stream_ops)==null?void 0:n.dup)==null||o.call(n,r),r},doSetAttr(e,t,r){var n=e==null?void 0:e.stream_ops.setattr,o=n?e:t;n??(n=t.node_ops.setattr),s.checkOpExists(n,63),n(o,r)},chrdev_stream_ops:{open(e){var r,n;var t=s.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,(n=(r=e.stream_ops).open)==null||n.call(r,e)},llseek(){throw new s.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){s.devices[e]={stream_ops:t}},getDevice:e=>s.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push(...n.mounts)}return t},syncfs(e,t){typeof e=="function"&&(t=e,e=!1),s.syncFSRequests++,s.syncFSRequests>1&&W(`warning: ${s.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=s.getMounts(s.root.mount),n=0;function o(a){return x(s.syncFSRequests>0),s.syncFSRequests--,t(a)}function i(a){if(a)return i.errored?void 0:(i.errored=!0,o(a));++n>=r.length&&o(null)}r.forEach(a=>{if(!a.type.syncfs)return i(null);a.type.syncfs(a,e,i)})},mount(e,t,r){if(typeof e=="string")throw e;var n=r==="/",o=!r,i;if(n&&s.root)throw new s.ErrnoError(10);if(!n&&!o){var a=s.lookupPath(r,{follow_mount:!1});if(r=a.path,i=a.node,s.isMountpoint(i))throw new s.ErrnoError(10);if(!s.isDir(i.mode))throw new s.ErrnoError(54)}var l={type:e,opts:t,mountpoint:r,mounts:[]},d=e.mount(l);return d.mount=l,l.root=d,n?s.root=d:i&&(i.mounted=l,i.mount&&i.mount.mounts.push(l)),d},unmount(e){var t=s.lookupPath(e,{follow_mount:!1});if(!s.isMountpoint(t.node))throw new s.ErrnoError(28);var r=t.node,n=r.mounted,o=s.getMounts(n);Object.keys(s.nameTable).forEach(a=>{for(var l=s.nameTable[a];l;){var d=l.name_next;o.includes(l.mount)&&s.destroyNode(l),l=d}}),r.mounted=null;var i=r.mount.mounts.indexOf(n);x(i!==-1),r.mount.mounts.splice(i,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,r){var n=s.lookupPath(e,{parent:!0}),o=n.node,i=J.basename(e);if(!i)throw new s.ErrnoError(28);if(i==="."||i==="..")throw new s.ErrnoError(20);var a=s.mayCreate(o,i);if(a)throw new s.ErrnoError(a);if(!o.node_ops.mknod)throw new s.ErrnoError(63);return o.node_ops.mknod(o,i,t,r)},statfs(e){return s.statfsNode(s.lookupPath(e,{follow:!0}).node)},statfsStream(e){return s.statfsNode(e.node)},statfsNode(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:s.nextInode,ffree:s.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(t,e.node_ops.statfs(e.mount.opts.root)),t},create(e,t=438){return t&=4095,t|=32768,s.mknod(e,t,0)},mkdir(e,t=511){return t&=1023,t|=16384,s.mknod(e,t,0)},mkdirTree(e,t){var r=e.split("/"),n="";for(var o of r)if(o){(n||J.isAbs(e))&&(n+="/"),n+=o;try{s.mkdir(n,t)}catch(i){if(i.errno!=20)throw i}}},mkdev(e,t,r){return typeof r>"u"&&(r=t,t=438),t|=8192,s.mknod(e,t,r)},symlink(e,t){if(!rt.resolve(e))throw new s.ErrnoError(44);var r=s.lookupPath(t,{parent:!0}),n=r.node;if(!n)throw new s.ErrnoError(44);var o=J.basename(t),i=s.mayCreate(n,o);if(i)throw new s.ErrnoError(i);if(!n.node_ops.symlink)throw new s.ErrnoError(63);return n.node_ops.symlink(n,o,e)},rename(e,t){var r=J.dirname(e),n=J.dirname(t),o=J.basename(e),i=J.basename(t),a,l,d;if(a=s.lookupPath(e,{parent:!0}),l=a.node,a=s.lookupPath(t,{parent:!0}),d=a.node,!l||!d)throw new s.ErrnoError(44);if(l.mount!==d.mount)throw new s.ErrnoError(75);var p=s.lookupNode(l,o),_=rt.relative(e,n);if(_.charAt(0)!==".")throw new s.ErrnoError(28);if(_=rt.relative(t,r),_.charAt(0)!==".")throw new s.ErrnoError(55);var S;try{S=s.lookupNode(d,i)}catch{}if(p!==S){var P=s.isDir(p.mode),k=s.mayDelete(l,o,P);if(k)throw new s.ErrnoError(k);if(k=S?s.mayDelete(d,i,P):s.mayCreate(d,i),k)throw new s.ErrnoError(k);if(!l.node_ops.rename)throw new s.ErrnoError(63);if(s.isMountpoint(p)||S&&s.isMountpoint(S))throw new s.ErrnoError(10);if(d!==l&&(k=s.nodePermissions(l,"w"),k))throw new s.ErrnoError(k);s.hashRemoveNode(p);try{l.node_ops.rename(p,d,i),p.parent=d}catch($){throw $}finally{s.hashAddNode(p)}}},rmdir(e){var t=s.lookupPath(e,{parent:!0}),r=t.node,n=J.basename(e),o=s.lookupNode(r,n),i=s.mayDelete(r,n,!0);if(i)throw new s.ErrnoError(i);if(!r.node_ops.rmdir)throw new s.ErrnoError(63);if(s.isMountpoint(o))throw new s.ErrnoError(10);r.node_ops.rmdir(r,n),s.destroyNode(o)},readdir(e){var t=s.lookupPath(e,{follow:!0}),r=t.node,n=s.checkOpExists(r.node_ops.readdir,54);return n(r)},unlink(e){var t=s.lookupPath(e,{parent:!0}),r=t.node;if(!r)throw new s.ErrnoError(44);var n=J.basename(e),o=s.lookupNode(r,n),i=s.mayDelete(r,n,!1);if(i)throw new s.ErrnoError(i);if(!r.node_ops.unlink)throw new s.ErrnoError(63);if(s.isMountpoint(o))throw new s.ErrnoError(10);r.node_ops.unlink(r,n),s.destroyNode(o)},readlink(e){var t=s.lookupPath(e),r=t.node;if(!r)throw new s.ErrnoError(44);if(!r.node_ops.readlink)throw new s.ErrnoError(28);return r.node_ops.readlink(r)},stat(e,t){var r=s.lookupPath(e,{follow:!t}),n=r.node,o=s.checkOpExists(n.node_ops.getattr,63);return o(n)},fstat(e){var t=s.getStreamChecked(e),r=t.node,n=t.stream_ops.getattr,o=n?t:r;return n??(n=r.node_ops.getattr),s.checkOpExists(n,63),n(o)},lstat(e){return s.stat(e,!0)},doChmod(e,t,r,n){s.doSetAttr(e,t,{mode:r&4095|t.mode&-4096,ctime:Date.now(),dontFollow:n})},chmod(e,t,r){var n;if(typeof e=="string"){var o=s.lookupPath(e,{follow:!r});n=o.node}else n=e;s.doChmod(null,n,t,r)},lchmod(e,t){s.chmod(e,t,!0)},fchmod(e,t){var r=s.getStreamChecked(e);s.doChmod(r,r.node,t,!1)},doChown(e,t,r){s.doSetAttr(e,t,{timestamp:Date.now(),dontFollow:r})},chown(e,t,r,n){var o;if(typeof e=="string"){var i=s.lookupPath(e,{follow:!n});o=i.node}else o=e;s.doChown(null,o,n)},lchown(e,t,r){s.chown(e,t,r,!0)},fchown(e,t,r){var n=s.getStreamChecked(e);s.doChown(n,n.node,!1)},doTruncate(e,t,r){if(s.isDir(t.mode))throw new s.ErrnoError(31);if(!s.isFile(t.mode))throw new s.ErrnoError(28);var n=s.nodePermissions(t,"w");if(n)throw new s.ErrnoError(n);s.doSetAttr(e,t,{size:r,timestamp:Date.now()})},truncate(e,t){if(t<0)throw new s.ErrnoError(28);var r;if(typeof e=="string"){var n=s.lookupPath(e,{follow:!0});r=n.node}else r=e;s.doTruncate(null,r,t)},ftruncate(e,t){var r=s.getStreamChecked(e);if(t<0||!(r.flags&2097155))throw new s.ErrnoError(28);s.doTruncate(r,r.node,t)},utime(e,t,r){var n=s.lookupPath(e,{follow:!0}),o=n.node,i=s.checkOpExists(o.node_ops.setattr,63);i(o,{atime:t,mtime:r})},open(e,t,r=438){if(e==="")throw new s.ErrnoError(44);t=typeof t=="string"?so(t):t,t&64?r=r&4095|32768:r=0;var n,o;if(typeof e=="object")n=e;else{o=e.endsWith("/");var i=s.lookupPath(e,{follow:!(t&131072),noent_okay:!0});n=i.node,e=i.path}var a=!1;if(t&64)if(n){if(t&128)throw new s.ErrnoError(20)}else{if(o)throw new s.ErrnoError(31);n=s.mknod(e,r|511,0),a=!0}if(!n)throw new s.ErrnoError(44);if(s.isChrdev(n.mode)&&(t&=-513),t&65536&&!s.isDir(n.mode))throw new s.ErrnoError(54);if(!a){var l=s.mayOpen(n,t);if(l)throw new s.ErrnoError(l)}t&512&&!a&&s.truncate(n,0),t&=-131713;var d=s.createStream({node:n,path:s.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return d.stream_ops.open&&d.stream_ops.open(d),a&&s.chmod(n,r&511),f.logReadFiles&&!(t&1)&&(e in s.readFiles||(s.readFiles[e]=1)),d},close(e){if(s.isClosed(e))throw new s.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{s.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,r){if(s.isClosed(e))throw new s.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new s.ErrnoError(70);if(r!=0&&r!=1&&r!=2)throw new s.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,n,o){if(x(r>=0),n<0||o<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if((e.flags&2097155)===1)throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.read)throw new s.ErrnoError(28);var i=typeof o<"u";if(!i)o=e.position;else if(!e.seekable)throw new s.ErrnoError(70);var a=e.stream_ops.read(e,t,r,n,o);return i||(e.position+=a),a},write(e,t,r,n,o,i){if(x(r>=0),n<0||o<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if(!(e.flags&2097155))throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.write)throw new s.ErrnoError(28);e.seekable&&e.flags&1024&&s.llseek(e,0,2);var a=typeof o<"u";if(!a)o=e.position;else if(!e.seekable)throw new s.ErrnoError(70);var l=e.stream_ops.write(e,t,r,n,o,i);return a||(e.position+=l),l},mmap(e,t,r,n,o){if(n&2&&!(o&2)&&(e.flags&2097155)!==2)throw new s.ErrnoError(2);if((e.flags&2097155)===1)throw new s.ErrnoError(2);if(!e.stream_ops.mmap)throw new s.ErrnoError(43);if(!t)throw new s.ErrnoError(28);return e.stream_ops.mmap(e,t,r,n,o)},msync(e,t,r,n,o){return x(r>=0),e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new s.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error(`Invalid encoding type "${t.encoding}"`);var r=s.open(e,t.flags),n=s.stat(e),o=n.size,i=new Uint8Array(o);return s.read(r,i,0,o,0),t.encoding==="utf8"&&(i=et(i)),s.close(r),i},writeFile(e,t,r={}){r.flags=r.flags||577;var n=s.open(e,r.flags,r.mode);if(typeof t=="string"&&(t=new Uint8Array(er(t))),ArrayBuffer.isView(t))s.write(n,t,0,t.byteLength,void 0,r.canOwn);else throw new Error("Unsupported data type");s.close(n)},cwd:()=>s.currentPath,chdir(e){var t=s.lookupPath(e,{follow:!0});if(t.node===null)throw new s.ErrnoError(44);if(!s.isDir(t.node.mode))throw new s.ErrnoError(54);var r=s.nodePermissions(t.node,"x");if(r)throw new s.ErrnoError(r);s.currentPath=t.path},createDefaultDirectories(){s.mkdir("/tmp"),s.mkdir("/home"),s.mkdir("/home/web_user")},createDefaultDevices(){s.mkdir("/dev"),s.registerDevice(s.makedev(1,3),{read:()=>0,write:(n,o,i,a,l)=>a,llseek:()=>0}),s.mkdev("/dev/null",s.makedev(1,3)),Ue.register(s.makedev(5,0),Ue.default_tty_ops),Ue.register(s.makedev(6,0),Ue.default_tty1_ops),s.mkdev("/dev/tty",s.makedev(5,0)),s.mkdev("/dev/tty1",s.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(Br(e),t=e.byteLength),e[--t]);s.createDevice("/dev","random",r),s.createDevice("/dev","urandom",r),s.mkdir("/dev/shm"),s.mkdir("/dev/shm/tmp")},createSpecialDirectories(){s.mkdir("/proc");var e=s.mkdir("/proc/self");s.mkdir("/proc/self/fd"),s.mount({mount(){var t=s.createNode(e,"fd",16895,73);return t.stream_ops={llseek:z.stream_ops.llseek},t.node_ops={lookup(r,n){var o=+n,i=s.getStreamChecked(o),a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path},id:o+1};return a.parent=a,a},readdir(){return Array.from(s.streams.entries()).filter(([r,n])=>n).map(([r,n])=>r.toString())}},t}},{},"/proc/self/fd")},createStandardStreams(e,t,r){e?s.createDevice("/dev","stdin",e):s.symlink("/dev/tty","/dev/stdin"),t?s.createDevice("/dev","stdout",null,t):s.symlink("/dev/tty","/dev/stdout"),r?s.createDevice("/dev","stderr",null,r):s.symlink("/dev/tty1","/dev/stderr");var n=s.open("/dev/stdin",0),o=s.open("/dev/stdout",1),i=s.open("/dev/stderr",1);x(n.fd===0,`invalid handle for stdin (${n.fd})`),x(o.fd===1,`invalid handle for stdout (${o.fd})`),x(i.fd===2,`invalid handle for stderr (${i.fd})`)},staticInit(){s.nameTable=new Array(4096),s.mount(z,{},"/"),s.createDefaultDirectories(),s.createDefaultDevices(),s.createSpecialDirectories(),s.filesystems={MEMFS:z}},init(e,t,r){x(!s.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),s.initialized=!0,e??(e=f.stdin),t??(t=f.stdout),r??(r=f.stderr),s.createStandardStreams(e,t,r)},quit(){s.initialized=!1,dn(0);for(var e of s.streams)e&&s.close(e)},findObject(e,t){var r=s.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{var r=s.lookupPath(e,{follow:!t});e=r.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=s.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=J.basename(e),r=s.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot=r.path==="/"}catch(o){n.error=o.errno}return n},createPath(e,t,r,n){e=typeof e=="string"?e:s.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=J.join2(e,i);try{s.mkdir(a)}catch(l){if(l.errno!=20)throw l}e=a}}return a},createFile(e,t,r,n,o){var i=J.join2(typeof e=="string"?e:s.getPath(e),t),a=tr(n,o);return s.create(i,a)},createDataFile(e,t,r,n,o,i){var a=t;e&&(e=typeof e=="string"?e:s.getPath(e),a=t?J.join2(e,t):e);var l=tr(n,o),d=s.create(a,l);if(r){if(typeof r=="string"){for(var p=new Array(r.length),_=0,S=r.length;_<S;++_)p[_]=r.charCodeAt(_);r=p}s.chmod(d,l|146);var P=s.open(d,577);s.write(P,r,0,r.length,0,i),s.close(P),s.chmod(d,l)}},createDevice(e,t,r,n){var l;var o=J.join2(typeof e=="string"?e:s.getPath(e),t),i=tr(!!r,!!n);(l=s.createDevice).major??(l.major=64);var a=s.makedev(s.createDevice.major++,0);return s.registerDevice(a,{open(d){d.seekable=!1},close(d){var p;(p=n==null?void 0:n.buffer)!=null&&p.length&&n(10)},read(d,p,_,S,P){for(var k=0,$=0;$<S;$++){var C;try{C=r()}catch{throw new s.ErrnoError(29)}if(C===void 0&&k===0)throw new s.ErrnoError(6);if(C==null)break;k++,p[_+$]=C}return k&&(d.node.atime=Date.now()),k},write(d,p,_,S,P){for(var k=0;k<S;k++)try{n(p[_+k])}catch{throw new s.ErrnoError(29)}return S&&(d.node.mtime=d.node.ctime=Date.now()),k}}),s.mkdev(o,i,a)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=L(e.url),e.usedBytes=e.contents.length}catch{throw new s.ErrnoError(29)}},createLazyFile(e,t,r,n,o){class i{constructor(){Ae(this,"lengthKnown",!1);Ae(this,"chunks",[])}get(k){if(!(k>this.length-1||k<0)){var $=k%this.chunkSize,C=k/this.chunkSize|0;return this.getter(C)[$]}}setDataGetter(k){this.getter=k}cacheLength(){var k=new XMLHttpRequest;if(k.open("HEAD",r,!1),k.send(null),!(k.status>=200&&k.status<300||k.status===304))throw new Error("Couldn't load "+r+". Status: "+k.status);var $=Number(k.getResponseHeader("Content-length")),C,te=(C=k.getResponseHeader("Accept-Ranges"))&&C==="bytes",Q=(C=k.getResponseHeader("Content-Encoding"))&&C==="gzip",ae=1024*1024;te||(ae=$);var re=(he,Be)=>{if(he>Be)throw new Error("invalid range ("+he+", "+Be+") or no bytes requested!");if(Be>$-1)throw new Error("only "+$+" bytes available! programmer error!");var ce=new XMLHttpRequest;if(ce.open("GET",r,!1),$!==ae&&ce.setRequestHeader("Range","bytes="+he+"-"+Be),ce.responseType="arraybuffer",ce.overrideMimeType&&ce.overrideMimeType("text/plain; charset=x-user-defined"),ce.send(null),!(ce.status>=200&&ce.status<300||ce.status===304))throw new Error("Couldn't load "+r+". Status: "+ce.status);return ce.response!==void 0?new Uint8Array(ce.response||[]):er(ce.responseText||"")},Ie=this;Ie.setDataGetter(he=>{var Be=he*ae,ce=(he+1)*ae-1;if(ce=Math.min(ce,$-1),typeof Ie.chunks[he]>"u"&&(Ie.chunks[he]=re(Be,ce)),typeof Ie.chunks[he]>"u")throw new Error("doXHR failed!");return Ie.chunks[he]}),(Q||!$)&&(ae=$=1,$=this.getter(0).length,ae=$,X("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=$,this._chunkSize=ae,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!m)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i,l={isDevice:!1,contents:a}}else var l={isDevice:!1,url:r};var d=s.createFile(e,t,l,n,o);l.contents?d.contents=l.contents:l.url&&(d.contents=null,d.url=l.url),Object.defineProperties(d,{usedBytes:{get:function(){return this.contents.length}}});var p={},_=Object.keys(d.stream_ops);_.forEach(P=>{var k=d.stream_ops[P];p[P]=(...$)=>(s.forceLoadFile(d),k(...$))});function S(P,k,$,C,te){var Q=P.node.contents;if(te>=Q.length)return 0;var ae=Math.min(Q.length-te,C);if(x(ae>=0),Q.slice)for(var re=0;re<ae;re++)k[$+re]=Q[te+re];else for(var re=0;re<ae;re++)k[$+re]=Q.get(te+re);return ae}return p.read=(P,k,$,C,te)=>(s.forceLoadFile(d),S(P,k,$,C,te)),p.mmap=(P,k,$,C,te)=>{s.forceLoadFile(d);var Q=zr();if(!Q)throw new s.ErrnoError(48);return S(P,G,Q,k,$),{ptr:Q,allocated:!0}},d.stream_ops=p,d},absolutePath(){fe("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){fe("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){fe("FS.createLink has been removed; use FS.symlink instead")},joinPath(){fe("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){fe("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){fe("FS.standardizePath has been removed; use PATH.normalize instead")}},Z={DEFAULT_POLLMASK:5,calculateAt(e,t,r){if(J.isAbs(t))return t;var n;if(e===-100)n=s.cwd();else{var o=Z.getStreamFromFD(e);n=o.path}if(t.length==0){if(!r)throw new s.ErrnoError(44);return n}return n+"/"+t},writeStat(e,t){K[e>>2]=t.dev,K[e+4>>2]=t.mode,B[e+8>>2]=t.nlink,K[e+12>>2]=t.uid,K[e+16>>2]=t.gid,K[e+20>>2]=t.rdev,de[e+24>>3]=BigInt(t.size),K[e+32>>2]=4096,K[e+36>>2]=t.blocks;var r=t.atime.getTime(),n=t.mtime.getTime(),o=t.ctime.getTime();return de[e+40>>3]=BigInt(Math.floor(r/1e3)),B[e+48>>2]=r%1e3*1e3*1e3,de[e+56>>3]=BigInt(Math.floor(n/1e3)),B[e+64>>2]=n%1e3*1e3*1e3,de[e+72>>3]=BigInt(Math.floor(o/1e3)),B[e+80>>2]=o%1e3*1e3*1e3,de[e+88>>3]=BigInt(t.ino),0},writeStatFs(e,t){K[e+4>>2]=t.bsize,K[e+60>>2]=t.bsize,de[e+8>>3]=BigInt(t.blocks),de[e+16>>3]=BigInt(t.bfree),de[e+24>>3]=BigInt(t.bavail),de[e+32>>3]=BigInt(t.files),de[e+40>>3]=BigInt(t.ffree),K[e+48>>2]=t.fsid,K[e+64>>2]=t.flags,K[e+56>>2]=t.namelen},doMsync(e,t,r,n,o){if(!s.isFile(t.node.mode))throw new s.ErrnoError(43);if(n&2)return 0;var i=ie.slice(e,e+r);s.msync(t,i,o,r,n)},getStreamFromFD(e){var t=s.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=He(e);return t}};function co(e,t,r){Z.varargs=r;try{var n=Z.getStreamFromFD(e);switch(t){case 0:{var o=Tt();if(o<0)return-28;for(;s.streams[o];)o++;var i;return i=s.dupStream(n,o),i.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var o=Tt();return n.flags|=o,0}case 12:{var o=tt(),a=0;return we[o+a>>1]=2,0}case 13:case 14:return 0}return-28}catch(l){if(typeof s>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function fo(e,t){try{return Z.writeStat(t,s.fstat(e))}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var We=(e,t,r)=>(x(typeof r=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Nr(e,ie,t,r));function uo(e,t,r){try{var n=Z.getStreamFromFD(e);n.getdents||(n.getdents=s.readdir(n.path));for(var o=280,i=0,a=s.llseek(n,0,1),l=Math.floor(a/o),d=Math.min(n.getdents.length,l+Math.floor(r/o)),p=l;p<d;p++){var _,S,P=n.getdents[p];if(P===".")_=n.node.id,S=4;else if(P===".."){var k=s.lookupPath(n.path,{parent:!0});_=k.node.id,S=4}else{var $;try{$=s.lookupNode(n.node,P)}catch(C){if((C==null?void 0:C.errno)===28)continue;throw C}_=$.id,S=s.isChrdev($.mode)?2:s.isDir($.mode)?4:s.isLink($.mode)?10:8}x(_),de[t+i>>3]=BigInt(_),de[t+i+8>>3]=BigInt((p+1)*o),we[t+i+16>>1]=280,G[t+i+18]=S,We(P,t+i+19,256),i+=o}return s.llseek(n,p*o,0),i}catch(C){if(typeof s>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function po(e,t,r){Z.varargs=r;try{var n=Z.getStreamFromFD(e);switch(t){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var o=n.tty.ops.ioctl_tcgets(n),i=tt();K[i>>2]=o.c_iflag||0,K[i+4>>2]=o.c_oflag||0,K[i+8>>2]=o.c_cflag||0,K[i+12>>2]=o.c_lflag||0;for(var a=0;a<32;a++)G[i+a+17]=o.c_cc[a]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var i=tt(),l=K[i>>2],d=K[i+4>>2],p=K[i+8>>2],_=K[i+12>>2],S=[],a=0;a<32;a++)S.push(G[i+a+17]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:l,c_oflag:d,c_cflag:p,c_lflag:_,c_cc:S})}return 0}case 21519:{if(!n.tty)return-59;var i=tt();return K[i>>2]=0,0}case 21520:return n.tty?-28:-59;case 21537:case 21531:{var i=tt();return s.ioctl(n,t,i)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var P=n.tty.ops.ioctl_tiocgwinsz(n.tty),i=tt();we[i>>1]=P[0],we[i+2>>1]=P[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(k){if(typeof s>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function _o(e,t){try{return e=Z.getStr(e),Z.writeStat(t,s.lstat(e))}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function mo(e,t,r){try{return t=Z.getStr(t),t=Z.calculateAt(e,t),s.mkdir(t,r,0),0}catch(n){if(typeof s>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function vo(e,t,r,n){try{t=Z.getStr(t);var o=n&256,i=n&4096;return n=n&-6401,x(!n,`unknown flags in __syscall_newfstatat: ${n}`),t=Z.calculateAt(e,t,i),Z.writeStat(r,o?s.lstat(t):s.stat(t))}catch(a){if(typeof s>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function go(e,t,r,n){Z.varargs=n;try{t=Z.getStr(t),t=Z.calculateAt(e,t);var o=n?Tt():0;return s.open(t,r,o).fd}catch(i){if(typeof s>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function ho(e,t){try{return e=Z.getStr(e),Z.writeStat(t,s.stat(e))}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var yo=()=>fe("native code called abort()"),Pt={},rr=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function ut(e){return this.fromWireType(B[e>>2])}var nt={},je={},$t={},wo=class extends Error{constructor(t){super(t),this.name="InternalError"}},It=e=>{throw new wo(e)},Ve=(e,t,r)=>{e.forEach(l=>$t[l]=t);function n(l){var d=r(l);d.length!==e.length&&It("Mismatched type converter count");for(var p=0;p<e.length;++p)Fe(e[p],d[p])}var o=new Array(t.length),i=[],a=0;t.forEach((l,d)=>{je.hasOwnProperty(l)?o[d]=je[l]:(i.push(l),nt.hasOwnProperty(l)||(nt[l]=[]),nt[l].push(()=>{o[d]=je[l],++a,a===i.length&&n(o)}))}),i.length===0&&n(o)},bo=e=>{var t=Pt[e];delete Pt[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields,i=o.map(a=>a.getterReturnType).concat(o.map(a=>a.setterArgumentType));Ve([e],i,a=>{var l={};return o.forEach((d,p)=>{var _=d.fieldName,S=a[p],P=a[p].optional,k=d.getter,$=d.getterContext,C=a[p+o.length],te=d.setter,Q=d.setterContext;l[_]={read:ae=>S.fromWireType(k($,ae)),write:(ae,re)=>{var Ie=[];te(Q,ae,C.toWireType(Ie,re)),rr(Ie)},optional:P}}),[{name:t.name,fromWireType:d=>{var p={};for(var _ in l)p[_]=l[_].read(d);return n(d),p},toWireType:(d,p)=>{for(var _ in l)if(!(_ in p)&&!l[_].optional)throw new TypeError(`Missing field: "${_}"`);var S=r();for(_ in l)l[_].write(S,p[_]);return d!==null&&d.push(n,S),S},readValueFromPointer:ut,destructorFunction:n}]})},ue=e=>{for(var t="";;){var r=ie[e++];if(!r)return t;t+=String.fromCharCode(r)}},pt=class extends Error{constructor(t){super(t),this.name="BindingError"}},V=e=>{throw new pt(e)};function Eo(e,t,r={}){var n=t.name;if(e||V(`type "${n}" must have a positive integer typeid pointer`),je.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;V(`Cannot register type '${n}' twice`)}if(je[e]=t,delete $t[e],nt.hasOwnProperty(e)){var o=nt[e];delete nt[e],o.forEach(i=>i())}}function Fe(e,t,r={}){return Eo(e,t,r)}var Wr=(e,t,r)=>{switch(t){case 1:return r?n=>G[n]:n=>ie[n];case 2:return r?n=>we[n>>1]:n=>Re[n>>1];case 4:return r?n=>K[n>>2]:n=>B[n>>2];case 8:return r?n=>de[n>>3]:n=>lt[n>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},qe=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},jr=(e,t,r,n)=>{if(t<r||t>n)throw new TypeError(`Passing a number "${qe(t)}" from JS side to C/C++ side to an argument of type "${e}", which is outside the valid range [${r}, ${n}]!`)},xo=(e,t,r,n,o)=>{t=ue(t);const i=n===0n;let a=l=>l;if(i){const l=r*8;a=d=>BigInt.asUintN(l,d),o=a(o)}Fe(e,{name:t,fromWireType:a,toWireType:(l,d)=>{if(typeof d=="number")d=BigInt(d);else if(typeof d!="bigint")throw new TypeError(`Cannot convert "${qe(d)}" to ${this.name}`);return jr(t,d,n,o),d},readValueFromPointer:Wr(t,r,!i),destructorFunction:null})},So=(e,t,r,n)=>{t=ue(t),Fe(e,{name:t,fromWireType:function(o){return!!o},toWireType:function(o,i){return i?r:n},readValueFromPointer:function(o){return this.fromWireType(ie[o])},destructorFunction:null})},ko=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),nr=e=>{function t(r){return r.$$.ptrType.registeredClass.name}V(t(e)+" instance already deleted")},or=!1,Vr=e=>{},Fo=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},qr=e=>{e.count.value-=1;var t=e.count.value===0;t&&Fo(e)},Gr=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var n=Gr(e,t,r.baseClass);return n===null?null:r.downcast(n)},Kr={},To={},Po=(e,t)=>{for(t===void 0&&V("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},$o=(e,t)=>(t=Po(e,t),To[t]),At=(e,t)=>{(!t.ptrType||!t.ptr)&&It("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&It("Both smartPtrType and smartPtr must be specified"),t.count={value:1},_t(Object.create(e,{$$:{value:t,writable:!0}}))};function Yr(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=$o(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?At(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):At(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i=this.registeredClass.getActualType(t),a=Kr[i];if(!a)return o.call(this);var l;this.isConst?l=a.constPointerType:l=a.pointerType;var d=Gr(t,this.registeredClass,l.registeredClass);return d===null?o.call(this):this.isSmartPointer?At(l.registeredClass.instancePrototype,{ptrType:l,ptr:d,smartPtrType:this,smartPtr:e}):At(l.registeredClass.instancePrototype,{ptrType:l,ptr:d})}var _t=e=>typeof FinalizationRegistry>"u"?(_t=t=>t,e):(or=new FinalizationRegistry(t=>{console.warn(t.leakWarning),qr(t.$$)}),_t=t=>{var r=t.$$,n=!!r.smartPtr;if(n){var o={$$:r},i=r.ptrType.registeredClass,a=new Error(`Embind found a leaked C++ instance ${i.name} <${Ze(r.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`);"captureStackTrace"in Error&&Error.captureStackTrace(a,Yr),o.leakWarning=a.stack.replace(/^Error: /,""),or.register(t,o,t)}return t},Vr=t=>or.unregister(t),_t(e)),Io=()=>{let e=Ct.prototype;Object.assign(e,{isAliasOf(r){if(!(this instanceof Ct)||!(r instanceof Ct))return!1;var n=this.$$.ptrType.registeredClass,o=this.$$.ptr;r.$$=r.$$;for(var i=r.$$.ptrType.registeredClass,a=r.$$.ptr;n.baseClass;)o=n.upcast(o),n=n.baseClass;for(;i.baseClass;)a=i.upcast(a),i=i.baseClass;return n===i&&o===a},clone(){if(this.$$.ptr||nr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var r=_t(Object.create(Object.getPrototypeOf(this),{$$:{value:ko(this.$$)}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r},delete(){this.$$.ptr||nr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&V("Object already scheduled for deletion"),Vr(this),qr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||nr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&V("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const t=Symbol.dispose;t&&(e[t]=e.delete)};function Ct(){}var Rt=(e,t)=>Object.defineProperty(t,"name",{value:e}),Jr=(e,t,r)=>{if(e[t].overloadTable===void 0){var n=e[t];e[t]=function(...o){return e[t].overloadTable.hasOwnProperty(o.length)||V(`Function '${r}' called with an invalid number of arguments (${o.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[o.length].apply(this,o)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},ir=(e,t,r)=>{f.hasOwnProperty(e)?((r===void 0||f[e].overloadTable!==void 0&&f[e].overloadTable[r]!==void 0)&&V(`Cannot register public name '${e}' twice`),Jr(f,e,e),f[e].overloadTable.hasOwnProperty(r)&&V(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),f[e].overloadTable[r]=t):(f[e]=t,f[e].argCount=r)},Ao=48,Co=57,Ro=e=>{x(typeof e=="string"),e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Ao&&t<=Co?`_${e}`:e};function Do(e,t,r,n,o,i,a,l){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=l,this.pureVirtualFunctions=[]}var ar=(e,t,r)=>{for(;t!==r;)t.upcast||V(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Mo(e,t){if(t===null)return this.isReference&&V(`null is not a valid ${this.name}`),0;t.$$||V(`Cannot pass "${qe(t)}" as a ${this.name}`),t.$$.ptr||V(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=ar(t.$$.ptr,r,this.registeredClass);return n}function Oo(e,t){var r;if(t===null)return this.isReference&&V(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&V(`Cannot pass "${qe(t)}" as a ${this.name}`),t.$$.ptr||V(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&V(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=ar(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&V("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:V(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,ot.toHandle(()=>o.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:V("Unsupporting sharing policy")}return r}function Lo(e,t){if(t===null)return this.isReference&&V(`null is not a valid ${this.name}`),0;t.$$||V(`Cannot pass "${qe(t)}" as a ${this.name}`),t.$$.ptr||V(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&V(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=ar(t.$$.ptr,r,this.registeredClass);return n}var Bo=()=>{Object.assign(Dt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;(t=this.rawDestructor)==null||t.call(this,e)},readValueFromPointer:ut,fromWireType:Yr})};function Dt(e,t,r,n,o,i,a,l,d,p,_){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=l,this.rawConstructor=d,this.rawShare=p,this.rawDestructor=_,!o&&t.baseClass===void 0?n?(this.toWireType=Mo,this.destructorFunction=null):(this.toWireType=Lo,this.destructorFunction=null):this.toWireType=Oo}var Qr=(e,t,r)=>{f.hasOwnProperty(e)||It("Replacing nonexistent public symbol"),f[e].overloadTable!==void 0&&r!==void 0?f[e].overloadTable[r]=t:(f[e]=t,f[e].argCount=r)},Xr=[],Mt,b=e=>{var t=Xr[e];return t||(Xr[e]=t=Mt.get(e)),x(Mt.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t},Te=(e,t,r=!1)=>{x(!r,"Async bindings are only supported with JSPI."),e=ue(e);function n(){var i=b(t);return i}var o=n();return typeof o!="function"&&V(`unknown function pointer with signature ${e}: ${t}`),o};class No extends Error{}var Zr=e=>{var t=cn(e),r=ue(t);return $e(t),r},Ot=(e,t)=>{var r=[],n={};function o(i){if(!n[i]&&!je[i]){if($t[i]){$t[i].forEach(o);return}r.push(i),n[i]=!0}}throw t.forEach(o),new No(`${e}: `+r.map(Zr).join([", "]))},zo=(e,t,r,n,o,i,a,l,d,p,_,S,P)=>{_=ue(_),i=Te(o,i),l&&(l=Te(a,l)),p&&(p=Te(d,p)),P=Te(S,P);var k=Ro(_);ir(k,function(){Ot(`Cannot construct ${_} due to unbound types`,[n])}),Ve([e,t,r],n?[n]:[],$=>{var ce;$=$[0];var C,te;n?(C=$.registeredClass,te=C.instancePrototype):te=Ct.prototype;var Q=Rt(_,function(...vr){if(Object.getPrototypeOf(this)!==ae)throw new pt(`Use 'new' to construct ${_}`);if(re.constructor_body===void 0)throw new pt(`${_} has no accessible constructor`);var kn=re.constructor_body[vr.length];if(kn===void 0)throw new pt(`Tried to invoke ctor of ${_} with invalid number of parameters (${vr.length}) - expected (${Object.keys(re.constructor_body).toString()}) parameters instead!`);return kn.apply(this,vr)}),ae=Object.create(te,{constructor:{value:Q}});Q.prototype=ae;var re=new Do(_,Q,ae,P,C,i,l,p);re.baseClass&&((ce=re.baseClass).__derivedClasses??(ce.__derivedClasses=[]),re.baseClass.__derivedClasses.push(re));var Ie=new Dt(_,re,!0,!1,!1),he=new Dt(_+"*",re,!1,!1,!1),Be=new Dt(_+" const*",re,!1,!0,!1);return Kr[e]={pointerType:he,constPointerType:Be},Qr(k,Q),[Ie,he,Be]})},sr=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(B[t+n*4>>2]);return r};function en(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Ho(e,t,r,n,o){if(e<t||e>r){var i=t==r?t:`${t} to ${r}`;o(`function ${n} called with ${e} arguments, expected ${i}`)}}function Uo(e,t,r,n){var o=en(e),i=e.length-2,a=[],l=["fn"];t&&l.push("thisWired");for(var d=0;d<i;++d)a.push(`arg${d}`),l.push(`arg${d}Wired`);a=a.join(","),l=l.join(",");var p=`return function (${a}) {
`;p+=`checkArgCount(arguments.length, minArgs, maxArgs, humanName, throwBindingError);
`,o&&(p+=`var destructors = [];
`);var _=o?"destructors":"null",S=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];t&&(p+=`var thisWired = toClassParamWire(${_}, this);
`);for(var d=0;d<i;++d){var P=`toArg${d}Wire`;p+=`var arg${d}Wired = ${P}(${_}, arg${d});
`,S.push(P)}if(p+=(r||n?"var rv = ":"")+`invoker(${l});
`,o)p+=`runDestructors(destructors);
`;else for(var d=t?1:2;d<e.length;++d){var k=d===1?"thisWired":"arg"+(d-2)+"Wired";e[d].destructorFunction!==null&&(p+=`${k}_dtor(${k});
`,S.push(`${k}_dtor`))}return r&&(p+=`var ret = fromRetWire(rv);
return ret;
`),p+=`}
`,S.push("checkArgCount","minArgs","maxArgs"),p=`if (arguments.length !== ${S.length}){ throw new Error(humanName + "Expected ${S.length} closure arguments " + arguments.length + " given."); }
${p}`,new Function(S,p)}function Wo(e){for(var t=e.length-2,r=e.length-1;r>=2&&e[r].optional;--r)t--;return t}function lr(e,t,r,n,o,i){var a=t.length;a<2&&V("argTypes array size mismatch! Must at least get return value and 'this' types!"),x(!i,"Async bindings are only supported with JSPI.");for(var l=t[1]!==null&&r!==null,d=en(t),p=!t[0].isVoid,_=a-2,S=Wo(t),P=t[0],k=t[1],$=[e,V,n,o,rr,P.fromWireType.bind(P),k==null?void 0:k.toWireType.bind(k)],C=2;C<a;++C){var te=t[C];$.push(te.toWireType.bind(te))}if(!d)for(var C=l?1:2;C<t.length;++C)t[C].destructorFunction!==null&&$.push(t[C].destructorFunction);$.push(Ho,S,_);var ae=Uo(t,l,p,i)(...$);return Rt(e,ae)}var jo=(e,t,r,n,o,i)=>{x(t>0);var a=sr(t,r);o=Te(n,o),Ve([],[e],l=>{l=l[0];var d=`constructor ${l.name}`;if(l.registeredClass.constructor_body===void 0&&(l.registeredClass.constructor_body=[]),l.registeredClass.constructor_body[t-1]!==void 0)throw new pt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${l.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return l.registeredClass.constructor_body[t-1]=()=>{Ot(`Cannot construct ${l.name} due to unbound types`,a)},Ve([],a,p=>(p.splice(1,0,null),l.registeredClass.constructor_body[t-1]=lr(d,p,null,o,i),[])),[]})},tn=e=>{e=e.trim();const t=e.indexOf("(");return t===-1?e:(x(e.endsWith(")"),"Parentheses for argument names should match."),e.slice(0,t))},Vo=(e,t,r,n,o,i,a,l,d,p)=>{var _=sr(r,n);t=ue(t),t=tn(t),i=Te(o,i,d),Ve([],[e],S=>{S=S[0];var P=`${S.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),l&&S.registeredClass.pureVirtualFunctions.push(t);function k(){Ot(`Cannot call ${P} due to unbound types`,_)}var $=S.registeredClass.instancePrototype,C=$[t];return C===void 0||C.overloadTable===void 0&&C.className!==S.name&&C.argCount===r-2?(k.argCount=r-2,k.className=S.name,$[t]=k):(Jr($,t,P),$[t].overloadTable[r-2]=k),Ve([],_,te=>{var Q=lr(P,te,S,i,a,d);return $[t].overloadTable===void 0?(Q.argCount=r-2,$[t]=Q):$[t].overloadTable[r-2]=Q,[]}),[]})},rn=[],Le=[0,1,,1,null,1,!0,1,!1,1],nn=e=>{e>9&&--Le[e+1]===0&&(x(Le[e]!==void 0,"Decref for unallocated handle."),Le[e]=void 0,rn.push(e))},ot={toValue:e=>(e||V(`Cannot use deleted val. handle = ${e}`),x(e===2||Le[e]!==void 0&&e%2===0,`invalid handle: ${e}`),Le[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=rn.pop()||Le.length;return Le[t]=e,Le[t+1]=1,t}}}},qo={name:"emscripten::val",fromWireType:e=>{var t=ot.toValue(e);return nn(e),t},toWireType:(e,t)=>ot.toHandle(t),readValueFromPointer:ut,destructorFunction:null},Go=e=>Fe(e,qo),Ko=(e,t,r)=>{switch(t){case 1:return r?function(n){return this.fromWireType(G[n])}:function(n){return this.fromWireType(ie[n])};case 2:return r?function(n){return this.fromWireType(we[n>>1])}:function(n){return this.fromWireType(Re[n>>1])};case 4:return r?function(n){return this.fromWireType(K[n>>2])}:function(n){return this.fromWireType(B[n>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Yo=(e,t,r,n)=>{t=ue(t);function o(){}o.values={},Fe(e,{name:t,constructor:o,fromWireType:function(i){return this.constructor.values[i]},toWireType:(i,a)=>a.value,readValueFromPointer:Ko(t,r,n),destructorFunction:null}),ir(t,o)},on=(e,t)=>{var r=je[e];return r===void 0&&V(`${t} has unknown type ${Zr(e)}`),r},Jo=(e,t,r)=>{var n=on(e,"enum");t=ue(t);var o=n.constructor,i=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:Rt(`${n.name}_${t}`,function(){})}});o.values[r]=i,o[t]=i},Qo=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(Xe[r>>2])};case 8:return function(r){return this.fromWireType(xt[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Xo=(e,t,r)=>{t=ue(t),Fe(e,{name:t,fromWireType:n=>n,toWireType:(n,o)=>{if(typeof o!="number"&&typeof o!="boolean")throw new TypeError(`Cannot convert ${qe(o)} to ${this.name}`);return o},readValueFromPointer:Qo(t,r),destructorFunction:null})},Zo=(e,t,r,n,o,i,a,l)=>{var d=sr(t,r);e=ue(e),e=tn(e),o=Te(n,o,a),ir(e,function(){Ot(`Cannot call ${e} due to unbound types`,d)},t-1),Ve([],d,p=>{var _=[p[0],null].concat(p.slice(1));return Qr(e,lr(e,_,null,o,i,a),t-1),[]})},ei=(e,t,r,n,o)=>{t=ue(t);const i=n===0;let a=d=>d;if(i){var l=32-8*r;a=d=>d<<l>>>l,o=a(o)}Fe(e,{name:t,fromWireType:a,toWireType:(d,p)=>{if(typeof p!="number"&&typeof p!="boolean")throw new TypeError(`Cannot convert "${qe(p)}" to ${t}`);return jr(t,p,n,o),p},readValueFromPointer:Wr(t,r,n!==0),destructorFunction:null})},ti=(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],o=n[t];function i(a){var l=B[a>>2],d=B[a+4>>2];return new o(G.buffer,d,l)}r=ue(r),Fe(e,{name:r,fromWireType:i,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},ri=(e,t)=>{t=ue(t),Fe(e,{name:t,fromWireType(r){var n=B[r>>2],o=r+4,i;return i=He(o,n,!0),$e(r),i},toWireType(r,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var o,i=typeof n=="string";i||ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT==1||V("Cannot pass non-string to std::string"),i?o=ft(n):o=n.length;var a=fr(4+o+1),l=a+4;return B[a>>2]=o,i?We(n,l,o+1):ie.set(n,l),r!==null&&r.push($e,a),a},readValueFromPointer:ut,destructorFunction(r){$e(r)}})},an=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ni=(e,t,r)=>{x(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var n=e>>1,o=Lr(Re,n,t/2,r);if(o-n>16&&an)return an.decode(Re.subarray(n,o));for(var i="",a=n;a<o;++a){var l=Re[a];i+=String.fromCharCode(l)}return i},oi=(e,t,r)=>{if(x(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),x(typeof r=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),r??(r=2147483647),r<2)return 0;r-=2;for(var n=t,o=r<e.length*2?r/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);we[t>>1]=a,t+=2}return we[t>>1]=0,t-n},ii=e=>e.length*2,ai=(e,t,r)=>{x(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var n="",o=e>>2,i=0;!(i>=t/4);i++){var a=B[o+i];if(!a&&!r)break;n+=String.fromCodePoint(a)}return n},si=(e,t,r)=>{if(x(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),x(typeof r=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),r??(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var a=e.codePointAt(i);if(a>65535&&i++,K[t>>2]=a,t+=4,t+4>o)break}return K[t>>2]=0,t-n},li=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.codePointAt(r);n>65535&&r++,t+=4}return t},ci=(e,t,r)=>{r=ue(r);var n,o,i;t===2?(n=ni,o=oi,i=ii):(x(t===4,"only 2-byte and 4-byte strings are currently supported"),n=ai,o=si,i=li),Fe(e,{name:r,fromWireType:a=>{var l=B[a>>2],d=n(a+4,l*t,!0);return $e(a),d},toWireType:(a,l)=>{typeof l!="string"&&V(`Cannot pass non-string to C++ string type ${r}`);var d=i(l),p=fr(4+d+t);return B[p>>2]=d/t,o(l,p+4,d+t),a!==null&&a.push($e,p),p},readValueFromPointer:ut,destructorFunction(a){$e(a)}})},di=(e,t,r,n,o,i)=>{Pt[e]={name:ue(t),rawConstructor:Te(r,n),rawDestructor:Te(o,i),fields:[]}},fi=(e,t,r,n,o,i,a,l,d,p)=>{Pt[e].fields.push({fieldName:ue(t),getterReturnType:r,getter:Te(n,o),getterContext:i,setterArgumentType:a,setter:Te(l,d),setterContext:p})},ui=(e,t)=>{t=ue(t),Fe(e,{isVoid:!0,name:t,fromWireType:()=>{},toWireType:(r,n)=>{}})},cr=[],pi=e=>{var t=cr.length;return cr.push(e),t},_i=(e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=on(B[t+n*4>>2],`parameter ${n}`);return r},mi=(e,t,r)=>{var n=[],o=e(n,r);return n.length&&(B[t>>2]=ot.toHandle(n)),o},vi={},gi=e=>{var t=vi[e];return t===void 0?ue(e):t},hi=(e,t,r)=>{var n=8,[o,...i]=_i(e,t),a=o.toWireType.bind(o),l=i.map(k=>k.readValueFromPointer.bind(k));e--;var d={toValue:ot.toValue},p=l.map((k,$)=>{var C=`argFromPtr${$}`;return d[C]=k,`${C}(args${$?"+"+$*n:""})`}),_;switch(r){case 0:_="toValue(handle)";break;case 2:_="new (toValue(handle))";break;case 3:_="";break;case 1:d.getStringOrSymbol=gi,_="toValue(handle)[getStringOrSymbol(methodName)]";break}_+=`(${p})`,o.isVoid||(d.toReturnWire=a,d.emval_returnValue=mi,_=`return emval_returnValue(toReturnWire, destructorsRef, ${_})`),_=`return function (handle, methodName, destructorsRef, args) {
  ${_}
  }`;var S=new Function(Object.keys(d),_)(...Object.values(d)),P=`methodCaller<(${i.map(k=>k.name)}) => ${o.name}>`;return pi(Rt(P,S))},yi=(e,t,r,n,o)=>cr[e](t,r,n,o),wi=e=>{var t=ot.toValue(e);rr(t),nn(e)},bi=(e,t,r,n)=>{var o=new Date().getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1),l=i.getTimezoneOffset(),d=a.getTimezoneOffset(),p=Math.max(l,d);B[e>>2]=p*60,K[t>>2]=+(l!=d);var _=k=>{var $=k>=0?"-":"+",C=Math.abs(k),te=String(Math.floor(C/60)).padStart(2,"0"),Q=String(C%60).padStart(2,"0");return`UTC${$}${te}${Q}`},S=_(l),P=_(d);x(S),x(P),x(ft(S)<=16,`timezone name truncated to fit in TZNAME_MAX (${S})`),x(ft(P)<=16,`timezone name truncated to fit in TZNAME_MAX (${P})`),d<l?(We(S,r,17),We(P,n,17)):(We(S,n,17),We(P,r,17))},Ei=()=>performance.now(),xi=()=>Date.now(),Si=e=>e>=0&&e<=3,ki=9007199254740992,Fi=-9007199254740992,Ti=e=>e<Fi||e>ki?NaN:Number(e);function Pi(e,t,r){if(!Si(e))return 28;var n;e===0?n=xi():n=Ei();var o=Math.round(n*1e3*1e3);return de[r>>3]=BigInt(o),0}var $i=()=>2147483648,Ii=(e,t)=>(x(t,"alignment argument is required"),Math.ceil(e/t)*t),Ai=e=>{var t=_e.buffer.byteLength,r=(e-t+65535)/65536|0;try{return _e.grow(r),St(),1}catch(n){W(`growMemory: Attempted to grow heap from ${t} bytes to ${e} bytes, but got error: ${n}`)}},Ci=e=>{var t=ie.length;e>>>=0,x(e>t);var r=$i();if(e>r)return W(`Cannot enlarge memory, requested ${e} bytes, but the limit is ${r} bytes!`),!1;for(var n=1;n<=4;n*=2){var o=t*(1+.2/n);o=Math.min(o,e+100663296);var i=Math.min(r,Ii(Math.max(e,o),65536)),a=Ai(i);if(a)return!0}return W(`Failed to grow the heap from ${t} bytes to ${i} bytes, not enough memory!`),!1},dr={},Ri=()=>I||"./this.program",mt=()=>{if(!mt.strings){var e=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ri()};for(var r in dr)dr[r]===void 0?delete t[r]:t[r]=dr[r];var n=[];for(var r in t)n.push(`${r}=${t[r]}`);mt.strings=n}return mt.strings},Di=(e,t)=>{var r=0,n=0;for(var o of mt()){var i=t+r;B[e+n>>2]=i,r+=We(o,i,1/0)+1,n+=4}return 0},Mi=(e,t)=>{var r=mt();B[e>>2]=r.length;var n=0;for(var o of r)n+=ft(o)+1;return B[t>>2]=n,0};function Oi(e){try{var t=Z.getStreamFromFD(e);return s.close(t),0}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return r.errno}}var Li=(e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=B[t>>2],l=B[t+4>>2];t+=8;var d=s.read(e,G,a,l,n);if(d<0)return-1;if(o+=d,d<l)break}return o};function Bi(e,t,r,n){try{var o=Z.getStreamFromFD(e),i=Li(o,t,r);return B[n>>2]=i,0}catch(a){if(typeof s>"u"||a.name!=="ErrnoError")throw a;return a.errno}}function Ni(e,t,r,n){t=Ti(t);try{if(isNaN(t))return 61;var o=Z.getStreamFromFD(e);return s.llseek(o,t,r),de[n>>3]=BigInt(o.position),o.getdents&&t===0&&r===0&&(o.getdents=null),0}catch(i){if(typeof s>"u"||i.name!=="ErrnoError")throw i;return i.errno}}var zi=(e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=B[t>>2],l=B[t+4>>2];t+=8;var d=s.write(e,G,a,l,n);if(d<0)return-1;if(o+=d,d<l)break}return o};function Hi(e,t,r,n){try{var o=Z.getStreamFromFD(e),i=zi(o,t,r);return B[n>>2]=i,0}catch(a){if(typeof s>"u"||a.name!=="ErrnoError")throw a;return a.errno}}var Ui=e=>e,Wi=e=>_r(e),ji=e=>pr(e),sn=e=>vn(e),Vi=e=>{var t=w(),r=sn(4),n=sn(4);hn(e,r,n);var o=B[r>>2],i=B[n>>2],a=He(o);$e(o);var l;return i&&(l=He(i),$e(i)),y(t),[a,l]},ln=e=>Vi(e);s.createPreloadedFile=ao,s.staticInit(),Io(),Bo(),x(Le.length===5*2),f.noExitRuntime&&f.noExitRuntime,f.preloadPlugins&&(Hr=f.preloadPlugins),f.print&&(X=f.print),f.printErr&&(W=f.printErr),f.wasmBinary&&(D=f.wasmBinary),Ki(),f.arguments&&f.arguments,f.thisProgram&&(I=f.thisProgram),x(typeof f.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),x(typeof f.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),x(typeof f.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),x(typeof f.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),x(typeof f.read>"u","Module.read option was removed"),x(typeof f.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),x(typeof f.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),x(typeof f.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),x(typeof f.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),x(typeof f.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),x(typeof f.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),x(typeof f.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),x(typeof f.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var qi=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","zeroMemory","exitJS","withStackSave","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","readEmAsmArgs","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","HandleAllocator","getNativeTypeSize","addOnInit","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","intArrayToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","PureVirtualError","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","setDelayFunction","validateThis","count_emval_handles","emval_get_global"];qi.forEach(Ee);var Gi=["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","setTempRet0","ptrToString","getHeapMax","growMemory","ENV","ERRNO_CODES","strError","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","getExecutableName","asyncLoad","alignMemory","mmapAlloc","wasmTable","getUniqueRunDependency","noExitRuntime","addOnPreRun","addOnPostRun","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","AsciiToString","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","checkWasiClock","doReadv","doWritev","initRandomFill","randomFill","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_unlink","FS_createPath","FS_createDevice","FS_readFile","FS","FS_root","FS_mounts","FS_devices","FS_streams","FS_nextInode","FS_nameTable","FS_currentPath","FS_initialized","FS_ignorePermissions","FS_filesystems","FS_syncFSRequests","FS_readFiles","FS_lookupPath","FS_getPath","FS_hashName","FS_hashAddNode","FS_hashRemoveNode","FS_lookupNode","FS_createNode","FS_destroyNode","FS_isRoot","FS_isMountpoint","FS_isFile","FS_isDir","FS_isLink","FS_isChrdev","FS_isBlkdev","FS_isFIFO","FS_isSocket","FS_flagsToPermissionString","FS_nodePermissions","FS_mayLookup","FS_mayCreate","FS_mayDelete","FS_mayOpen","FS_checkOpExists","FS_nextfd","FS_getStreamChecked","FS_getStream","FS_createStream","FS_closeStream","FS_dupStream","FS_doSetAttr","FS_chrdev_stream_ops","FS_major","FS_minor","FS_makedev","FS_registerDevice","FS_getDevice","FS_getMounts","FS_syncfs","FS_mount","FS_unmount","FS_lookup","FS_mknod","FS_statfs","FS_statfsStream","FS_statfsNode","FS_create","FS_mkdir","FS_mkdev","FS_symlink","FS_rename","FS_rmdir","FS_readdir","FS_readlink","FS_stat","FS_fstat","FS_lstat","FS_doChmod","FS_chmod","FS_lchmod","FS_fchmod","FS_doChown","FS_chown","FS_lchown","FS_fchown","FS_doTruncate","FS_truncate","FS_ftruncate","FS_utime","FS_open","FS_close","FS_isClosed","FS_llseek","FS_read","FS_write","FS_mmap","FS_msync","FS_ioctl","FS_writeFile","FS_cwd","FS_chdir","FS_createDefaultDirectories","FS_createDefaultDevices","FS_createSpecialDirectories","FS_createStandardStreams","FS_staticInit","FS_init","FS_quit","FS_findObject","FS_analyzePath","FS_createFile","FS_createDataFile","FS_forceLoadFile","FS_createLazyFile","FS_absolutePath","FS_createFolder","FS_createLink","FS_joinPath","FS_mmapAlloc","FS_standardizePath","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","jstoi_s","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","checkArgCount","getRequiredArgCount","createJsInvoker","UnboundTypeError","EmValType","EmValOptionalType","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","registeredPointers","registerType","integerReadValueFromPointer","enumReadValueFromPointer","floatReadValueFromPointer","assertIntegerRange","readPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","getStringOrSymbol","Emval","emval_returnValue","emval_lookupTypes","emval_methodCallers","emval_addMethodCaller"];Gi.forEach(ye),f.incrementExceptionRefcount=Wi,f.decrementExceptionRefcount=ji,f.getExceptionMessage=ln;function Ki(){ne("fetchSettings")}var cn=q("___getTypeName"),$e=q("_free"),fr=q("_malloc"),dn=q("_fflush"),fn=q("___cxa_get_exception_ptr"),ur=q("_emscripten_stack_get_end"),un=q("_strerror"),h=q("_setThrew"),pn=q("__emscripten_tempret_set"),_n=q("_emscripten_stack_init"),mn=q("__emscripten_stack_restore"),vn=q("__emscripten_stack_alloc"),gn=q("_emscripten_stack_get_current"),pr=q("___cxa_decrement_exception_refcount"),_r=q("___cxa_increment_exception_refcount"),hn=q("___get_exception_message"),yn=q("___cxa_can_catch");function Yi(e){cn=be("__getTypeName",1),$e=be("free",1),fr=be("malloc",1),dn=be("fflush",1),fn=be("__cxa_get_exception_ptr",1),ur=e.emscripten_stack_get_end,e.emscripten_stack_get_base,un=be("strerror",1),h=be("setThrew",2),pn=be("_emscripten_tempret_set",1),_n=e.emscripten_stack_init,e.emscripten_stack_get_free,mn=e._emscripten_stack_restore,vn=e._emscripten_stack_alloc,gn=e.emscripten_stack_get_current,pr=be("__cxa_decrement_exception_refcount",1),_r=be("__cxa_increment_exception_refcount",1),hn=be("__get_exception_message",3),yn=be("__cxa_can_catch",3)}var wn={__assert_fail:jn,__cxa_begin_catch:Vn,__cxa_end_catch:qn,__cxa_find_matching_catch_2:Gn,__cxa_find_matching_catch_3:Kn,__cxa_find_matching_catch_4:Yn,__cxa_rethrow:Jn,__cxa_throw:Qn,__cxa_uncaught_exceptions:Xn,__resumeException:Zn,__syscall_fcntl64:co,__syscall_fstat64:fo,__syscall_getdents64:uo,__syscall_ioctl:po,__syscall_lstat64:_o,__syscall_mkdirat:mo,__syscall_newfstatat:vo,__syscall_openat:go,__syscall_stat64:ho,_abort_js:yo,_embind_finalize_value_object:bo,_embind_register_bigint:xo,_embind_register_bool:So,_embind_register_class:zo,_embind_register_class_constructor:jo,_embind_register_class_function:Vo,_embind_register_emval:Go,_embind_register_enum:Yo,_embind_register_enum_value:Jo,_embind_register_float:Xo,_embind_register_function:Zo,_embind_register_integer:ei,_embind_register_memory_view:ti,_embind_register_std_string:ri,_embind_register_std_wstring:ci,_embind_register_value_object:di,_embind_register_value_object_field:fi,_embind_register_void:ui,_emval_create_invoker:hi,_emval_invoke:yi,_emval_run_destructors:wi,_tzset_js:bi,clock_time_get:Pi,emscripten_resize_heap:Ci,environ_get:Di,environ_sizes_get:Mi,fd_close:Oi,fd_read:Bi,fd_seek:Ni,fd_write:Hi,invoke_dd:ya,invoke_dddd:ja,invoke_ddddd:Va,invoke_dddid:Ya,invoke_ddi:is,invoke_di:aa,invoke_did:Qa,invoke_didd:vs,invoke_diddd:Ga,invoke_didddd:Ja,invoke_didddddi:ns,invoke_diddddi:Wa,invoke_didddi:Ka,invoke_diddi:fs,invoke_diddid:us,invoke_diddiid:ps,invoke_diddiii:Ua,invoke_didi:js,invoke_didii:os,invoke_dii:Ia,invoke_diidd:zs,invoke_diididi:Ba,invoke_diididid:qs,invoke_diii:Da,invoke_diiid:xs,invoke_diiidi:Os,invoke_diiii:Ra,invoke_diiiid:Na,invoke_diiiii:ts,invoke_diiiiid:Cs,invoke_diiiiii:Ma,invoke_diiiiiii:hs,invoke_diiiiiiii:rs,invoke_fiii:Qs,invoke_i:ta,invoke_idiiii:ma,invoke_ii:Qi,invoke_iid:sa,invoke_iidddd:Za,invoke_iii:ea,invoke_iiidi:ba,invoke_iiii:Xi,invoke_iiiid:ls,invoke_iiiidd:cs,invoke_iiiii:la,invoke_iiiiid:Ks,invoke_iiiiidddiii:xa,invoke_iiiiidi:Sa,invoke_iiiiidiii:Ea,invoke_iiiiii:ua,invoke_iiiiiidi:ds,invoke_iiiiiii:va,invoke_iiiiiiii:ss,invoke_iiiiiiiii:as,invoke_iiiiiiiiii:Fs,invoke_iiiiiiiiiii:Is,invoke_iiiiiiiiiiii:Xs,invoke_iiiiiiiiiiiii:Js,invoke_iiji:fa,invoke_iijiii:ca,invoke_iijji:pa,invoke_iijjiii:da,invoke_ijjiiii:ha,invoke_ji:ia,invoke_jiiii:Ys,invoke_v:ra,invoke_vddddiiii:Ms,invoke_vdii:_a,invoke_vdiiii:qa,invoke_vi:na,invoke_vid:Vs,invoke_vidd:Xa,invoke_viddd:Ls,invoke_vidddddddd:Ds,invoke_viddddddddii:As,invoke_viddddddddiii:Rs,invoke_vidddiii:_s,invoke_viddi:Ha,invoke_vidi:ms,invoke_vidid:gs,invoke_vii:Zi,invoke_viid:Ps,invoke_viidd:Aa,invoke_viiddd:es,invoke_viidddi:bs,invoke_viiddi:Ca,invoke_viidi:Hs,invoke_viii:Ji,invoke_viiid:ks,invoke_viiiddidii:Es,invoke_viiidid:ws,invoke_viiidiii:Us,invoke_viiidiiii:ys,invoke_viiii:oa,invoke_viiiid:Ts,invoke_viiiidiii:Ws,invoke_viiiii:wa,invoke_viiiiii:Oa,invoke_viiiiiid:ka,invoke_viiiiiidii:Ss,invoke_viiiiiii:Pa,invoke_viiiiiiidiiii:$a,invoke_viiiiiiii:La,invoke_viiiiiiiii:Fa,invoke_viiiiiiiiii:Ns,invoke_viiiiiiiiiidii:$s,invoke_viiiiiiiiiii:za,invoke_viiiiiiiiiiii:Ta,invoke_viiiiiiiiiiiii:Bs,invoke_viiiiiiiiiiiiiii:Zs,invoke_viijii:Gs,invoke_vjjii:ga,llvm_eh_typeid_for:Ui},Ge=await Hn();function Ji(e,t,r,n){var o=w();try{b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function Qi(e,t){var r=w();try{return b(e)(t)}catch(n){if(y(r),!(n instanceof v))throw n;h(1,0)}}function Xi(e,t,r,n){var o=w();try{return b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function Zi(e,t,r){var n=w();try{b(e)(t,r)}catch(o){if(y(n),!(o instanceof v))throw o;h(1,0)}}function ea(e,t,r){var n=w();try{return b(e)(t,r)}catch(o){if(y(n),!(o instanceof v))throw o;h(1,0)}}function ta(e){var t=w();try{return b(e)()}catch(r){if(y(t),!(r instanceof v))throw r;h(1,0)}}function ra(e){var t=w();try{b(e)()}catch(r){if(y(t),!(r instanceof v))throw r;h(1,0)}}function na(e,t){var r=w();try{b(e)(t)}catch(n){if(y(r),!(n instanceof v))throw n;h(1,0)}}function oa(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function ia(e,t){var r=w();try{return b(e)(t)}catch(n){if(y(r),!(n instanceof v))throw n;return h(1,0),0n}}function aa(e,t){var r=w();try{return b(e)(t)}catch(n){if(y(r),!(n instanceof v))throw n;h(1,0)}}function sa(e,t,r){var n=w();try{return b(e)(t,r)}catch(o){if(y(n),!(o instanceof v))throw o;h(1,0)}}function la(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function ca(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function da(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function fa(e,t,r,n){var o=w();try{return b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function ua(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function pa(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function _a(e,t,r,n){var o=w();try{b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function ma(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function va(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function ga(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function ha(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function ya(e,t){var r=w();try{return b(e)(t)}catch(n){if(y(r),!(n instanceof v))throw n;h(1,0)}}function wa(e,t,r,n,o,i){var a=w();try{b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function ba(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Ea(e,t,r,n,o,i,a,l,d){var p=w();try{return b(e)(t,r,n,o,i,a,l,d)}catch(_){if(y(p),!(_ instanceof v))throw _;h(1,0)}}function xa(e,t,r,n,o,i,a,l,d,p,_){var S=w();try{return b(e)(t,r,n,o,i,a,l,d,p,_)}catch(P){if(y(S),!(P instanceof v))throw P;h(1,0)}}function Sa(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function ka(e,t,r,n,o,i,a,l){var d=w();try{b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function Fa(e,t,r,n,o,i,a,l,d,p){var _=w();try{b(e)(t,r,n,o,i,a,l,d,p)}catch(S){if(y(_),!(S instanceof v))throw S;h(1,0)}}function Ta(e,t,r,n,o,i,a,l,d,p,_,S,P){var k=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S,P)}catch($){if(y(k),!($ instanceof v))throw $;h(1,0)}}function Pa(e,t,r,n,o,i,a,l){var d=w();try{b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function $a(e,t,r,n,o,i,a,l,d,p,_,S,P){var k=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S,P)}catch($){if(y(k),!($ instanceof v))throw $;h(1,0)}}function Ia(e,t,r){var n=w();try{return b(e)(t,r)}catch(o){if(y(n),!(o instanceof v))throw o;h(1,0)}}function Aa(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Ca(e,t,r,n,o,i){var a=w();try{b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Ra(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Da(e,t,r,n){var o=w();try{return b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function Ma(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function Oa(e,t,r,n,o,i,a){var l=w();try{b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function La(e,t,r,n,o,i,a,l,d){var p=w();try{b(e)(t,r,n,o,i,a,l,d)}catch(_){if(y(p),!(_ instanceof v))throw _;h(1,0)}}function Ba(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function Na(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function za(e,t,r,n,o,i,a,l,d,p,_,S){var P=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S)}catch(k){if(y(P),!(k instanceof v))throw k;h(1,0)}}function Ha(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Ua(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function Wa(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function ja(e,t,r,n){var o=w();try{return b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function Va(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function qa(e,t,r,n,o,i){var a=w();try{b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Ga(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Ka(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Ya(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Ja(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Qa(e,t,r){var n=w();try{return b(e)(t,r)}catch(o){if(y(n),!(o instanceof v))throw o;h(1,0)}}function Xa(e,t,r,n){var o=w();try{b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function Za(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function es(e,t,r,n,o,i){var a=w();try{b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function ts(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function rs(e,t,r,n,o,i,a,l,d){var p=w();try{return b(e)(t,r,n,o,i,a,l,d)}catch(_){if(y(p),!(_ instanceof v))throw _;h(1,0)}}function ns(e,t,r,n,o,i,a,l){var d=w();try{return b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function os(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function is(e,t,r){var n=w();try{return b(e)(t,r)}catch(o){if(y(n),!(o instanceof v))throw o;h(1,0)}}function as(e,t,r,n,o,i,a,l,d){var p=w();try{return b(e)(t,r,n,o,i,a,l,d)}catch(_){if(y(p),!(_ instanceof v))throw _;h(1,0)}}function ss(e,t,r,n,o,i,a,l){var d=w();try{return b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function ls(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function cs(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function ds(e,t,r,n,o,i,a,l){var d=w();try{return b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function fs(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function us(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function ps(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function _s(e,t,r,n,o,i,a,l){var d=w();try{b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function ms(e,t,r,n){var o=w();try{b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function vs(e,t,r,n){var o=w();try{return b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function gs(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function hs(e,t,r,n,o,i,a,l){var d=w();try{return b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function ys(e,t,r,n,o,i,a,l,d){var p=w();try{b(e)(t,r,n,o,i,a,l,d)}catch(_){if(y(p),!(_ instanceof v))throw _;h(1,0)}}function ws(e,t,r,n,o,i,a){var l=w();try{b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function bs(e,t,r,n,o,i,a){var l=w();try{b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function Es(e,t,r,n,o,i,a,l,d,p){var _=w();try{b(e)(t,r,n,o,i,a,l,d,p)}catch(S){if(y(_),!(S instanceof v))throw S;h(1,0)}}function xs(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Ss(e,t,r,n,o,i,a,l,d,p){var _=w();try{b(e)(t,r,n,o,i,a,l,d,p)}catch(S){if(y(_),!(S instanceof v))throw S;h(1,0)}}function ks(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Fs(e,t,r,n,o,i,a,l,d,p){var _=w();try{return b(e)(t,r,n,o,i,a,l,d,p)}catch(S){if(y(_),!(S instanceof v))throw S;h(1,0)}}function Ts(e,t,r,n,o,i){var a=w();try{b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Ps(e,t,r,n){var o=w();try{b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function $s(e,t,r,n,o,i,a,l,d,p,_,S,P,k){var $=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S,P,k)}catch(C){if(y($),!(C instanceof v))throw C;h(1,0)}}function Is(e,t,r,n,o,i,a,l,d,p,_){var S=w();try{return b(e)(t,r,n,o,i,a,l,d,p,_)}catch(P){if(y(S),!(P instanceof v))throw P;h(1,0)}}function As(e,t,r,n,o,i,a,l,d,p,_,S){var P=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S)}catch(k){if(y(P),!(k instanceof v))throw k;h(1,0)}}function Cs(e,t,r,n,o,i,a){var l=w();try{return b(e)(t,r,n,o,i,a)}catch(d){if(y(l),!(d instanceof v))throw d;h(1,0)}}function Rs(e,t,r,n,o,i,a,l,d,p,_,S,P){var k=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S,P)}catch($){if(y(k),!($ instanceof v))throw $;h(1,0)}}function Ds(e,t,r,n,o,i,a,l,d,p){var _=w();try{b(e)(t,r,n,o,i,a,l,d,p)}catch(S){if(y(_),!(S instanceof v))throw S;h(1,0)}}function Ms(e,t,r,n,o,i,a,l,d){var p=w();try{b(e)(t,r,n,o,i,a,l,d)}catch(_){if(y(p),!(_ instanceof v))throw _;h(1,0)}}function Os(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Ls(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Bs(e,t,r,n,o,i,a,l,d,p,_,S,P,k){var $=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S,P,k)}catch(C){if(y($),!(C instanceof v))throw C;h(1,0)}}function Ns(e,t,r,n,o,i,a,l,d,p,_){var S=w();try{b(e)(t,r,n,o,i,a,l,d,p,_)}catch(P){if(y(S),!(P instanceof v))throw P;h(1,0)}}function zs(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Hs(e,t,r,n,o){var i=w();try{b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;h(1,0)}}function Us(e,t,r,n,o,i,a,l){var d=w();try{b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function Ws(e,t,r,n,o,i,a,l,d){var p=w();try{b(e)(t,r,n,o,i,a,l,d)}catch(_){if(y(p),!(_ instanceof v))throw _;h(1,0)}}function js(e,t,r,n){var o=w();try{return b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function Vs(e,t,r){var n=w();try{b(e)(t,r)}catch(o){if(y(n),!(o instanceof v))throw o;h(1,0)}}function qs(e,t,r,n,o,i,a,l){var d=w();try{return b(e)(t,r,n,o,i,a,l)}catch(p){if(y(d),!(p instanceof v))throw p;h(1,0)}}function Gs(e,t,r,n,o,i){var a=w();try{b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Ks(e,t,r,n,o,i){var a=w();try{return b(e)(t,r,n,o,i)}catch(l){if(y(a),!(l instanceof v))throw l;h(1,0)}}function Ys(e,t,r,n,o){var i=w();try{return b(e)(t,r,n,o)}catch(a){if(y(i),!(a instanceof v))throw a;return h(1,0),0n}}function Js(e,t,r,n,o,i,a,l,d,p,_,S,P){var k=w();try{return b(e)(t,r,n,o,i,a,l,d,p,_,S,P)}catch($){if(y(k),!($ instanceof v))throw $;h(1,0)}}function Qs(e,t,r,n){var o=w();try{return b(e)(t,r,n)}catch(i){if(y(o),!(i instanceof v))throw i;h(1,0)}}function Xs(e,t,r,n,o,i,a,l,d,p,_,S){var P=w();try{return b(e)(t,r,n,o,i,a,l,d,p,_,S)}catch(k){if(y(P),!(k instanceof v))throw k;h(1,0)}}function Zs(e,t,r,n,o,i,a,l,d,p,_,S,P,k,$,C){var te=w();try{b(e)(t,r,n,o,i,a,l,d,p,_,S,P,k,$,C)}catch(Q){if(y(te),!(Q instanceof v))throw Q;h(1,0)}}var bn;function el(){_n(),se()}function mr(){if(Se>0){Me=mr;return}if(el(),Yt(),Se>0){Me=mr;return}function e(){var t;x(!bn),bn=!0,f.calledRun=!0,!H&&(Ar(),xe==null||xe(f),(t=f.onRuntimeInitialized)==null||t.call(f),pe("onRuntimeInitialized"),x(!f._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),De())}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),e()},1)):e(),Y()}function tl(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()();pe("preInit")}tl(),mr(),Ne?u=f:u=new Promise((e,t)=>{xe=e,ge=t});for(const e of Object.keys(f))e in c||Object.defineProperty(c,e,{configurable:!0,get(){fe(`Access to module property ('${e}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return u}async function fl(){try{return await dl({locateFile:(f,g)=>f.endsWith(".wasm")?"coolprop.wasm":g+f})}catch(c){throw console.error("CoolProp WASM :",c),new Error(`CoolProp.js  CoolProp.wasm  (${c.message})`)}}const Tn={R134a:{gwp:1430,odp:0,safety:"A1"},R245fa:{gwp:1030,odp:0,safety:"B1"},"R1233zd(E)":{gwp:1,odp:0,safety:"A1"},"R1234ze(Z)":{gwp:"<1",odp:0,safety:"A2L"},R123:{gwp:77,odp:.012,safety:"B1"},R22:{gwp:1810,odp:.034,safety:"A1"},R410A:{gwp:2088,odp:0,safety:"A1"},R32:{gwp:675,odp:0,safety:"A2L"},R290:{gwp:3,odp:0,safety:"A3"},R717:{gwp:0,odp:0,safety:"B2L"},R515B:{gwp:293,odp:0,safety:"A1"},R142b:{gwp:2310,odp:.043,safety:"A2"},"R1336mzz(Z)":{gwp:2,odp:0,safety:"A1"},R744:{gwp:1,odp:0,safety:"A1"},R600a:{gwp:3,odp:0,safety:"A3"},R152a:{gwp:124,odp:0,safety:"A2"},R454B:{gwp:466,odp:0,safety:"A2L"},R513A:{gwp:631,odp:0,safety:"A1"},R236fa:{gwp:9810,odp:0,safety:"A1"},R23:{gwp:14800,odp:0,safety:"A1"},R1234yf:{gwp:"<1",odp:0,safety:"A2L"},R1270:{gwp:2,odp:0,safety:"A3"},R1150:{gwp:2,odp:0,safety:"A3"},Air:{gwp:0,odp:0,safety:"A1"},Nitrogen:{gwp:0,odp:0,safety:"A1"},Helium:{gwp:0,odp:0,safety:"A1"},Neon:{gwp:0,odp:0,safety:"A1"},Argon:{gwp:0,odp:0,safety:"A1"},Hydrogen:{gwp:0,odp:0,safety:"A3"},Oxygen:{gwp:0,odp:0,safety:"A1 (Oxidizer)"},Methane:{gwp:25,odp:0,safety:"A3"},R507A:{gwp:3985,odp:0,safety:"A1"},Water:{gwp:0,odp:0,safety:"A1"},default:{gwp:"N/A",odp:"N/A",safety:"N/A"}};function ht(c,u,f){if(!f){u.textContent="---  ---";return}const g=c.value,m=Tn[g]||Tn.default;if(!m){u.textContent=`---  ${g}  GWP/ODP  ---`;return}try{if(g==="Water"&&(c.id==="fluid_m4"||c.id==="fluid_m5")){u.innerHTML=`
<b>IAPWS-IF97 (Water)</b>
----------------------------------------
GWP: 0, ODP: 0, Safety: A1
MVR 
----------------------------------------
 (Tc): 647.096 K (373.946 C)
 (Pc): 220.64 bar
 (Tb): 373.124 K (99.974 C)
            `.trim();return}const E=f.PropsSI("Tcrit","",0,"",0,g),F=f.PropsSI("Pcrit","",0,"",0,g),T=f.PropsSI("T","P",101325,"Q",0,g);u.innerHTML=`
<b>${g} :</b>
----------------------------------------
GWP (AR4/AR5): ${m.gwp}
ODP:           ${m.odp}
:      ${m.safety}
----------------------------------------
 (Tc): ${E.toFixed(2)} K (${(E-273.15).toFixed(2)} C)
 (Pc): ${(F/1e5).toFixed(2)} bar
 (Tb): ${T.toFixed(2)} K (${(T-273.15).toFixed(2)} C)
        `.trim()}catch(E){if(console.error(`Update Fluid Info Failed for ${g}:`,E),E.message.includes("sublimation")&&g==="R744"){const F=f.PropsSI("Tcrit","",0,"",0,g),T=f.PropsSI("Pcrit","",0,"",0,g);u.innerHTML=`
<b>${g} :</b>
----------------------------------------
GWP (AR4/AR5): ${m.gwp}
ODP:           ${m.odp}
:      ${m.safety}
----------------------------------------
 (Tc): ${F.toFixed(2)} K (${(F-273.15).toFixed(2)} C)
 (Pc): ${(T/1e5).toFixed(2)} bar
 (Tb): N/A (1atm)
            `.trim()}else u.textContent=`---  ${g}  ---
${E.message}`}}function yt(c,u){if(!c){alert(" (No data to export)");return}const f=[];f.push(["Parameter ()","Value ()","Unit ()"]),f.push(["Date ",c.date||new Date().toLocaleDateString(),""]),f.push(["Fluid ",c.fluid||"-",""]),c.ai_model&&f.push(["Model ",c.ai_model,""]),c.is_transcritical!==void 0&&f.push(["Cycle Type ",c.is_transcritical?"Transcritical ()":"Subcritical ()",""]),f.push(["","",""]);const g=(T,I,A="")=>{if(I!=null){const O=typeof I=="number"?I.toFixed(4):I;f.push([T,O,A])}};if(f.push(["--- OPERATING CONDITIONS  ---","",""]),g("Suction Pressure ",c.p_in,"bar"),g("Suction Temp ",c.t_in,"C"),c.t_gc_out!==void 0?(g("Gas Cooler Exit Temp ",c.t_gc_out,"C"),g("High Side Pressure ",c.p_out,"bar")):(g("Discharge Pressure ",c.p_out,"bar"),c.t_cond&&g("Condensing Temp ",c.t_cond,"C")),c.rpm&&g("Speed ",c.rpm,"RPM"),f.push(["","",""]),f.push(["--- EFFICIENCY & MODEL  ---","",""]),c.eff_isen&&g("Isentropic Eff. ",c.eff_isen*100,"%"),c.eff_vol&&g("Volumetric Eff. ",c.eff_vol*100,"%"),c.eff_note&&g("Model Note ",c.eff_note,""),c.cooling_info){f.push(["","",""]),f.push(["--- THERMAL MANAGEMENT  ---","",""]);let T=c.cooling_info.type.toUpperCase();T==="SURFACE"&&(T+=" ()"),T==="INJECTION"&&(T+=" ()"),T==="ADIABATIC"&&(T+=" ()"),g("Cooling Strategy ",T,""),g("Raw Discharge Temp ",c.cooling_info.t_raw,"C"),c.cooling_info.q_loss>0&&g("Heat Loss (Surface) ",c.cooling_info.q_loss,"kW"),c.cooling_info.m_inj>0&&g("Injection Flow ",c.cooling_info.m_inj*3600,"kg/h")}f.push(["","",""]),f.push(["--- PERFORMANCE RESULTS  ---","",""]),c.power&&g("Shaft Power ",c.power,"kW"),c.m_flow&&g("Mass Flow (Suction) ",c.m_flow*3600,"kg/h"),c.t_out&&g("Actual Discharge Temp ",c.t_out,"C"),c.q_evap&&g("Cooling Capacity ",c.q_evap,"kW");const m=c.fluid==="R744"||c.is_transcritical?"Gas Cooler Load ":"Heating Capacity ";c.q_cond&&g(m,c.q_cond,"kW"),c.cop_c&&g("COP (Cooling) ",c.cop_c,"-"),c.cop_h&&g("COP (Heating) ",c.cop_h,"-");const E=gr.aoa_to_sheet(f);E["!cols"]=[{wch:40},{wch:20},{wch:15}];const F=gr.book_new();gr.book_append_sheet(F,E,"Datasheet"),al(F,`${u}_${new Date().getTime()}.xlsx`)}function ul(c,u){const f=document.getElementById(c);if(!f)return;let g=f.nextElementSibling;(!g||!g.classList.contains("state-table-container"))&&(g=document.createElement("div"),g.className="state-table-container mt-6 mb-8",f.parentNode.insertBefore(g,f.nextSibling));const m=u.map(E=>`
        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
            <td class="py-3 px-4 font-bold text-teal-700 text-center bg-gray-50">${E.name}</td>
            <td class="py-3 px-4 text-xs text-gray-600 font-medium">${E.desc}</td>
            <td class="py-3 px-4 text-right font-mono text-sm text-gray-800">${(E.p/1e5).toFixed(2)}</td>
            <td class="py-3 px-4 text-right font-mono text-sm font-bold text-blue-600">${(E.t-273.15).toFixed(2)}</td>
            <td class="py-3 px-4 text-right font-mono text-xs text-gray-500">${(E.h/1e3).toFixed(1)}</td>
            <td class="py-3 px-4 text-right font-mono text-xs text-gray-500">${(E.s/1e3).toFixed(3)}</td>
        </tr>
    `).join("");g.innerHTML=`
        <div class="overflow-x-auto border border-gray-200 rounded-lg shadow-sm bg-white">
            <div class="bg-gray-100 px-4 py-2 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-sm font-bold text-gray-700">Cycle State Points ()</h3>
                <span class="text-xs text-gray-500">Auto-generated</span>
            </div>
            <table class="min-w-full">
                <thead class="bg-white text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-200">
                    <tr>
                        <th class="py-2 px-4 text-center w-16">Pt </th>
                        <th class="py-2 px-4 text-left">Location </th>
                        <th class="py-2 px-4 text-right">Pres.  (bar)</th>
                        <th class="py-2 px-4 text-right">Temp.  (C)</th>
                        <th class="py-2 px-4 text-right">H  (kJ/kg)</th>
                        <th class="py-2 px-4 text-right">S  (kJ/kgK)</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-100">
                    ${m}
                </tbody>
            </table>
        </div>
    `}function Et(c,u,f,g){const m=document.getElementById(g);if(!m)return;m.classList.remove("hidden");let E=ol(m);E||(E=il(m)),E.showLoading();try{const F=c.PropsSI("Tcrit","",0,"",0,u),T=c.PropsSI("Pcrit","",0,"",0,u),A=c.PropsSI("Tmin","",0,"",0,u)+5,O=F-.5,M=100,R=(O-A)/M,L=[],U=[];let N=0;for(let D=0;D<=M;D++){const H=A+D*R;try{const x=c.PropsSI("P","T",H,"Q",0,u),ee=c.PropsSI("H","T",H,"Q",0,u);L.push([ee/1e3,x/1e5]);const se=c.PropsSI("P","T",H,"Q",1,u),Y=c.PropsSI("H","T",H,"Q",1,u);U.push([Y/1e3,se/1e5])}catch{}}try{N=c.PropsSI("H","T",F,"P",T,u)/1e3}catch{if(L.length>0){const H=L[L.length-1],x=U[U.length-1];N=(H[0]+x[0])/2}}const j=[[N,T/1e5]],X=[];f&&f.points&&(f.points.forEach(D=>{X.push({name:D.name,value:[D.h/1e3,D.p/1e5],labelInfo:{t:(D.t-273.15).toFixed(2),desc:D.desc}})}),X.length>0&&X.push(X[0]));const W={title:{text:`P-h Diagram: ${u}`,subtext:`Critical Point: ${(F-273.15).toFixed(1)}C / ${(T/1e5).toFixed(1)} bar`,left:"center",top:5,textStyle:{fontSize:14,color:"#333"}},tooltip:{trigger:"item",formatter:D=>{if(D.seriesName==="Cycle"){const H=D.data.labelInfo;let x=`<b>Pt ${D.name}</b><br/>`;return H&&H.desc&&(x+=`<span style="font-size:10px; color:#ccc">${H.desc}</span><br/>`),x+=`P: ${D.value[1].toFixed(2)} bar<br/>`,x+=`H: ${D.value[0].toFixed(1)} kJ/kg<br/>`,H&&(x+=`T: ${H.t} C`),x}else if(D.seriesName==="Critical Point")return`<b>Critical Point </b><br/>P: ${D.value[1].toFixed(2)} bar<br/>H: ${D.value[0].toFixed(1)} kJ/kg`;return D.seriesName}},grid:{top:70,right:50,bottom:50,left:60},xAxis:{name:"Enthalpy (kJ/kg)",nameLocation:"middle",nameGap:30,type:"value",scale:!0,splitLine:{show:!1}},yAxis:{name:"Pressure (bar)",type:"log",logBase:10,scale:!0,axisLabel:{formatter:D=>Number(D).toString()}},series:[{name:"Sat. Liquid",type:"line",showSymbol:!1,data:L,lineStyle:{color:"#0000ff",width:1.5},silent:!0},{name:"Sat. Vapor",type:"line",showSymbol:!1,data:U,lineStyle:{color:"#ff0000",width:1.5},silent:!0},{name:"Critical Point",type:"scatter",data:j,symbol:"triangle",symbolSize:10,itemStyle:{color:"#000"}},{name:"Cycle",type:"line",data:X,symbol:"circle",symbolSize:8,smooth:!1,label:{show:!0,formatter:"{@name}",position:"right",fontWeight:"bold",fontSize:12,color:"#000",distance:5},lineStyle:{color:"#059669",width:2.5,type:"solid"},itemStyle:{color:"#059669",borderColor:"#fff",borderWidth:1}}]};E.hideLoading(),E.setOption(W),window.addEventListener("resize",()=>E.resize()),f&&f.points&&ul(g,f.points)}catch(F){console.error("Draw Chart Error:",F),E.hideLoading(),m.innerHTML=`<div class="p-4 text-center text-red-500">Error drawing chart: ${F.message}</div>`}}let Ce=null,st=null,it,wt,zt,vt,gt,$r,at,Ht,Pn,Ke,wr,Ut,Wt,jt,Cn;function Ir(c,u,f,g=null){const m=c.get(`flow_mode_${u}`);let E=0,F=0;if(m==="rpm"){const T=parseFloat(c.get(`rpm_${u}`)),I=parseFloat(c.get(`vol_disp_${u}`))/1e6,A=g!==null?g:parseFloat(c.get(`vol_eff_${u}`)||"100")/100;F=T/60*I*A,E=F*f}else m==="mass"?(E=parseFloat(c.get(`mass_flow_${u}`)),F=E/f):m==="vol"&&(F=parseFloat(c.get(`vol_flow_${u}`))/3600,E=F*f);return{m_flow:E,v_flow_in:F}}function bt(c,u){const f=u.includes("GAS"),g=c.fluid==="R744"||c.fluid==="Carbon Dioxide";let m="#059669",E="#ecfdf5";f&&(m="#0891b2",E="#ecfeff"),g&&(m="#ea580c",E="#fff7ed");let F="";if(f)F=`
            <div style="text-align: center;"><div>Shaft Power <span style="font-size:10px"></span></div><div style="font-size:24px; font-weight:800; color:${m};">${c.power.toFixed(2)} kW</div></div>
            <div style="text-align: center;"><div>Discharge Temp <span style="font-size:10px"></span></div><div style="font-size:24px; font-weight:800; color:${m};">${c.t_out.toFixed(1)} C</div></div>
            <div style="text-align: center;"><div>Pressure Ratio <span style="font-size:10px"></span></div><div style="font-size:24px; font-weight:800; color:${m};">${c.pr.toFixed(2)}</div></div>`;else{const O=c.fluid==="R744"||c.is_transcritical?"Gas Cooler Load <span style='font-size:10px'></span>":"Heating Cap. <span style='font-size:10px'></span>";F=`
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666;">Cooling Cap. <span style="font-size:10px"></span></div>
                <div style="font-size: 22px; font-weight: 800; color: ${m};">${c.q_evap.toFixed(2)} <span style="font-size:14px">kW</span></div>
                <div style="font-size: 11px;">COP (C): <strong>${c.cop_c.toFixed(2)}</strong></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666;">${O}</div>
                <div style="font-size: 22px; font-weight: 800; color: ${m};">${c.q_cond.toFixed(2)} <span style="font-size:14px">kW</span></div>
                <div style="font-size: 11px;">COP (H): <strong>${c.cop_h.toFixed(2)}</strong></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666;">Shaft Power <span style="font-size:10px"></span></div>
                <div style="font-size: 22px; font-weight: 800; color: #333;">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>`}let T="";if(g&&c.cooling_info){const O=c.cooling_info;let M="";O.type==="surface"&&(M=`<span style="color:#dc2626">(-${O.q_loss.toFixed(2)} kW)</span>`),O.type==="injection"&&(M=`<span style="color:#dc2626">(+${(O.m_inj*3600).toFixed(1)} kg/h)</span>`);let R="Adiabatic ()";O.type==="surface"&&(R="Surface Cooling ()"),O.type==="injection"&&(R="Liquid Injection ()"),T=`
        <div style="margin-top: 20px; padding: 10px; background: #fff1f2; border-left: 4px solid #dc2626; border-radius: 4px;">
            <div style="font-weight:bold; color:#991b1b; font-size:12px; margin-bottom:5px;">THERMAL MANAGEMENT </div>
            <table style="width:100%; font-size:12px;">
                <tr><td style="color:#7f1d1d;">Strategy :</td><td style="font-weight:bold;">${R} ${M}</td></tr>
                <tr><td style="color:#7f1d1d;">Raw Discharge Temp :</td><td style="font-weight:bold; color:#991b1b;">${O.t_raw.toFixed(1)} C</td></tr>
                <tr><td style="color:#7f1d1d;">Actual Discharge Temp :</td><td style="font-weight:bold; color:#059669;">${c.t_out.toFixed(1)} C</td></tr>
            </table>
        </div>`}const I=g?`
        <tr><td style="padding:5px 0; color:#666;">Gas Cooler Exit Temp <span style="font-size:10px"></span></td><td style="text-align:right; font-weight:600;">${c.t_gc_out.toFixed(1)} C ${c.t_warn||""}</td></tr>
        <tr><td style="padding:5px 0; color:#666;">High Side Pressure <span style="font-size:10px"></span></td><td style="text-align:right; font-weight:600;">${c.p_out.toFixed(1)} bar</td></tr>
        ${c.is_transcritical?`<tr><td style="padding:5px 0; color:${m}; font-size:11px;">Cycle Mode <span style="font-size:10px"></span></td><td style="text-align:right; color:${m}; font-weight:bold;">Transcritical </td></tr>`:`<tr><td style="padding:5px 0; color:#666; font-size:11px;">Cycle Mode <span style="font-size:10px"></span></td><td style="text-align:right;">Subcritical  (SC=${c.sc.toFixed(1)}K)</td></tr>`}
    `:f?`
        <tr><td style="padding:5px 0; color:#666;">Discharge Pressure <span style="font-size:10px"></span></td><td style="text-align:right; font-weight:600;">${c.p_out.toFixed(2)} bar</td></tr>
    `:`
        <tr><td style="padding:5px 0; color:#666;">Condensing Temp <span style="font-size:10px"></span></td><td style="text-align:right; font-weight:600;">${c.t_cond.toFixed(1)} C</td></tr>
        <tr><td style="padding:5px 0; color:#666;">Subcooling <span style="font-size:10px"></span></td><td style="text-align:right;">${c.sc.toFixed(1)} K</td></tr>
        <tr><td style="padding:5px 0; color:#666;">Discharge Pressure <span style="font-size:10px"></span></td><td style="text-align:right;">${c.p_out.toFixed(2)} bar</td></tr>
    `,A=g?`
        <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Gas Cooler Heat <span style="font-size:10px"></span></td><td style="text-align: right; font-weight: 600;">${c.q_cond.toFixed(2)} kW</td></tr>
        <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Evaporator Load <span style="font-size:10px"></span></td><td style="text-align: right;">${c.q_evap.toFixed(2)} kW</td></tr>
    `:f?"":`
        <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Condenser Load <span style="font-size:10px"></span></td><td style="text-align: right; font-weight: 600;">${c.q_cond.toFixed(2)} kW</td></tr>
        <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Evaporator Load <span style="font-size:10px"></span></td><td style="text-align: right;">${c.q_evap.toFixed(2)} kW</td></tr>
    `;return`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <div style="border-bottom: 3px solid ${m}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${m}; line-height: 1;">${u}</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Performance Simulation Report </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666;">
                Date: <strong>${c.date}</strong><br>Fluid: <strong>${c.fluid}</strong>
            </div>
        </div>
        <div style="background: ${E}; border: 1px solid ${m}33; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px;">${F}</div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${m}; padding-left: 10px; background: #f9fafb; padding:5px 10px;">Operating Conditions </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding:5px 0; color:#666;">Suction Pressure <span style="font-size:10px"></span></td><td style="text-align:right;">${c.p_in.toFixed(2)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding:5px 0; color:#666;">Suction Temp <span style="font-size:10px"></span></td><td style="text-align:right;">${c.t_in.toFixed(2)} C</td></tr>
                    ${I}
                </table>
                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${m}; padding-left: 10px; background: #f9fafb; padding:5px 10px;">Efficiency Settings </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                     <tr><td style="padding:5px 0; color:#666;">Model <span style="font-size:10px"></span></td><td style="text-align:right; font-size:12px;">${c.eff_note||"Standard"}</td></tr>
                     <tr><td style="padding:5px 0; color:#666;">Isentropic Eff. <span style="font-size:10px"></span></td><td style="text-align:right; font-weight:bold;">${(c.eff_isen*100).toFixed(1)} %</td></tr>
                     <tr><td style="padding:5px 0; color:#666;">Volumetric Eff. <span style="font-size:10px"></span></td><td style="text-align:right; font-weight:bold;">${(c.eff_vol*100).toFixed(1)} %</td></tr>
                </table>
            </div>
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${m}; padding-left: 10px; background: #f9fafb; padding:5px 10px;">Performance Data </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Mass Flow Rate <span style="font-size:10px"></span></td><td style="text-align: right; font-weight: 600;">${(c.m_flow*3600).toFixed(1)} kg/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Volume Flow (In) <span style="font-size:10px"></span></td><td style="text-align: right; font-weight: 600;">${(c.v_flow*3600).toFixed(1)} m/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Temp <span style="font-size:10px"></span></td><td style="text-align: right; font-weight: 600;">${c.t_out.toFixed(2)} C</td></tr>
                    ${A}
                </table>
                ${T}
            </div>
        </div>
        <div style="margin-top: 40px; text-align: center; font-size: 10px; color: #999;">Oil-Free Compressor Efficiency Calculator Pro v8.12</div>
    </div>`}async function pl(c){c&&(it.disabled=!0,it.textContent="...",setTimeout(()=>{try{const u=new FormData(zt),f=u.get("fluid_m1"),g=parseFloat(u.get("T_evap_m1")),m=parseFloat(u.get("SH_m1")),E=parseFloat(u.get("T_cond_m1")),F=parseFloat(u.get("SC_m1"));let T=parseFloat(u.get("eff_isen_m1"))/100;const I=c.PropsSI("P","T",g+273.15,"Q",1,f),A=c.PropsSI("P","T",E+273.15,"Q",1,f),O=A/I;let M="Static";if(u.get("enable_dynamic_eff_m1")==="on"){const le=parseFloat(u.get("pr_design_m1")),ve=1-.03*Math.pow(O-le,2);T=T*Math.max(.5,ve),M=`Dynamic (PR=${O.toFixed(2)})`}const R=g+m+273.15,L=c.PropsSI("H","P",I,"T",R,f),U=c.PropsSI("S","P",I,"T",R,f),N=c.PropsSI("D","P",I,"T",R,f);let{m_flow:j,v_flow_in:X}=Ir(u,"m1",N);const D=(c.PropsSI("H","P",A,"S",U,f)-L)/T,H=L+D,x=c.PropsSI("T","P",A,"H",H,f),ee=c.PropsSI("S","P",A,"H",H,f),se=E+273.15-F,Y=c.PropsSI("H","P",A,"T",se,f),v=c.PropsSI("S","P",A,"T",se,f),me=Y,pe=(L-Y)*j/1e3,q=(H-Y)*j/1e3,ne=D*j/1e3;Ce={date:new Date().toLocaleDateString(),fluid:f,p_in:I/1e5,t_in:R-273.15,p_out:A/1e5,t_out:x-273.15,t_cond:E,sc:F,m_flow:j,v_flow:X,power:ne,q_evap:pe,q_cond:q,cop_c:pe/ne,cop_h:q/ne,eff_isen:T,eff_vol:parseFloat(u.get("vol_eff_m1"))/100,eff_note:M},wt.innerHTML=bt(Ce,"STANDARD HEAT PUMP REPORT "),$r.classList.remove("hidden");const oe=[{name:"1",desc:"Suction",p:I,t:R,h:L,s:U},{name:"2",desc:"Discharge",p:A,t:x,h:H,s:ee},{name:"3",desc:"Liq Out",p:A,t:se,h:Y,s:v},{name:"4",desc:"Evap In",p:I,t:c.PropsSI("T","P",I,"H",me,f),h:me,s:c.PropsSI("S","P",I,"H",me,f)}];Et(c,f,{points:oe},"chart-m1"),it.disabled=!1,it.textContent="",vt.disabled=!1,gt.disabled=!1}catch(u){wt.innerHTML=`<div class="text-red-500 font-bold">Error: ${u.message}</div>`,it.disabled=!1}},10))}async function _l(c){c&&(at.disabled=!0,at.textContent="...",setTimeout(()=>{try{const u=new FormData(Ht),f="R744",g=parseFloat(u.get("T_evap_m1_co2")),m=parseFloat(u.get("SH_m1_co2")),E=parseFloat(u.get("T_gc_out_m1_co2")),F=parseFloat(u.get("p_high_m1_co2")),T=parseFloat(u.get("eff_isen_peak_m1_co2")),I=parseFloat(u.get("pr_design_m1_co2")),A=parseFloat(u.get("clearance_m1_co2")),O=parseFloat(u.get("poly_index_m1_co2")),M=document.querySelector('input[name="cooling_mode_m1_co2"]:checked').value,R=parseFloat(u.get("heat_loss_ratio_m1_co2")||0),L=parseFloat(u.get("target_t_out_m1_co2")||120),U=c.PropsSI("P","T",g+273.15,"Q",1,f),N=g+m+273.15,j=c.PropsSI("H","P",U,"T",N,f),X=c.PropsSI("S","P",U,"T",N,f),W=c.PropsSI("D","P",U,"T",N,f),D=F*1e5,H=D/U;let x=.98*(1-A*(Math.pow(H,1/O)-1));x=Math.max(.1,Math.min(.99,x));const ee=(H-I)/I;let se=T*(1-.25*Math.pow(ee,2));se=Math.max(.3,se);let{m_flow:Y,v_flow_in:v}=Ir(u,"m1_co2",W,x);const pe=(c.PropsSI("H","P",D,"S",X,f)-j)/se,q=j+pe,ne=c.PropsSI("T","P",D,"H",q,f),oe=pe*Y/1e3;let le=q,ve=ne,Ee=0,ye=0,xe=Y;const ge=c.PropsSI("Pcrit","",0,"",0,f),_e=D>ge;let G,ie,we=0,Re="";if(_e)ie=E+273.15,G=c.PropsSI("H","P",D,"T",ie,f);else{const De=c.PropsSI("T","P",D,"Q",0,f);ie=E+273.15,ie>=De&&(ie=De-.1,Re=`(Auto-corrected to ${(ie-273.15).toFixed(1)}C)`),we=De-ie,G=c.PropsSI("H","P",D,"T",ie,f)}const K=c.PropsSI("S","P",D,"H",G,f),B=G,Xe=U,xt=c.PropsSI("T","P",Xe,"H",B,f),de=c.PropsSI("S","P",Xe,"H",B,f);if(M==="surface"){ye=oe*(R/100);const De=ye*1e3/Y;le=q-De,ve=c.PropsSI("T","P",D,"H",le,f)}else if(M==="injection"){const De=G,Se=L+273.15;if(Se<ne){const Me=c.PropsSI("H","P",D,"T",Se,f),ze=Y*(q-Me),Pe=Me-De;Pe>0&&(Ee=ze/Pe,le=Me,ve=Se,xe=Y+Ee)}}const lt=(j-G)*Y/1e3,Ne=(le-G)*xe/1e3,St=c.PropsSI("S","P",D,"H",le,f);Ce={date:new Date().toLocaleDateString(),fluid:f,p_in:U/1e5,t_in:N-273.15,p_out:D/1e5,t_out:ve-273.15,t_gc_out:E,is_transcritical:_e,sc:we,t_warn:Re,m_flow:Y,v_flow:v,power:oe,q_evap:lt,q_cond:Ne,cop_c:lt/oe,cop_h:Ne/oe,pr:H,eff_isen:se,eff_vol:x,eff_note:`Physical (Cl=${A})`,cooling_info:{type:M,t_raw:ne-273.15,q_loss:ye,m_inj:Ee}};const Yt=_e?"CO2 TRANSCRITICAL REPORT ":"CO2 SUBCRITICAL REPORT ";wt.innerHTML=bt(Ce,Yt),$r.classList.remove("hidden"),Et(c,f,{points:[{name:"1",desc:"Suction",p:U,t:N,h:j,s:X},{name:"2",desc:"Discharge",p:D,t:ve,h:le,s:St},{name:"3",desc:"GC/Cond Out",p:D,t:ie,h:G,s:K},{name:"4",desc:"Evap In",p:Xe,t:xt,h:B,s:de}]},"chart-m1"),at.disabled=!1,at.textContent="  CO2 (R744) ",vt.disabled=!1,gt.disabled=!1}catch(u){wt.innerHTML=`<div class="p-4 bg-red-50 text-red-600 border border-red-200 rounded"><strong>Calculation Failed:</strong><br>${u.message}</div>`,at.disabled=!1}},10))}async function ml(c){c&&(Ke.disabled=!0,Ke.textContent="...",setTimeout(()=>{try{const u=new FormData(Ut),f=u.get("fluid_m2"),g=parseFloat(u.get("p_in_m2"))*1e5,m=parseFloat(u.get("T_in_m2"))+273.15,E=parseFloat(u.get("p_out_m2"))*1e5;let F=parseFloat(u.get("eff_isen_m2"))/100;const T=c.PropsSI("H","P",g,"T",m,f),I=c.PropsSI("S","P",g,"T",m,f),A=c.PropsSI("D","P",g,"T",m,f),M=(c.PropsSI("H","P",E,"S",I,f)-T)/F,R=T+M,L=c.PropsSI("T","P",E,"H",R,f),U=c.PropsSI("S","P",E,"H",R,f);let{m_flow:N,v_flow_in:j}=Ir(u,"m2",A);const X=M*N/1e3;let W=0;if(u.get("enable_cooler_calc_m2")==="on"){const D=parseFloat(u.get("target_temp_m2"))+273.15,H=c.PropsSI("H","P",E,"T",D,f);W=(R-H)*N/1e3}st={date:new Date().toLocaleDateString(),fluid:f,p_in:g/1e5,t_in:m-273.15,p_out:E/1e5,t_out:L-273.15,m_flow:N,v_flow:j,power:X,pr:E/g,q_aftercool:W,eff_isen:F,eff_vol:parseFloat(u.get("vol_eff_m2"))/100,eff_note:"Standard"},wr.innerHTML=bt(st,"GAS COMPRESSOR REPORT "),Cn.classList.remove("hidden"),Et(c,f,{points:[{name:"1",desc:"Suction",p:g,t:m,h:T,s:I},{name:"2",desc:"Discharge",p:E,t:L,h:R,s:U}]},"chart-m2"),Ke.disabled=!1,Ke.textContent="",Wt.disabled=!1,jt.disabled=!1}catch(u){wr.textContent=u.message,Ke.disabled=!1,Ke.textContent=""}},10))}function vl(c){if(it=document.getElementById("calc-button-1"),wt=document.getElementById("results-1"),zt=document.getElementById("calc-form-1"),vt=document.getElementById("print-button-1"),gt=document.getElementById("export-button-1"),$r=document.getElementById("chart-m1"),at=document.getElementById("calc-button-1-co2"),Ht=document.getElementById("calc-form-1-co2"),Pn=document.getElementById("btn-opt-p-high"),vt&&(vt.onclick=()=>{if(Ce){const u=Ce.fluid==="R744"?"CO2 (R744) CYCLE REPORT":"HEAT PUMP REPORT ",f=window.open("","_blank");f.document.write(`<html><head><title>${u}</title></head><body style="margin:0">${bt(Ce,u)}</body></html>`),f.document.close(),setTimeout(()=>f.print(),200)}else alert(" Please Calculate First")}),gt&&(gt.onclick=()=>{Ce?yt(Ce,Ce.fluid==="R744"?"CO2_Cycle_Result":"HeatPump_Result"):alert(" Please Calculate First")}),zt){const u=document.getElementById("ai_eff_m1"),f=document.getElementById("fluid_m1");u.addEventListener("change",()=>{u.value==="scroll"&&(document.getElementById("eff_isen_m1").value=70,document.getElementById("pr_design_m1").value=3),u.value==="piston"&&(document.getElementById("eff_isen_m1").value=75,document.getElementById("pr_design_m1").value=3.5),u.value==="screw"&&(document.getElementById("eff_isen_m1").value=78,document.getElementById("pr_design_m1").value=3)}),zt.addEventListener("submit",g=>{g.preventDefault(),pl(c)}),f.addEventListener("change",()=>ht(f,document.getElementById("fluid-info-m1"),c))}if(Ht){const u=document.getElementById("ai_eff_m1_co2");u.addEventListener("change",()=>{const g=document.getElementById("eff_isen_peak_m1_co2"),m=document.getElementById("clearance_m1_co2"),E=document.getElementById("pr_design_m1_co2");u.value==="co2_rotary"&&(g.value=.68,m.value=.04,E.value=3.2),u.value==="co2_piston"&&(g.value=.72,m.value=.06,E.value=3.5)}),Pn.addEventListener("click",()=>{const g=parseFloat(document.getElementById("T_gc_out_m1_co2").value);if(!isNaN(g)){const m=2.75*g-6.5;document.getElementById("p_high_m1_co2").value=Math.max(75,m.toFixed(1))}}),document.querySelectorAll('input[name="flow_mode_m1_co2"]').forEach(g=>g.addEventListener("change",()=>{const m=document.querySelector('input[name="flow_mode_m1_co2"]:checked').value;document.getElementById("flow-inputs-rpm-m1_co2").style.display=m==="rpm"?"grid":"none",document.getElementById("flow-inputs-mass-m1_co2").style.display=m==="mass"?"block":"none",document.getElementById("flow-inputs-vol-m1_co2").style.display=m==="vol"?"block":"none"})),Ht.addEventListener("submit",g=>{g.preventDefault(),_l(c)})}if(Ke=document.getElementById("calc-button-2"),wr=document.getElementById("results-2"),Ut=document.getElementById("calc-form-2"),Wt=document.getElementById("print-button-2"),jt=document.getElementById("export-button-2"),Cn=document.getElementById("chart-m2"),Wt&&(Wt.onclick=()=>{if(st){const u=window.open("","_blank");u.document.write(`<html><head><title>Gas Report</title></head><body style="margin:0">${bt(st,"GAS COMPRESSOR REPORT ")}</body></html>`),u.document.close(),setTimeout(()=>u.print(),200)}}),jt&&(jt.onclick=()=>{st&&yt(st,"Gas_Compressor_Result")}),Ut){Ut.addEventListener("submit",f=>{f.preventDefault(),ml(c)});const u=document.getElementById("fluid_m2");u.addEventListener("change",()=>ht(u,document.getElementById("fluid-info-m2"),c))}}let Ye,Vt,qt,br,Er,Lt=null;function $n(c){const u="#0891b2";return`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <!-- Header -->
        <div style="border-bottom: 3px solid ${u}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${u}; line-height: 1;">AIR COMPRESSOR DATASHEET</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Thermodynamic Simulation (Humid Air) </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666; line-height: 1.5;">
                Date: <strong>${c.date}</strong><br>
                Model: <strong>${c.ai_model||"Custom"}</strong>
            </div>
        </div>
        
        <!-- KPI Dashboard -->
        <div style="background: #ecfeff; border: 1px solid #cffafe; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);">
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Shaft Power </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Discharge Temp </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${c.t_out.toFixed(1)} <span style="font-size:14px">C</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">FAD </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${(c.v_flow*3600).toFixed(1)} <span style="font-size:14px">m/h</span></div>
            </div>
        </div>

        <!-- Data Grid -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <!-- Left Column -->
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Inlet Conditions </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Ambient Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_in.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Ambient Temp (DB) </td><td style="text-align: right; font-weight: 600;">${c.t_in.toFixed(2)} C</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Relative Humidity </td><td style="text-align: right; font-weight: 600;">${c.rh_in.toFixed(1)} %</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Humidity Ratio </td><td style="text-align: right; font-weight: 600;">${(c.w_in*1e3).toFixed(2)} g/kg</td></tr>
                </table>

                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Machine Efficiency </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Isentropic Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_is*100).toFixed(1)} %</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Volumetric Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_vol*100).toFixed(1)} %</td></tr>
                </table>
            </div>

            <!-- Right Column -->
            <div>
                 <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Performance Data </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_out.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Pressure Ratio </td><td style="text-align: right; font-weight: 600;">${c.pr.toFixed(2)}</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Mass Flow (Dry) </td><td style="text-align: right; font-weight: 600;">${(c.m_da*3600).toFixed(1)} kg/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Specific Power </td><td style="text-align: right; font-weight: 600;">${c.spec_power.toFixed(2)} kW/(m/min)</td></tr>
                    
                    ${c.q_jacket>0?`
                    <tr style="border-bottom: 1px solid #eee; color:${u};"><td style="padding: 8px 0; font-weight:600;">Jacket Heat Load </td><td style="text-align: right; font-weight: 600;">${c.q_jacket.toFixed(2)} kW</td></tr>
                    `:""}
                    
                    ${c.q_aftercool>0?`
                    <tr style="border-bottom: 1px solid #eee; color:${u};"><td style="padding: 8px 0; font-weight:600;">Aftercooler Load </td><td style="text-align: right; font-weight: 600;">${c.q_aftercool.toFixed(2)} kW</td></tr>
                    `:""}
                </table>

                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #ecfeff; padding-top:5px; padding-bottom:5px;">Cooling System </div>
                <div style="font-size: 13px; padding: 5px; color: #555;">
                    <strong>Method:</strong> ${c.cooling_desc}<br>
                    ${c.cooling_detail?`<span style="color: ${u}; font-weight: 600;">${c.cooling_detail}</span>`:""}
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div style="margin-top: 50px; border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; font-size: 11px; color: #6b7280;">
            <div style="margin-bottom: 5px; font-weight: bold; color: #374151; font-size: 12px;">
                Prepared by Yanrong Jing ()
            </div>
            <div style="margin-bottom: 8px;">
                Oil-Free Compressor Calculator Pro v8.2
            </div>
            <div style="font-style: italic; color: #9ca3af; max-width: 80%; margin: 0 auto; line-height: 1.5;">
                Disclaimer: This simulation report is provided for engineering reference only. 
                Actual performance may vary based on specific mechanical design, manufacturing tolerances, and operating conditions. 
                The author assumes no liability for any errors, omissions, or consequences arising from the use of this data.
            </div>
        </div>
    </div>
    `}function gl(c,u){const f=c.get("flow_mode_m3"),g=parseFloat(c.get("vol_eff_m3")||"100")/100;let m=0,E=0;if(f==="rpm"){const F=parseFloat(c.get("rpm_m3")),T=parseFloat(c.get("vol_disp_m3"))/1e6;E=F/60*T*g,m=E/u}else f==="mass"?(m=parseFloat(c.get("mass_flow_m3")),E=m*u):f==="vol"&&(E=parseFloat(c.get("vol_flow_m3"))/3600,m=E/u);return{m_da:m,v_flow_in:E}}function hl(){const c=document.getElementById("ai_eff_m3"),u=document.getElementById("eff_isen_m3"),f=document.getElementById("vol_eff_m3"),g=document.querySelectorAll('input[name="cooling_type_m3"]');c&&c.addEventListener("change",()=>{const m=c.value;if(!m)return;let E=75,F=90,T="adiabatic";switch(m){case"piston_water":E=72,F=85,T="jacket";break;case"screw_oil_free":E=75,F=92,T="adiabatic";break;case"screw_injected":E=85,F=94,T="injection";break}u&&(u.value=E),f&&(f.value=F),g.length&&g.forEach(I=>{I.value===T&&(I.checked=!0,I.dispatchEvent(new Event("change")))})})}async function yl(c){if(!c){Vt.textContent="CoolProp ";return}Ye.textContent="...",Ye.disabled=!0,setTimeout(()=>{try{const u=new FormData(qt),f=parseFloat(u.get("p_in_m3")),g=parseFloat(u.get("T_in_m3")),m=parseFloat(u.get("RH_in_m3"))/100,E=parseFloat(u.get("p_out_m3")),F=parseFloat(u.get("eff_isen_m3"))/100,T=parseFloat(u.get("vol_eff_m3"))/100,I=u.get("cooling_type_m3"),A=f*1e5,O=g+273.15,M=E*1e5,R=c.HAPropsSI("V","T",O,"P",A,"R",m),L=c.HAPropsSI("H","T",O,"P",A,"R",m),U=c.HAPropsSI("S","T",O,"P",A,"R",m),N=c.HAPropsSI("W","T",O,"P",A,"R",m),{m_da:j,v_flow_in:X}=gl(u,R),H=(c.HAPropsSI("H","P",M,"S",U,"W",N)-L)/F;let x=L+H,ee="Adiabatic (None)",se="",Y=0,v=0;if(I==="jacket"){const ne=parseFloat(u.get("jacket_heat_percent_m3")||15)/100,oe=H*ne;x=L+H-oe,Y=c.HAPropsSI("T","P",M,"H",x,"W",N),v=oe*j/1e3,ee="Jacket Water Cooling ",se=`Heat Removal: ${v.toFixed(2)} kW (${(ne*100).toFixed(0)}%)`}else if(I==="injection"){const ne=parseFloat(u.get("T_inject_m3")||25),le=H*.35;x=L+H-le,Y=c.HAPropsSI("T","P",M,"H",x,"W",N),ee="Liquid Injection ",se=`Injection Temp: ${ne.toFixed(1)}C`}else Y=c.HAPropsSI("T","P",M,"H",x,"W",N),ee="Adiabatic ";let me=0;if(u.get("enable_cooler_calc_m3")==="on"){const ne=parseFloat(u.get("target_temp_m3"))+273.15,oe=c.HAPropsSI("H","T",ne,"P",M,"R",1);me=(x-oe)*j/1e3}const pe=H*j/1e3,q=pe/(X*60);Lt={date:new Date().toLocaleDateString(),ai_model:document.getElementById("ai_eff_m3").options[document.getElementById("ai_eff_m3").selectedIndex].text.split("(")[0].trim(),p_in:f,t_in:g,rh_in:m,w_in:N,p_out:E,t_out:Y-273.15,m_da:j,v_flow:X,eff_is:F,eff_vol:T,pr:E/f,power:pe,spec_power:q,cooling_desc:ee,cooling_detail:se,q_jacket:v,q_aftercool:me},Vt.innerHTML=$n(Lt),Ye.textContent="",Ye.disabled=!1,br.disabled=!1,Er.disabled=!1,br.onclick=()=>{const ne=window.open("","_blank");ne.document.write(`<html><head><title>Air Comp Report</title></head><body style="margin:0; background:#fff;">${$n(Lt)}</body></html>`),ne.document.close(),setTimeout(()=>ne.print(),200)},Er.onclick=()=>yt(Lt,"AirComp_Calc")}catch(u){Vt.textContent="Error: "+u.message,Ye.textContent="",Ye.disabled=!1}},10)}function wl(c){Ye=document.getElementById("calc-button-3"),Vt=document.getElementById("results-3"),qt=document.getElementById("calc-form-3"),br=document.getElementById("print-button-3"),Er=document.getElementById("export-button-3"),qt&&(qt.addEventListener("submit",u=>{u.preventDefault(),yl(c)}),hl())}let Je,xr,Gt,Sr,kr,Rn,hr,Bt=null;function In(c){const u="#7e22ce";return`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <div style="border-bottom: 3px solid ${u}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${u}; line-height: 1;">MVR DATASHEET</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Mechanical Vapor Recompression (Volumetric) </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666; line-height: 1.5;">
                Date: <strong>${c.date}</strong><br>
                Fluid (): <strong>${c.fluid}</strong>
            </div>
        </div>

        <!-- KPI -->
        <div style="background: #faf5ff; border: 1px solid #e9d5ff; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);">
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Injection Water </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${(c.m_water*3600).toFixed(1)} <span style="font-size:14px">kg/h</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Shaft Power </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">COP </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${c.cop.toFixed(2)}</div>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <div>
                 <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #faf5ff; padding-top:5px; padding-bottom:5px;">Process Parameters </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_in.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Temp </td><td style="text-align: right; font-weight: 600;">${c.t_in.toFixed(1)} C</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_out.toFixed(3)} bar</td></tr>
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Sat. Temp Rise </td><td style="text-align: right; font-weight: 600;">${c.dt.toFixed(1)} K</td></tr>
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Sat. Temp Out </td><td style="text-align: right; font-weight: 600;">${c.t_sat_out.toFixed(1)} C</td></tr>
                     <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Temp (Est.) </td><td style="text-align: right; font-weight: 600;">${c.t_out_est.toFixed(1)} C</td></tr>
                </table>
            </div>
            <div>
                 <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #faf5ff; padding-top:5px; padding-bottom:5px;">Machine Data </div>
                 <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Operating Speed </td><td style="text-align: right; font-weight: 600;">${c.rpm?c.rpm+" RPM":"-"}</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Volume Flow </td><td style="text-align: right; font-weight: 600;">${(c.v_flow_in*3600).toFixed(1)} m/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Evaporation Mass Flow </td><td style="text-align: right; font-weight: 600;">${(c.m_flow*3600).toFixed(1)} kg/h</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Isentropic Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_is*100).toFixed(1)} %</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Volumetric Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_vol*100).toFixed(1)} %</td></tr>
                </table>
            </div>
        </div>

        <div style="margin-top: 50px; border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; font-size: 11px; color: #6b7280;">
            <div style="margin-bottom: 5px; font-weight: bold; color: #374151; font-size: 12px;">
                Prepared by Yanrong Jing ()
            </div>
            <div style="margin-bottom: 8px;">
                Oil-Free Compressor Calculator Pro v8.3
            </div>
            <div style="font-style: italic; color: #9ca3af; max-width: 80%; margin: 0 auto; line-height: 1.5;">
                Disclaimer: This simulation report is provided for engineering reference only. 
                Actual performance may vary based on specific mechanical design, manufacturing tolerances, and operating conditions. 
                The author assumes no liability for any errors, omissions, or consequences arising from the use of this data.
            </div>
        </div>
    </div>
    `}function bl(c,u){const f=c.get("flow_mode_m4");let g=0,m=0,E=0;if(f==="rpm"){E=parseFloat(c.get("rpm_m4"));const F=parseFloat(c.get("vol_disp_m4"))/1e6,T=parseFloat(c.get("vol_eff_m4"))/100;m=E/60*F*T,g=m*u}else f==="mass"?(g=parseFloat(c.get("mass_flow_m4"))/3600,m=g/u):f==="vol"&&(m=parseFloat(c.get("vol_flow_m4"))/3600,g=m*u);return{m_flow:g,v_flow_in:m,rpm:E}}function El(){const c=document.getElementById("ai_eff_m4");c&&c.addEventListener("change",()=>{const u=c.value;u==="roots"?(document.getElementById("eff_isen_m4").value=60,document.getElementById("vol_eff_m4").value=75):u==="screw_mvr"&&(document.getElementById("eff_isen_m4").value=75,document.getElementById("vol_eff_m4").value=85)})}async function xl(c){c&&(Je.textContent="...",Je.disabled=!0,setTimeout(()=>{try{const u=new FormData(Gt),f=u.get("fluid_m4"),g=parseFloat(u.get("p_in_m4")),m=parseFloat(u.get("T_in_m4")),E=parseFloat(u.get("delta_T_m4")),F=parseFloat(u.get("eff_isen_m4"))/100,T=parseFloat(u.get("vol_eff_m4"))/100,I=parseFloat(u.get("T_water_in_m4")),A=g*1e5,O=m+273.15,R=c.PropsSI("T","P",A,"Q",1,f)+E,L=c.PropsSI("P","T",R,"Q",1,f),U=c.PropsSI("H","P",A,"T",O,f),N=c.PropsSI("S","P",A,"T",O,f),j=c.PropsSI("D","P",A,"T",O,f),{m_flow:X,v_flow_in:W,rpm:D}=bl(u,j),x=(c.PropsSI("H","P",L,"S",N,f)-U)/F,ee=U+x,se=c.PropsSI("T","P",L,"H",ee,f),Y=c.PropsSI("S","P",L,"H",ee,f),v=x*X/1e3,me=c.PropsSI("H","P",A,"Q",1,f),pe=c.PropsSI("H","P",A,"Q",0,f),q=me-pe,oe=X*q/1e3/v,le=c.PropsSI("H","P",L,"Q",1,f),ve=c.PropsSI("H","T",I+273.15,"P",L,"Water");let Ee=0,ye=se-273.15;const xe=[{name:"1",desc:"Suction ()",p:A,t:O,h:U,s:N},{name:"2",desc:"Discharge Dry ()",p:L,t:se,h:ee,s:Y}];if(ee>le){Ee=X*(ee-le)/(le-ve),ye=R-273.15;const _e=R,G=le,ie=c.PropsSI("S","P",L,"Q",1,f);xe.push({name:"3",desc:"After Injection ()",p:L,t:_e,h:G,s:ie})}Bt={date:new Date().toLocaleDateString(),fluid:f,p_in:g,t_in:m,dt:E,rpm:D,eff_is:F,eff_vol:T,p_out:L/1e5,t_sat_out:R-273.15,t_out_est:ye,power:v,m_water:Ee,m_flow:X,v_flow_in:W,cop:oe},xr.innerHTML=In(Bt),Rn.classList.remove("hidden"),Et(c,f,{points:xe},"chart-m4"),Je.textContent="",Je.disabled=!1,Sr.disabled=!1,kr.disabled=!1,Sr.onclick=()=>{const _e=window.open("","_blank");_e.document.write(`<html><head><title>MVR Report</title></head><body>${In(Bt)}</body></html>`),_e.document.close(),setTimeout(()=>_e.print(),200)},kr.onclick=()=>yt(Bt,"MVR_Volumetric_Calc")}catch(u){xr.textContent=": "+u.message,Je.textContent="",Je.disabled=!1}},10))}function Sl(c){Je=document.getElementById("calc-button-4"),xr=document.getElementById("results-4"),Gt=document.getElementById("calc-form-4"),Sr=document.getElementById("print-button-4"),kr=document.getElementById("export-button-4"),Rn=document.getElementById("chart-m4"),hr=document.getElementById("fluid_m4"),Gt&&(El(),Gt.addEventListener("submit",u=>{u.preventDefault(),xl(c)}),hr.addEventListener("change",()=>ht(hr,document.getElementById("fluid-info-m4"),c)))}let Qe,Fr,Kt,Tr,Pr,Dn,yr,Nt=null;function An(c){const u="#0f766e";return`
    <div style="padding: 30px; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; color: #333; width: 100%; box-sizing: border-box;">
        <!-- Header -->
        <div style="border-bottom: 3px solid ${u}; padding-bottom: 15px; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
                <div style="font-size: 28px; font-weight: 900; color: ${u}; line-height: 1;">MVR TURBO DATASHEET</div>
                <div style="font-size: 14px; color: #666; margin-top: 5px;">Centrifugal Compressor Simulation </div>
            </div>
            <div style="text-align: right; font-size: 12px; color: #666; line-height: 1.5;">
                Date: <strong>${c.date}</strong><br>
                Fluid (): <strong>${c.fluid}</strong>
            </div>
        </div>
        
        <!-- KPI Dashboard -->
        <div style="background: #f0fdfa; border: 1px solid #ccfbf1; padding: 20px; border-radius: 8px; display: flex; justify-content: space-around; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);">
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Evaporation </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${(c.m_flow*3600).toFixed(1)} <span style="font-size:14px">kg/h</span></div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">Impeller Power </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${c.power.toFixed(2)} <span style="font-size:14px">kW</span></div>
            </div>
             <div style="text-align: center;">
                <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px;">COP </div>
                <div style="font-size: 24px; font-weight: 800; color: ${u};">${c.cop.toFixed(2)}</div>
            </div>
        </div>
        
        <!-- Data Grid -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            <!-- Left Column -->
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Suction Conditions </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_in.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Temp </td><td style="text-align: right; font-weight: 600;">${c.t_in.toFixed(1)} C</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Suction Volume Flow </td><td style="text-align: right; font-weight: 600;">${(c.v_flow_in*3600).toFixed(1)} m/h</td></tr>
                </table>

                <div style="font-size: 14px; font-weight: bold; margin-top: 25px; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Efficiency Settings </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Polytropic Eff. </td><td style="text-align: right; font-weight: 600;">${(c.eff_poly*100).toFixed(1)} %</td></tr>
                </table>
            </div>

            <!-- Right Column -->
            <div>
                <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; border-left: 5px solid ${u}; padding-left: 10px; background: #f9fafb; padding-top:5px; padding-bottom:5px;">Discharge & System </div>
                <table style="width: 100%; font-size: 13px; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Temp Lift (Sat) </td><td style="text-align: right; font-weight: 600;">${c.dt.toFixed(1)} K</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Pressure </td><td style="text-align: right; font-weight: 600;">${c.p_out.toFixed(3)} bar</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; color: #555;">Discharge Temp (Est.) </td><td style="text-align: right; font-weight: 600;">${c.t_out.toFixed(1)} C</td></tr>
                    ${c.m_water>0?`<tr style="border-bottom: 1px solid #eee;"><td style="padding: 8px 0; font-weight:600; color:${u};">Injection Water </td><td style="text-align: right; color:${u}; font-weight: 600;">${(c.m_water*3600).toFixed(1)} kg/h</td></tr>`:""}
                </table>
            </div>
        </div>

        <div style="margin-top: 50px; border-top: 1px solid #e5e7eb; padding-top: 20px; text-align: center; font-size: 11px; color: #6b7280;">
            <div style="margin-bottom: 5px; font-weight: bold; color: #374151; font-size: 12px;">
                Prepared by Yanrong Jing ()
            </div>
            <div style="margin-bottom: 8px;">
                Oil-Free Compressor Calculator Pro v8.3
            </div>
            <div style="font-style: italic; color: #9ca3af; max-width: 80%; margin: 0 auto; line-height: 1.5;">
                Disclaimer: This simulation report is provided for engineering reference only. 
                Actual performance may vary based on specific mechanical design, manufacturing tolerances, and operating conditions. 
                The author assumes no liability for any errors, omissions, or consequences arising from the use of this data.
            </div>
        </div>
    </div>
    `}function kl(c,u){const f=c.get("flow_mode_m5");let g=0,m=0;return f==="mass"?(g=parseFloat(c.get("mass_flow_m5"))/3600,m=g/u):f==="vol"&&(m=parseFloat(c.get("vol_flow_m5"))/3600,g=m*u),{m_flow:g,v_flow_in:m}}function Fl(){const c=document.getElementById("ai_eff_m5");c&&c.addEventListener("change",()=>{const u=c.value;u==="fan"&&(document.getElementById("eff_poly_m5").value=75),u==="centrifugal"&&(document.getElementById("eff_poly_m5").value=80),u==="multi_stage"&&(document.getElementById("eff_poly_m5").value=84)})}async function Tl(c){c&&(Qe.textContent="...",Qe.disabled=!0,setTimeout(()=>{try{const u=new FormData(Kt),f=u.get("fluid_m5"),g=parseFloat(u.get("p_in_m5")),m=parseFloat(u.get("T_in_m5")),E=parseFloat(u.get("delta_T_m5")),F=parseFloat(u.get("eff_poly_m5"))/100,T=parseFloat(u.get("T_water_in_m5")),I=g*1e5,A=m+273.15,M=c.PropsSI("T","P",I,"Q",1,f)+E,R=c.PropsSI("P","T",M,"Q",1,f),L=c.PropsSI("H","P",I,"T",A,f),U=c.PropsSI("D","P",I,"T",A,f),N=c.PropsSI("S","P",I,"T",A,f),{m_flow:j,v_flow_in:X}=kl(u,U),H=(c.PropsSI("H","P",R,"S",N,f)-L)/F,x=L+H,ee=c.PropsSI("T","P",R,"H",x,f),se=c.PropsSI("S","P",R,"H",x,f),Y=H*j/1e3,v=c.PropsSI("H","P",I,"Q",1,f),me=c.PropsSI("H","P",I,"Q",0,f),pe=v-me,ne=j*pe/1e3/Y,oe=c.PropsSI("H","P",R,"Q",1,f),le=c.PropsSI("H","T",T+273.15,"P",R,"Water");let ve=0,Ee=ee-273.15;const ye=[{name:"1",desc:"Suction ()",p:I,t:A,h:L,s:N},{name:"2",desc:"Discharge ()",p:R,t:ee,h:x,s:se}];if(x>oe){ve=j*(x-oe)/(oe-le),Ee=M-273.15;const ge=M,_e=oe,G=c.PropsSI("S","P",R,"Q",1,f);ye.push({name:"3",desc:"After Injection ()",p:R,t:ge,h:_e,s:G})}Nt={date:new Date().toLocaleDateString(),fluid:f,p_in:g,t_in:m,m_flow:j,v_flow_in:X,dt:E,eff_poly:F,p_out:R/1e5,power:Y,m_water:ve,cop:ne,t_out:Ee},Fr.innerHTML=An(Nt),Dn.classList.remove("hidden"),Et(c,f,{points:ye},"chart-m5"),Qe.textContent=" MVR",Qe.disabled=!1,Tr.disabled=!1,Pr.disabled=!1,Tr.onclick=()=>{const ge=window.open("","_blank");ge.document.write(`<html><head><title>MVR Turbo Report</title></head><body style="margin:0; background:#fff;">${An(Nt)}</body></html>`),ge.document.close(),setTimeout(()=>ge.print(),200)},Pr.onclick=()=>yt(Nt,"MVR_Turbo_Calc")}catch(u){Fr.textContent=u.message,Qe.textContent="",Qe.disabled=!1}},10))}function Pl(c){Qe=document.getElementById("calc-button-5"),Fr=document.getElementById("results-5"),Kt=document.getElementById("calc-form-5"),Tr=document.getElementById("print-button-5"),Pr=document.getElementById("export-button-5"),Dn=document.getElementById("chart-m5"),yr=document.getElementById("fluid_m5"),Kt&&(Fl(),Kt.addEventListener("submit",u=>{u.preventDefault(),Tl(c)}),yr.addEventListener("change",()=>ht(yr,document.getElementById("fluid-info-m5"),c)))}document.addEventListener("DOMContentLoaded",()=>{const c=[{btn:document.getElementById("tab-btn-1"),content:document.getElementById("tab-content-1")},{btn:document.getElementById("tab-btn-2"),content:document.getElementById("tab-content-2")},{btn:document.getElementById("tab-btn-3"),content:document.getElementById("tab-content-3")},{btn:document.getElementById("tab-btn-4"),content:document.getElementById("tab-content-4")},{btn:document.getElementById("tab-btn-5"),content:document.getElementById("tab-content-5")}];c.forEach(F=>{F.btn&&F.content&&F.btn.addEventListener("click",()=>{c.forEach(T=>{T.btn&&T.content&&(T.btn.classList.remove("active"),T.content.style.display="none",T.content.classList.remove("active"))}),F.btn.classList.add("active"),F.content.style.display="block",F.content.classList.add("active")})});function u(F){const T=document.querySelectorAll(`input[name="flow_mode_${F}"]`);if(!T.length)return;const I=document.getElementById(`flow-inputs-rpm-${F}`),A=document.getElementById(`flow-inputs-mass-${F}`),O=document.getElementById(`flow-inputs-vol-${F}`),M=()=>{const R=document.querySelector(`input[name="flow_mode_${F}"]:checked`);if(!R)return;const L=R.value,U=(N,j)=>{N&&(j?(N.classList.remove("hidden"),N.id.includes("rpm")?N.style.display="grid":N.style.display="block",f(N,!0)):(N.classList.add("hidden"),N.style.display="none",f(N,!1)))};U(I,L==="rpm"),U(A,L==="mass"),U(O,L==="vol")};T.forEach(R=>R.addEventListener("change",M)),M()}function f(F,T){F.querySelectorAll("input").forEach(A=>{A.required=T,A.disabled=!T})}["m1","m1_co2","m2","m3","m4","m5"].forEach(F=>{u(F)});function m(){const F=document.querySelectorAll('input[name="cooling_type_m3"]'),T=document.getElementById("jacket-inputs-m3"),I=document.getElementById("injection-inputs-m3");if(!F.length)return;const A=()=>{const O=document.querySelector('input[name="cooling_type_m3"]:checked');if(!O)return;const M=O.value;if(T){const R=M==="jacket";T.style.display=R?"block":"none",R?T.classList.remove("hidden"):T.classList.add("hidden"),f(T,R)}if(I){const R=M==="injection";I.style.display=R?"block":"none",R?I.classList.remove("hidden"):I.classList.add("hidden"),f(I,R)}};F.forEach(O=>O.addEventListener("change",A)),A()}m();function E(F,T){const I=document.getElementById(F),A=document.getElementById(T);if(!I||!A)return;const O=()=>{const M=I.checked;A.style.display=M?"block":"none",M?A.classList.remove("hidden"):A.classList.add("hidden"),f(A,M)};I.addEventListener("change",O),O()}E("enable_cooler_calc_m2","cooler-inputs-m2"),E("enable_cooler_calc_m3","cooler-inputs-m3")});document.addEventListener("DOMContentLoaded",()=>{const c=[document.getElementById("calc-button-1"),document.getElementById("calc-button-2"),document.getElementById("calc-button-3"),document.getElementById("calc-button-4"),document.getElementById("calc-button-5")],u=[{select:document.getElementById("fluid_m1"),info:document.getElementById("fluid-info-m1")},{select:document.getElementById("fluid_m2"),info:document.getElementById("fluid-info-m2")},{select:document.getElementById("fluid_m4"),info:document.getElementById("fluid-info-m4")},{select:document.getElementById("fluid_m5"),info:document.getElementById("fluid-info-m5")}],f={"calc-button-1":" ()","calc-button-2":" ()","calc-button-3":" ()","calc-button-4":" (MVR )","calc-button-5":" (MVR )"};fl().then(g=>{console.log("CoolProp loaded successfully."),vl(g),wl(g),Sl(g),Pl(g),c.forEach(m=>{m&&(m.textContent=f[m.id]||"",m.disabled=!1)}),u.forEach(m=>{m.select&&m.info&&ht(m.select,m.info,g)})}).catch(g=>{console.error("Failed to load CoolProp:",g);const m=`: ${g.message}`;c.forEach(E=>{E&&(E.textContent="",E.disabled=!0)}),u.forEach(E=>{E.info&&(E.info.textContent=m)})})});
